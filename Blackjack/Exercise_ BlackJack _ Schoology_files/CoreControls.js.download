(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):
n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},
j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?
n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),
j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==
t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,
t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=
c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+
r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&
n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");
return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,
u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=
n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=
j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t=
{},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==
t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==
t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||
j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==
typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=
function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?
r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,
r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+
"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;
return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&this.validate&&!this._performValidation(a,b))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&!b.silent&&this._changed&&this.change(b);this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&this.validate&&!this._performValidation(c,b))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&this.validate&&!this._performValidation(d,a))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||this.urlRoot||l();if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&!a._performValidation(c,b)&&(a=!1)}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!b?
g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!b)this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&this._hasPushState&&b&&a.hash)this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},
navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=function(a){this.cid=
f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);return a},delegateEvents:function(a){if(a||
(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&b&&(a=="create"||a=="update"))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||xhr.status>=200&&
xhr.status<300||xhr.status==304||xhr.status==1223||browser.safari&&xhr.status==undefined}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;
while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};exports.$log=exports.$out=function(){Array.prototype.forEach.call(arguments,function(e){console.log(e)})};var ie=function(){var ua=navigator.userAgent.toLowerCase();
var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;var ieWebView=function(){return exports.utils.ie&&exports.navigator.userAgent.toLowerCase().indexOf("webview")>-1}();exports.utils.ieWebView=ieWebView;var ieWebViewLocal=function(){return exports.utils.ieWebView&&window.location.href.indexOf("ms-appx-web://")===0}();exports.utils.ieWebViewLocal=ieWebViewLocal;exports.utils.isEdge=navigator.userAgent.match(/Edge/i)?
true:false;exports.busyLoop=function(step,finished,sync){var start=Date.now();function nextSlice(){while(step())if(Date.now()-start>100&&!sync){start=Date.now();setTimeout(nextSlice,0);return}finished()}nextSlice()};exports.utils.mouseUpEventBug=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?true:false;exports.utils.isChrome=function(){var opera=window.navigator.userAgent.match(/OPR/);var maxthon=window.navigator.userAgent.match(/Maxthon/);var edge=window.navigator.userAgent.match(/Edge/);return window.navigator.userAgent.match(/Chrome\/(.*?) /)&&
!opera&&!maxthon&&!edge}();var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);return match?parseInt(match[1],10):match}();exports.utils.chromeHasSubzero=exports.utils.isChrome&&chromeVersion>=51;exports.utils.disableFormCharacterProcessing=window.navigator.userAgent.indexOf("Android")>-1;var multiplierOverride;var getCanvasMultiplier=function(){var ua=exports.navigator.userAgent.toLowerCase();var isWindowsChromeWithIssue=ua.indexOf("chrome")>-1&&ua.indexOf("windows")>
-1&&chromeVersion<37;var oversampleLimit=1024*1024;return function(width,height,zoom){if(!_.isUndefined(multiplierOverride))return multiplierOverride;var oversampleForChrome=isWindowsChromeWithIssue&&width*height<oversampleLimit&&zoom<=1.5;return oversampleForChrome?2:window.devicePixelRatio||1}}();exports.utils.getCanvasMultiplier=getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=function(){multiplierOverride=undefined};
if(window.CanvasPixelArray)window.CanvasPixelArray.prototype.set=function(arr){var l=this.length,i=0;for(;i<l;i+=4){this[i]=arr[i];this[i+1]=arr[i+1];this[i+2]=arr[i+2];this[i+3]=255}};if(!window.Uint8ClampedArray)window.Uint8ClampedArray=window.Uint8Array;var canvasClipBug=function(){function basicClipIssue(){var canvas=document.createElement("canvas");canvas.style.width="1px";canvas.style.height="1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();
ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,0,1,1).data[0];return val===255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";var ctx=canvas.getContext("2d");ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,5,5);ctx.clearRect(0,0,5,5);var val=ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();
exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=new exports.Uint8Array(new ArrayBuffer(1));String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=typedArrayApply;if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=function(namespaceURI,qualifiedName){var dummy=this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");
var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml","body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");attr.nodeValue="2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/",
"xfa:APIVersion");attr.nodeValue="Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>0&&actual.indexOf(' xfa:spec="2.0.2"')>0&&actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>0}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml",
"xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();window.matchMedia||(window.matchMedia=function(){var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";
script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet)style.styleSheet.cssText=text;else style.textContent=text;return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return false;
var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,isListening=false,timeoutID=0,queries=[],handleChange=function(){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++)listeners[j].call(window,mql)}}},30)};window.matchMedia=function(media){var mql=
localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries)return;if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===0)index=queries.push({mql:mql,listeners:listeners});listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++)if(listeners[i]===listener)listeners.splice(i,1)};return mql}})();exports.utils.specialBlendSupportedTest=function(){var canvas=document.createElement("canvas");
canvas.width=1;canvas.height=1;var ctx=canvas.getContext("2d");ctx.fillStyle="#000";ctx.fillRect(0,0,1,1);ctx.globalCompositeOperation="multiply";ctx.fillStyle="#fff";ctx.fillRect(0,0,1,1);var result=ctx.getImageData(0,0,1,1).data[0]===0;exports.utils.specialBlendSupported=result;return result}();var vendors=["webkit","moz"];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"];window.cancelAnimationFrame=
window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)};window.cancelAnimationFrame=clearTimeout}exports.utils.hasClass=function(element,cls){return(" "+element.className+
" ").indexOf(" "+cls+" ")>-1};exports.utils.eventHandler={on:function(event,handler){this.applyWithArgs($(this).on,arguments);return this},off:function(event,handler){this.applyWithArgs($(this).off,arguments);return this},trigger:function(event,params){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))}};exports.utils.isEditableElement=function(ele){return ele.is("input:text")||ele.is("textarea")};
var debug=exports._trnDebugMode;var warn=function(msg){if(debug)console.warn(msg)};var log=function(msg){if(debug)console.log(msg)};var error=function(msg){if(debug)console.error(msg);throw new Error(msg);};exports.utils.warn=warn;exports.utils.log=log;exports.utils.error=error;if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};var arrprint=function(array,msg){var str="[";for(var i=0;i<array.length;i++){str+=array[i];if(i>=array.length-1)break;str+=", "}str+=
"]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&_.isArray(variable)&&varname.length===variable.length){var varlist="";for(var i=0;i<varname.length;i++)varlist=varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=logvar;var fCmp=function(f1,f2){var eps=1E-6;return Math.abs(f1-f2)<eps};exports.utils.fCmp=fCmp;var documentReady=function(callback){if(document.readyState===
"complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties==="undefined"){Object.defineProperty=function(prototype,name,property){if(property.get)prototype.__defineGetter__(name,property.get);if(property.set)prototype.__defineSetter__(name,
property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=properties[name];Object.defineProperty(prototype,name,property)}}}var canvasProto=CanvasRenderingContext2D.prototype;Object.defineProperties(canvasProto,{w:{set:function(val){this.lineWidth=val}},c:{set:function(val){this.lineCap=val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=val}},a:{set:function(val){this.globalAlpha=
val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}},g:{set:function(val){this.globalCompositeOperation=val}}});_(canvasProto).extend({S:function(){if(typeof this.saves==="undefined")this.saves=0;this.saves++;this.save()},r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,L:canvasProto.createLinearGradient,R:canvasProto.createRadialGradient,P:canvasProto.createPattern,b:canvasProto.beginPath,
z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,q:canvasProto.quadraticCurveTo,B:canvasProto.bezierCurveTo,x:canvasProto.fillText,fillTextCustom:function(text,x,y){},xc:function(text,x,y){},tm:function(mapping){},cgb:function(){},cge:function(){},xw:function(text,x,y,skip_last){this.fillText(text,x,y)},xcw:function(text,x,y,skip_last){},I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,
arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale});Object.defineProperty(TextMetrics.prototype,"W",{get:function(){return this.width}});var CanvasGradientPrototype;if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=CanvasGradient.prototype;_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});
exports.utils.isRectIntersecting=function(rect1,rect2){if(rect1.x1<=rect2.x2&&rect1.x2>=rect2.x1&&rect1.y1<=rect2.y2&&rect1.y2>=rect2.y1)return true;return false};exports.utils.getRectIntersection=function(rect1,rect2){var rect={x1:0,y1:0,x2:0,y2:0};if(exports.utils.isRectIntersecting(rect1,rect2)===true){rect.x1=Math.max(rect1.x1,rect2.x1);rect.y1=Math.max(rect1.y1,rect2.y1);rect.x2=Math.min(rect1.x2,rect2.x2);rect.y2=Math.min(rect1.y2,rect2.y2)}return rect};exports.utils.normalizeRect=function(pt1,
pt2){var x1=pt1.x;var x2=pt2.x;var y1=pt1.y;var y2=pt2.y;if(pt1.x>pt2.x){x2=pt1.x;x1=pt2.x}if(pt1.y>pt2.y){y2=pt1.y;y1=pt2.y}return{x1:x1,y1:y1,x2:x2,y2:y2}};exports.utils.getRotationOffsets=function(rotation,w,h){var dx=0,dy=0;rotation=Number(rotation);switch(rotation){case 90:dy=w;break;case 180:dx=w;dy=h;break;case 270:dx=h;break}return{dx:dx,dy:dy}};exports.json2xml=function(o,tab){var toXml=function(v,name,ind){var xml="";if(v instanceof Array)for(var i=0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],
name,ind+"\t")+"\n";else if(typeof v=="object"){var hasChild=false;xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?">":"/>";if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+="<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+name+">"}}else xml+=ind+"<"+name+">"+v.toString()+"</"+name+">";return xml},xml="";for(var m in o)xml+=
toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"")};exports.xml2json=function(xml,tab){var X={toObj:function(xml){var o={};if(xml.nodeType==1){if(xml.attributes.length)for(var i=0;i<xml.attributes.length;i++)o["@"+xml.attributes[i].nodeName]=(xml.attributes[i].nodeValue||"").toString();if(xml.firstChild){var textChild=0,cdataChild=0,hasElementChild=false;for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==1)hasElementChild=true;else if(n.nodeType==3&&n.nodeValue.match(/[^ \f\n\r\t\v]/))textChild++;
else if(n.nodeType==4)cdataChild++;if(hasElementChild)if(textChild<2&&cdataChild<2){X.removeWhite(xml);for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==3)o["#text"]=X.escape(n.nodeValue);else if(n.nodeType==4)o["#cdata"]=X.escape(n.nodeValue);else if(o[n.nodeName])if(o[n.nodeName]instanceof Array)o[n.nodeName][o[n.nodeName].length]=X.toObj(n);else o[n.nodeName]=[o[n.nodeName],X.toObj(n)];else o[n.nodeName]=X.toObj(n)}else if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=
X.escape(X.innerXml(xml));else if(textChild)if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(cdataChild)if(cdataChild>1)o=X.escape(X.innerXml(xml));else for(var n=xml.firstChild;n;n=n.nextSibling)o["#cdata"]=X.escape(n.nodeValue)}if(!xml.attributes.length&&!xml.firstChild)o=null}else if(xml.nodeType==9)o=X.toObj(xml.documentElement);else alert("unhandled node type: "+xml.nodeType);return o},toJson:function(o,name,ind){var json=name?'"'+name+'"':
"";if(o instanceof Array){for(var i=0,n=o.length;i<n;i++)o[i]=X.toJson(o[i],"",ind+"\t");json+=(name?":[":"[")+(o.length>1?"\n"+ind+"\t"+o.join(",\n"+ind+"\t")+"\n"+ind:o.join(""))+"]"}else if(o==null)json+=(name&&":")+"null";else if(typeof o=="object"){var arr=[];for(var m in o)arr[arr.length]=X.toJson(o[m],m,ind+"\t");json+=(name?":{":"{")+(arr.length>1?"\n"+ind+"\t"+arr.join(",\n"+ind+"\t")+"\n"+ind:arr.join(""))+"}"}else if(typeof o=="string")json+=(name&&":")+'"'+o.toString()+'"';else json+=
(name&&":")+o.toString();return json},innerXml:function(node){var s="";if("innerHTML"in node)s=node.innerHTML;else{var asXml=function(n){var s="";if(n.nodeType==1){s+="<"+n.nodeName;for(var i=0;i<n.attributes.length;i++)s+=" "+n.attributes[i].nodeName+'="'+(n.attributes[i].nodeValue||"").toString()+'"';if(n.firstChild){s+=">";for(var c=n.firstChild;c;c=c.nextSibling)s+=asXml(c);s+="</"+n.nodeName+">"}else s+="/>"}else if(n.nodeType==3)s+=n.nodeValue;else if(n.nodeType==4)s+="<![CDATA["+n.nodeValue+
"]]\x3e";return s};for(var c=node.firstChild;c;c=c.nextSibling)s+=asXml(c)}return s},escape:function(txt){return txt.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var n=e.firstChild;n;)if(n.nodeType==3)if(!n.nodeValue.match(/[^ \f\n\r\t\v]/)){var nxt=n.nextSibling;e.removeChild(n);n=nxt}else n=n.nextSibling;else if(n.nodeType==1){X.removeWhite(n);n=n.nextSibling}else n=n.nextSibling;return e}};if(xml.nodeType==
9)xml=xml.documentElement;var json=X.toJson(X.toObj(X.removeWhite(xml)),xml.nodeName,"\t");return"{\n"+tab+(tab?json.replace(/\t/g,tab):json.replace(/\t|\n/g,""))+"\n}"}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:window.ActiveXObject?function(){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;a.loadXML(this.flush());
return a}:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();function X2JS(){var VERSION="1.0.5";var DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9};function getNodeLocalName(node){var nodeLocalName=node.localName;if(nodeLocalName==null)nodeLocalName=node.baseName;if(nodeLocalName==null||nodeLocalName=="")nodeLocalName=node.nodeName;return nodeLocalName}function getNodePrefix(node){return node.prefix}function parseDOMChildren(node){if(node.nodeType==DOMNodeTypes.DOCUMENT_NODE){var result=new Object;var child=node.getElementsByTagName("xfdf")[0];var childName=
"xfdf";result[childName]=parseDOMChildren(child);return result}else if(node.nodeType==DOMNodeTypes.ELEMENT_NODE){var result=new Object;result.__cnt=0;var nodeChildren=node.childNodes;for(var cidx=0;cidx<nodeChildren.length;cidx++){var child=nodeChildren.item(cidx);var childName=getNodeLocalName(child);result.__cnt++;var childJsonObj=parseDOMChildren(child);if(result[childName]==null)result[childName]=childJsonObj;else{if(result[childName]!=null)if(!(result[childName]instanceof Array)){var tmpObj=
result[childName];result[childName]=new Array;result[childName][0]=tmpObj}var aridx=0;while(result[childName][aridx]!=null)aridx++;result[childName][aridx]=childJsonObj}if(result["__children"]==null)result["__children"]=new Array;result["__children"].push({"key":childName,"value":childJsonObj})}for(var aidx=0;aidx<node.attributes.length;aidx++){var attr=node.attributes.item(aidx);result.__cnt++;result["_"+attr.name]=attr.value}var nodePrefix=getNodePrefix(node);if(nodePrefix!=null&&nodePrefix!=""){result.__cnt++;
result.__prefix=nodePrefix}if(result.__cnt==1&&result["#text"]!=null)result=result["#text"];if(result["#text"]!=null){result.__text=result["#text"];result["#text"]=null;result.toString=function(){return this.__text}}return result}else if(node.nodeType==DOMNodeTypes.TEXT_NODE)return node.nodeValue}function startTag(jsonObj,element,attrList,closed){var resultStr="<"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+element;if(attrList!=null)for(var aidx=0;aidx<attrList.length;aidx++){var attrName=attrList[aidx];
var attrVal=jsonObj[attrName];resultStr+=" "+attrName.substr(1)+"='"+attrVal+"'"}if(!closed)resultStr+=">";else resultStr+="/>";return resultStr}function endTag(jsonObj,elementName){return"</"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+elementName+">\n"}function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}function parseJSONTextObject(jsonTxtObj){var result="";if(jsonTxtObj.__text!=null)result+=jsonTxtObj.__text;else result+=jsonTxtObj.toString();return result}
function parseJSONObject(jsonObj){var result="";for(var it in jsonObj){if(endsWith(it.toString(),"_asArray")||it.toString().indexOf("_")==0)continue;var subObj=jsonObj[it];if(typeof subObj=="function"||subObj==null)continue;var attrList=[];for(var ait in subObj)if(ait.toString().indexOf("__")==-1&&ait.toString().indexOf("_")==0)attrList.push(ait);if(subObj!=null&&subObj instanceof Object&&subObj.__text==null)if(subObj instanceof Array){var arrayOfObjects=true;if(subObj.length>0)arrayOfObjects=subObj[0]instanceof
Object;else result+=startTag(subObj,it,attrList,true);for(var arIdx=0;arIdx<subObj.length;arIdx++)if(arrayOfObjects)result+=parseJSONObject(subObj[arIdx]);else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj[arIdx]);result+=endTag(subObj,it)}}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONObject(subObj);result+=endTag(subObj,it)}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj);result+=endTag(subObj,it)}}return result}
this.parseXmlString=function(xmlDocStr){var xmlDoc;if(window.DOMParser){var parser=new DOMParser;xmlDoc=parser.parseFromString(xmlDocStr,"text/xml")}else{if(xmlDocStr.indexOf("<?")==0)xmlDocStr=xmlDocStr.substr(xmlDocStr.indexOf("?>")+2);xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlDocStr)}return xmlDoc};this.xml2json=function(xmlDoc){return parseDOMChildren(xmlDoc)};this.xml_str2json=function(xmlDocStr){var xmlDoc=this.parseXmlString(xmlDocStr);return this.xml2json(xmlDoc)};
this.json2xml_str=function(jsonObj){return parseJSONObject(jsonObj)};this.json2xml=function(jsonObj){var xmlDocStr=this.json2xml_str(jsonObj);return this.parseXmlString(xmlDocStr)}}var x2js=new X2JS;var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode)}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}window.indexedDB=window.indexedDB||
window.webkitIndexedDB||window.mozIndexedDB||window.oIndexedDB||window.msIndexedDB;if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}})(window,idbModules);function createPromiseCapability(){var capability={};capability.promise=new Promise(function(resolve,reject){capability.resolve=resolve;capability.reject=reject});return capability}
(function PromiseClosure(exports){if(exports.Promise){if(typeof exports.Promise.all!=="function")exports.Promise.all=function(iterable){var count=0,results=[],resolve,reject;var promise=new exports.Promise(function(resolve_,reject_){resolve=resolve_;reject=reject_});iterable.forEach(function(p,i){count++;p.then(function(result){results[i]=result;count--;if(count===0)resolve(results)},reject)});if(count===0)resolve(results);return promise};if(typeof exports.Promise.resolve!=="function")exports.Promise.resolve=
function(value){return new exports.Promise(function(resolve){resolve(value)})};if(typeof exports.Promise.reject!=="function")exports.Promise.reject=function(reason){return new exports.Promise(function(resolve,reject){reject(reason)})};if(typeof exports.Promise.prototype["catch"]!=="function")exports.Promise.prototype["catch"]=function(onReject){return exports.Promise.prototype.then(undefined,onReject)};return}var STATUS_PENDING=0;var STATUS_RESOLVED=1;var STATUS_REJECTED=2;var REJECTION_TIMEOUT=500;
var asap=typeof setImmediate==="function"&&setImmediate||function(fn){setTimeout(fn,1)};var HandlerManager={handlers:[],running:false,unhandledRejections:[],pendingRejectionCheck:false,scheduleHandlers:function scheduleHandlers(promise){if(promise._status===STATUS_PENDING)return;this.handlers=this.handlers.concat(promise._handlers);promise._handlers=[];if(this.running)return;this.running=true;asap(this.runHandlers.bind(this),0)},runHandlers:function runHandlers(){var RUN_TIMEOUT=1;var timeoutAt=Date.now()+
RUN_TIMEOUT;while(this.handlers.length>0){var handler=this.handlers.shift();var nextStatus=handler.thisPromise._status;var nextValue=handler.thisPromise._value;try{if(nextStatus===STATUS_RESOLVED){if(typeof handler.onResolve==="function")nextValue=handler.onResolve(nextValue)}else if(typeof handler.onReject==="function"){nextValue=handler.onReject(nextValue);nextStatus=STATUS_RESOLVED;if(handler.thisPromise._unhandledRejection)this.removeUnhandeledRejection(handler.thisPromise)}}catch(ex){nextStatus=
STATUS_REJECTED;nextValue=ex}handler.nextPromise._updateStatus(nextStatus,nextValue);if(Date.now()>=timeoutAt)break}if(this.handlers.length>0){asap(this.runHandlers.bind(this),0);return}this.running=false},addUnhandledRejection:function addUnhandledRejection(promise){this.unhandledRejections.push({promise:promise,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function removeUnhandeledRejection(promise){promise._unhandledRejection=false;for(var i=0;i<this.unhandledRejections.length;i++)if(this.unhandledRejections[i].promise===
promise){this.unhandledRejections.splice(i);i--}},scheduleRejectionCheck:function scheduleRejectionCheck(){if(this.pendingRejectionCheck)return;this.pendingRejectionCheck=true;setTimeout(function rejectionCheck(){this.pendingRejectionCheck=false;var now=Date.now();for(var i=0;i<this.unhandledRejections.length;i++)if(now-this.unhandledRejections[i].time>REJECTION_TIMEOUT){var unhandled=this.unhandledRejections[i].promise._value;var msg="Unhandled rejection: "+unhandled;if(unhandled.stack)msg+="\n"+
unhandled.stack;warn(msg);this.unhandledRejections.splice(i);i--}if(this.unhandledRejections.length)this.scheduleRejectionCheck()}.bind(this),REJECTION_TIMEOUT)}};function Promise(resolver){this._status=STATUS_PENDING;this._handlers=[];try{resolver.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}Promise.all=function Promise_all(promises){var resolveAll,rejectAll;var deferred=new Promise(function(resolve,reject){resolveAll=resolve;rejectAll=reject});var unresolved=
promises.length;var results=[];if(unresolved===0){resolveAll(results);return deferred}function reject(reason){if(deferred._status===STATUS_REJECTED)return;results=[];rejectAll(reason)}for(var i=0,ii=promises.length;i<ii;++i){var promise=promises[i];var resolve=function(i){return function(value){if(deferred._status===STATUS_REJECTED)return;results[i]=value;unresolved--;if(unresolved===0)resolveAll(results)}}(i);if(Promise.isPromise(promise))promise.then(resolve,reject);else resolve(promise)}return deferred};
Promise.isPromise=function Promise_isPromise(value){return value&&typeof value.then==="function"};Promise.resolve=function Promise_resolve(value){return new Promise(function(resolve){resolve(value)})};Promise.reject=function Promise_reject(reason){return new Promise(function(resolve,reject){reject(reason)})};Promise.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function Promise__updateStatus(status,value){if(this._status===STATUS_RESOLVED||this._status===
STATUS_REJECTED)return;if(status===STATUS_RESOLVED&&Promise.isPromise(value)){value.then(this._updateStatus.bind(this,STATUS_RESOLVED),this._updateStatus.bind(this,STATUS_REJECTED));return}this._status=status;this._value=value;if(status===STATUS_REJECTED&&this._handlers.length===0){this._unhandledRejection=true;HandlerManager.addUnhandledRejection(this)}HandlerManager.scheduleHandlers(this)},_resolve:function Promise_resolve(value){this._updateStatus(STATUS_RESOLVED,value)},_reject:function Promise_reject(reason){this._updateStatus(STATUS_REJECTED,
reason)},then:function Promise_then(onResolve,onReject){var nextPromise=new Promise(function(resolve,reject){this.resolve=resolve;this.reject=reject});this._handlers.push({thisPromise:this,onResolve:onResolve,onReject:onReject,nextPromise:nextPromise});HandlerManager.scheduleHandlers(this);return nextPromise},"catch":function Promise_catch(onReject){return this.then(undefined,onReject)}};exports.Promise=Promise})(typeof window==="undefined"?this:window);(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||key.length==24||key.length==32))key=forge.util.createBuffer(key);
else if(key.constructor==Array&&(key.length==16||key.length==24||key.length==32)){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||len==24||len==32){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||key.length==6||key.length==8)){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;var _output;var _inBlock;var _outBlock;
var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=0;i<Nb;++i)_output.putInt32(_outBlock[i]);
_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};cipher.start=
function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);_outBlock=
new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null)object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&i<len&&typeof object==="object"&&
object!==null){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||typeof object[next]!=="object"||object[next]===null)break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function a(e,t){if(!t||typeof t=="function")return e;for(var n in t)e[n]=t[n];return e}function f(e,t,n){var r,i=0,s=e.length,o=s===undefined||typeof e=="function";if(n)if(o)for(r in e){if(t.apply(e[r],n)===!1)break}else for(;i<s;){if(t.apply(e[i++],n)===!1)break}else if(o)for(r in e){if(t.call(e[r],r,e[r])===!1)break}else for(;i<s;)if(t.call(e[i],i,e[i++])===!1)break;return e}function l(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,
new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):
(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},i=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var n="",i,s,o,u,a,f,l,c=0;do i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),n+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l),i=s=o="",u=a=f=l="";while(c<e.length);return n},s=function(){var e=arguments[0];
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},o=function(e,r,i,u){typeof i=="function"&&(u=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1,i.async=i.async===undefined?!0:i.async;var a=s({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},o.headers,i.headers),f;a["content-type"]==="application/json"?f=JSON.stringify(i.data):f=n(i.data);if(e==="GET"){var l=[];f&&(l.push(f),
f=null),i.cache||l.push("_="+(new Date).getTime()),i.jsonp&&(l.push("callback="+i.jsonp),l.push("jsonp="+i.jsonp)),l=l.join("&"),l.length>1&&(r.indexOf("?")>-1?r+="&"+l:r+="?"+l);if(i.jsonp){var c=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.src=r,c.appendChild(h);return}}t(function(t,n){if(t)return u(t);n.open(e,r,i.async);for(var s in a)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s]);n.onreadystatechange=function(){if(n.readyState===4){var e=
n.responseText||"";if(!u)return;u(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(f)})},u={authBasic:function(e,t){o.headers.Authorization="Basic "+i(e+":"+t)},connect:function(e,t,n){return o("CONNECT",e,t,n)},del:function(e,t,n){return o("DELETE",e,t,n)},get:function(e,t,n){return o("GET",e,t,n)},head:function(e,t,n){return o("HEAD",e,t,n)},headers:function(e){o.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},
options:function(e,t,n){return o("OPTIONS",e,t,n)},patch:function(e,t,n){return o("PATCH",e,t,n)},post:function(e,t,n){return o("POST",e,t,n)},put:function(e,t,n){return o("PUT",e,t,n)},trace:function(e,t,n){return o("TRACE",e,t,n)}},a=e.type?e.type.toLowerCase():"get";u[a](e.url,e,function(t,n){t===200?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function d(e,s){typeof e=="function"&&(s=e,e={}),e=e||{},p.extend(u,e),typeof u.ns=="string"&&(u.ns={namespaces:[u.ns],defaultNs:u.ns}),u.interpolationPrefixEscaped=
p.regexEscape(u.interpolationPrefix),u.interpolationSuffixEscaped=p.regexEscape(u.interpolationSuffix),u.lng||(u.lng=p.detectLanguage()),u.lng?u.useCookie&&p.cookie.create(u.cookieName,u.lng,u.cookieExpirationTime):(u.lng=u.fallbackLng,u.useCookie&&p.cookie.remove(u.cookieName)),o=p.toLanguages(u.lng),i=o[0],p.log("currentLng set to: "+i),_.setCurrentLng(i),t&&u.setJqueryExt&&S();var a;t&&t.Deferred&&(a=t.Deferred());if(u.resStore){r=u.resStore,s&&s(L),a&&a.resolve();if(a)return a.promise();return}var f=
p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var l=0,c=u.preload.length;l<c;l++){var h=p.toLanguages(u.preload[l]);for(var d=0,v=h.length;d<v;d++)f.indexOf(h[d])<0&&f.push(h[d])}n.sync.load(f,u,function(e,t){r=t,s&&s(L),a&&a.resolve()});if(a)return a.promise()}function v(e,t){typeof e=="string"&&(e=[e]);for(var n=0,r=e.length;n<r;n++)u.preload.indexOf(e[n])<0&&u.preload.push(e[n]);return d(t)}function m(e,t,n){typeof t!="string"&&(n=t,t=u.ns.defaultNs),r[e]=r[e]||{},
r[e][t]=r[e][t]||{},p.extend(r[e][t],n)}function g(e){u.ns.defaultNs=e}function y(e,t){b([e],t)}function b(e,t){var i={dynamicLoad:u.dynamicLoad,resGetPath:u.resGetPath,getAsync:u.getAsync,ns:{namespaces:e,defaultNs:""}},s=p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var o=0,a=u.preload.length;o<a;o++){var f=p.toLanguages(u.preload[o]);for(var l=0,c=f.length;l<c;l++)s.indexOf(f[l])<0&&s.push(f[l])}var h=[];for(var d=0,v=s.length;d<v;d++){var m=!1,g=r[s[d]];if(g)for(var y=
0,b=e.length;y<b;y++)g[e[y]]||(m=!0);else m=!0;m&&h.push(s[d])}h.length?n.sync._fetch(h,i,function(i,s){var o=e.length*h.length;p.each(e,function(e,i){p.each(h,function(e,a){r[a]=r[a]||{},r[a][i]=s[a][i],o--,o===0&&t&&(u.useLocalStorage&&n.sync._storeLocal(r),t())})})}):t&&t()}function w(e,t){return d({lng:e},t)}function E(){return i}function S(){function e(e,n,r){if(n.length===0)return;var i="text";if(n.indexOf("[")===0){var s=n.split("]");n=s[1],i=s[0].substr(1,s[0].length-1)}n.indexOf(";")===n.length-
1&&(n=n.substr(0,n.length-2));var o;i==="html"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.html(t.t(n,o))):i==="text"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.text()},r):r,e.text(t.t(n,o))):(o=u.defaultValueFromContent?t.extend({defaultValue:e.attr(i)},r):r,e.attr(i,t.t(n,o)))}function n(n,r){var i=n.attr(u.selectorAttr);if(!i)return;var s=n,o=n.data("i18n-target");o&&(s=n.find(o)||n),!r&&u.useDataAttrOptions===!0&&(r=n.data("i18n-options")),r=r||{};if(i.indexOf(";")<=
i.length-1){var a=i.split(";");t.each(a,function(t,n){e(s,n,r)})}else e(s,k,r);u.useDataAttrOptions===!0&&n.data("i18n-options",r)}t.t=t.t||L,t.fn.i18n=function(e){return this.each(function(){n(t(this),e);var r=t(this).find("["+u.selectorAttr+"]");r.each(function(){n(t(this),e)})})}}function x(e,t,n,r){r=r||t;if(e.indexOf(r.interpolationPrefix||u.interpolationPrefix)<0)return e;var i=r.interpolationPrefix?p.regexEscape(r.interpolationPrefix):u.interpolationPrefixEscaped,s=r.interpolationSuffix?p.regexEscape(r.interpolationSuffix):
u.interpolationSuffixEscaped;return p.each(t,function(t,o){typeof o=="object"&&o!==null?e=x(e,o,n?n+u.keyseparator+t:t,r):e=e.replace(new RegExp([i,n?n+u.keyseparator+t:t,s].join(""),"g"),o)}),e}function T(e,t){var n=",",r="{",i="}",o=p.extend({},t);delete o.postProcess;while(e.indexOf(u.reusePrefix)!=-1){s++;if(s>u.maxRecursion)break;var a=e.indexOf(u.reusePrefix),f=e.indexOf(u.reuseSuffix,a)+u.reuseSuffix.length,l=e.substring(a,f),c=l.replace(u.reusePrefix,"").replace(u.reuseSuffix,"");if(c.indexOf(n)!=
-1){var h=c.indexOf(n);if(c.indexOf(r,h)!=-1&&c.indexOf(i,h)!=-1){var d=c.indexOf(r,h),v=c.indexOf(i,d)+i.length;try{o=p.extend(o,JSON.parse(c.substring(d,v))),c=c.substring(0,h)}catch(m){}}}var g=A(c,o);e=e.replace(l,g)}return e}function N(e){return e.context&&typeof e.context=="string"}function C(e){return e.count!==undefined&&typeof e.count!="string"&&e.count!==1}function L(e,t){return s=0,A(e,t)}function A(e,t){t=t||{};if(!r)return f;var s,a,f=t.defaultValue||e,l=o;if(t.lng){l=p.toLanguages(t.lng);
if(!r[l[0]]){var c=u.getAsync;u.getAsync=!1,n.sync.load(l,u,function(e,t){p.extend(r,t),u.getAsync=c})}}var h=t.ns||u.ns.defaultNs;if(e.indexOf(u.nsseparator)>-1){var d=e.split(u.nsseparator);h=d[0],e=d[1]}if(N(t)){s=p.extend({},t),delete s.context,s.defaultValue=u.contextNotFound;var v=h+u.nsseparator+e+"_"+t.context;a=L(v,s);if(a!=u.contextNotFound)return x(a,{context:t.context})}if(C(t)){s=p.extend({},t),delete s.count,s.defaultValue=u.pluralNotFound;var m=h+u.nsseparator+e+u.pluralSuffix,g=_.get(i,
t.count);g>=0?m=m+"_"+g:g===1&&(m=h+u.nsseparator+e),a=L(m,s);if(a!=u.pluralNotFound)return x(a,{count:t.count})}var y,b=e.split(u.keyseparator);for(var w=0,E=l.length;w<E;w++){if(y)break;var S=l[w],k=0,O=r[S]&&r[S][h];while(b[k])O=O&&O[b[k]],k++;if(O!==undefined){if(typeof O=="string")O=x(O,t),O=T(O,t);else if(Object.prototype.toString.apply(O)==="[object Array]"&&!u.returnObjectTrees&&!t.returnObjectTrees)O=O.join("\n"),O=x(O,t),O=T(O,t);else if(!u.returnObjectTrees&&!t.returnObjectTrees)O="key '"+
h+":"+e+" ("+S+")' "+"returned a object instead of string.",p.log(O);else{var P={};for(var H in O)P[H]=A(h+u.nsseparator+e+u.keyseparator+H,t);O=P}y=O}}y===undefined&&u.fallbackToDefaultNS&&(y=A(e,t)),y===undefined&&u.sendMissing&&(t.lng?M.postMissing(l[0],h,e,f,l):M.postMissing(u.lng,h,e,f,l));var B=t.postProcess||u.postProcess;return y!==undefined&&B&&D[B]&&(y=D[B](y,e,t)),y===undefined&&(f=x(f,t),f=T(f,t)),y!==undefined?y:f}function O(){var e,t=[];typeof window!="undefined"&&(function(){var e=
window.location.search.substring(1),n=e.split("&");for(var r=0;r<n.length;r++){var i=n[r].indexOf("=");if(i>0){var s=n[r].substring(0,i),o=n[r].substring(i+1);t[s]=o}}}(),t[u.detectLngQS]&&(e=t[u.detectLngQS]));if(!e&&typeof document!="undefined"&&u.useCookie){var n=p.cookie.read(u.cookieName);n&&(e=n)}return!e&&typeof navigator!="undefined"&&(e=navigator.language?navigator.language:navigator.userLanguage),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;
var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1});var e=this,t=e.jQuery,n={},r={},i,s=0,o=[];typeof module!="undefined"&&module.exports?module.exports=n:(t&&(t.i18n=t.i18n||n),e.i18n=e.i18n||n);var u={lng:undefined,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,
fallbackLng:"dev",detectLngQS:"setLng",ns:"translation",fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:undefined,useLocalStorage:!1,localStorageExpirationTime:6048E5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",
pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:undefined,useCookie:!0,cookieName:"i18next",postProcess:undefined},c={create:function(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+n*60*1E3),r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"},read:function(e){var t=e+"=",n=document.cookie.split(";");for(var r=
0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},h={create:function(e,t,n){},read:function(e){return null},remove:function(e){}},p={extend:t?t.extend:a,each:t?t.each:f,ajax:t?t.ajax:l,cookie:typeof document!="undefined"?c:h,detectLanguage:O,log:function(e){u.debug&&typeof console!="undefined"&&console.log(e)},toLanguages:function(e){var t=[];if(typeof e=="string"&&
e.indexOf("-")>-1){var n=e.split("-");e=u.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase(),u.load!=="unspecific"&&t.push(e),u.load!=="current"&&t.push(n[0])}else t.push(e);return t.indexOf(u.fallbackLng)===-1&&u.fallbackLng&&t.push(u.fallbackLng),t},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},M={load:function(e,t,n){t.useLocalStorage?M._loadLocal(e,t,function(r,i){var s=[];for(var o=0,u=e.length;o<u;o++)i[e[o]]||
s.push(e[o]);s.length>0?M._fetch(s,t,function(e,t){p.extend(i,t),M._storeLocal(t),n(null,i)}):n(null,i)}):M._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var r={},i=(new Date).getTime();if(window.localStorage){var s=e.length;p.each(e,function(e,o){var u=window.localStorage.getItem("res_"+o);u&&(u=JSON.parse(u),u.i18nStamp&&u.i18nStamp+t.localStorageExpirationTime>i&&(r[o]=u)),s--,s===0&&n(null,r)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),
window.localStorage.setItem("res_"+t,JSON.stringify(e[t]));return},_fetch:function(e,t,n){var r=t.ns,i={};if(!t.dynamicLoad){var s=r.namespaces.length*e.length,o;p.each(r.namespaces,function(r,u){p.each(e,function(e,r){var a=function(e,t){e&&(o=o||[],o.push(e)),i[r]=i[r]||{},i[r][u]=t,s--,s===0&&n(o,i)};typeof t.customLoad=="function"?t.customLoad(r,u,t,a):M._fetchOne(r,u,t,a)})})}else{var u=x(t.resGetPath,{lng:e.join("+"),ns:r.namespaces.join("+")});p.ajax({url:u,success:function(e,t,r){p.log("loaded: "+
u),n(null,e)},error:function(e,t,r){p.log("failed loading: "+u),n("failed loading resource.json error: "+r)},dataType:"json",async:t.getAsync})}},_fetchOne:function(e,t,n,r){var i=x(n.resGetPath,{lng:e,ns:t});p.ajax({url:i,success:function(e,t,n){p.log("loaded: "+i),r(null,e)},error:function(e,t,n){p.log("failed loading: "+i),r(n,{})},dataType:"json",async:n.getAsync})},postMissing:function(e,t,n,i,s){var o={};o[n]=i;var a=[];if(u.sendMissingTo==="fallback")a.push({lng:u.fallbackLng,url:x(u.resPostPath,
{lng:u.fallbackLng,ns:t})});else if(u.sendMissingTo==="current")a.push({lng:e,url:x(u.resPostPath,{lng:e,ns:t})});else if(u.sendMissingTo==="all")for(var f=0,l=s.length;f<l;f++)a.push({lng:s[f],url:x(u.resPostPath,{lng:s[f],ns:t})});for(var c=0,h=a.length;c<h;c++){var d=a[c];p.ajax({url:d.url,type:u.sendType,data:o,success:function(e,s,o){p.log("posted missing key '"+n+"' to: "+d.url);var u=n.split("."),a=0,f=r[d.lng][t];while(u[a])a===u.length-1?f=f[u[a]]=i:f=f[u[a]]=f[u[a]]||{},a++},error:function(e,
t,r){p.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:u.postAsync})}}},_={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ar:{name:"Arabic",
numbers:[0,1,2,3,11,100],plurals:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ay:{name:"Aymar\u00e1",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(e!=1)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&
e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ca:{name:"Catalan",
numbers:[1,2],plurals:function(e){return Number(e!=1)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(e!=1)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(e!=1)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>
1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(e!=1)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(e!=1)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(e!=1)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},
jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(e!==0)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},kw:{name:"Cornish",numbers:[1,
2,3,4],plurals:function(e){return Number(e==1?0:e==2?1:e==3?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[0,
1,2],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(e==1||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(e==1?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)}},nah:{name:"Nahuatl",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(e!=1)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(e!=1)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(e!=1)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?
1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(e==1?0:e===0||e%100>0&&e%100<
20?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(e!=1)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(e!=1)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(e==
1?0:e>=2&&e<=4?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:
2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(e!=1)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",
numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(e!=1)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}},addRule:function(e,t){_.rules[e]=t},setCurrentLng:function(e){if(!_.currentRule||_.currentRule.lng!==
e){var t=e.split("-");_.currentRule={lng:e,rule:_.rules[t[0]]}}},get:function(e,t){function r(t,n){var r;_.currentRule&&_.currentRule.lng===e?r=_.currentRule.rule:r=_.rules[t];if(r){var i=r.plurals(n),s=r.numbers[i];return r.numbers.length===2&&r.numbers[0]===1&&(s===2?s=-1:s===1&&(s=1)),s}return n===1?"1":"-1"}var n=e.split("-");return r(n[0],t)}},D={},P=function(e,t){D[e]=t},H=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>
0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,s=n.length,o="",u,a=[],f,l,c,h,p,d;for(f=0;f<s;f++){o=e(n[f]);if(o==="string")a.push(n[f]);else if(o==="array"){c=n[f];if(c[2]){u=r[i];for(l=0;l<c[2].length;l++){if(!u.hasOwnProperty(c[2][l]))throw H('[sprintf] property "%s" does not exist',c[2][l]);u=u[c[2][l]]}}else c[1]?
u=r[c[1]]:u=r[i++];if(/[^s]/.test(c[8])&&e(u)!="number")throw H("[sprintf] expecting number but found %s",e(u));switch(c[8]){case "b":u=u.toString(2);break;case "c":u=String.fromCharCode(u);break;case "d":u=parseInt(u,10);break;case "e":u=c[7]?u.toExponential(c[7]):u.toExponential();break;case "f":u=c[7]?parseFloat(u).toFixed(c[7]):parseFloat(u);break;case "o":u=u.toString(8);break;case "s":u=(u=String(u))&&c[7]?u.substring(0,c[7]):u;break;case "u":u=Math.abs(u);break;case "x":u=u.toString(16);break;
case "X":u=u.toString(16).toUpperCase()}u=/[def]/.test(c[8])&&c[3]&&u>=0?"+"+u:u,p=c[4]?c[4]=="0"?"0":c[4].charAt(1):" ",d=c[6]-String(u).length,h=c[6]?t(p,d):"",a.push(c[5]?u+h:h+u)}}return a.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=
1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),B=function(e,t){return t.unshift(e),H.apply(null,t)};P("sprintf",function(e,
t,n){return n.sprintf?Object.prototype.toString.apply(n.sprintf)==="[object Array]"?B(e,n.sprintf):typeof n.sprintf=="object"?H(e,n.sprintf):e:e}),n.init=d,n.setLng=w,n.preload=v,n.addResourceBundle=m,n.loadNamespace=y,n.loadNamespaces=b,n.setDefaultNamespace=g,n.t=L,n.translate=L,n.detectLanguage=p.detectLanguage,n.pluralExtensions=_,n.sync=M,n.functions=p,n.lng=E,n.addPostProcessor=P,n.options=u})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(e,t){var n,a,o,i="._tap",c="._tapActive",r="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),s={count:0,event:0},g=function(e,n){var a=n.originalEvent,o=t.Event(a);o.type=e;for(var i=0,c=u.length;c>i;i++)o[u[i]]=n[u[i]];return o},p=function(e){if(e.isTrigger)return!1;var n=s.event,a=Math.abs(e.pageX-n.pageX),o=Math.abs(e.pageY-n.pageY),i=Math.max(a,o);return e.timeStamp-n.timeStamp<t.tap.TIME_DELTA&&i<t.tap.POSITION_DELTA&&(!n.touches||1===s.count)&&T.isTracking},l=function(e){if(!o)return!1;
var n=Math.abs(e.pageX-o.pageX),a=Math.abs(e.pageY-o.pageY),i=Math.max(n,a);return Math.abs(e.timeStamp-o.timeStamp)<750&&i<t.tap.POSITION_DELTA},h=function(e){if(0===e.type.indexOf("touch")){e.touches=e.originalEvent.changedTouches;for(var t=e.touches[0],n=0,a=u.length;a>n;n++)e[u[n]]=t[u[n]]}e.timeStamp=Date.now?Date.now():+new Date},T={isEnabled:!1,isTracking:!1,enable:function(){T.isEnabled||$.event.special.tap||(T.isEnabled=!0,n=t(e.body).on("touchstart"+i,T.onStart).on("mousedown"+i,T.onStart).on("click"+
i,T.onClick))},disable:function(){T.isEnabled&&(T.isEnabled=!1,n.off(i))},onStart:function(e){e.isTrigger||(h(e),(!t.tap.LEFT_BUTTON_ONLY||e.touches||1===e.which)&&(e.touches&&(s.count=e.touches.length),T.isTracking&&T.onCancel(e),(e.touches||!l(e))&&(T.isTracking=!0,s.event=e,e.touches?(o=e,n.on("touchend"+i+c,T.onEnd).on("touchcancel"+i+c,T.onCancel)):n.on("mouseup"+i+c,T.onEnd))))},onEnd:function(e){var n;e.isTrigger||(h(e),p(e)&&(n=g(r,e),a=n,t(s.event.target).trigger(n)),T.onCancel(e))},onCancel:function(e){e&&
"touchcancel"===e.type&&e.preventDefault(),T.isTracking=!1,n.off(c)},onClick:function(e){return!e.isTrigger&&a&&a.isDefaultPrevented()&&a.target===e.target&&a.pageX===e.pageX&&a.pageY===e.pageY&&e.timeStamp-a.timeStamp<750?(a=null,!1):void 0}};t(e).ready(T.enable),t.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return Dc.apply(null,arguments)}function b(a){Dc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return za(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&
!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(0/0);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=
typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Fc.length>0)for(c in Fc)d=Fc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(+b._d),Gc===!1&&(Gc=!0,a.updateOffset(this),Gc=!1)}function o(a){return a instanceof n||null!=a&&null!=
a._isAMomentObject}function p(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,b).join("-")))return d;
if(c&&c.length>=b&&q(e,c,!0)>=b-1)break;b--}f++}return null}function u(a){var b=null;if(!Hc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ec._abbr,require("./locale/"+a),v(b)}catch(c){}return Hc[a]}function v(a,b){var c;return a&&(c="undefined"==typeof b?x(a):w(a,b),c&&(Ec=c)),Ec._abbr}function w(a,b){return null!==b?(b.abbr=a,Hc[a]||(Hc[a]=new r),Hc[a].set(b),v(a),Hc[a]):(delete Hc[a],null)}function x(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ec;if(!c(a)){if(b=
u(a))return b;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Ic[c]=Ic[c+"s"]=Ic[b]=a}function z(a){return"string"==typeof a?Ic[a]||Ic[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)f(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,b){var c;if("object"==
typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Mc[a]=e),b&&(Mc[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Mc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Jc);for(b=0,c=d.length;c>b;b++)Mc[d[b]]?d[b]=Mc[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Lc[b]||(Lc[b]=I(b)),Lc[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kc.lastIndex=0;d>=0&&Kc.test(a);)a=a.replace(Kc,c),Kc.lastIndex=0,d-=1;return a}function L(a,
b,c){_c[a]="function"==typeof b?b:function(a){return a&&c?c:b}}function M(a,b){return f(_c,a)?_c[a](b._strict,b._locale):new RegExp(N(a))}function N(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)ad[a[c]]=d}function P(a,b){O(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,
d,e)})}function Q(a,b,c){null!=b&&f(ad,a)&&ad[a](b,c._a,c,a)}function R(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function S(a){return this._months[a.month()]}function T(a){return this._monthsShort[a.month()]}function U(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=
new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function V(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),R(a.year(),b)),a._d["set"+
(a._isUTC?"UTC":"")+"Month"](b,c),a)}function W(b){return null!=b?(V(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function X(){return R(this.year(),this.month())}function Y(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[cd]<0||c[cd]>11?cd:c[dd]<1||c[dd]>R(c[bd],c[cd])?dd:c[ed]<0||c[ed]>24||24===c[ed]&&(0!==c[fd]||0!==c[gd]||0!==c[hd])?ed:c[fd]<0||c[fd]>59?fd:c[gd]<0||c[gd]>59?gd:c[hd]<0||c[hd]>999?hd:-1,j(a)._overflowDayOfYear&&(bd>b||b>dd)&&(b=dd),j(a).overflow=b),a}function Z(b){a.suppressDeprecationWarnings===
!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function $(a,b){var c=!0,d=a+"\n"+(new Error).stack;return g(function(){return c&&(Z(d),c=!1),b.apply(this,arguments)},b)}function _(a,b){kd[a]||(Z(b),kd[a]=!0)}function aa(a){var b,c,d=a._i,e=ld.exec(d);if(e){for(j(a).iso=!0,b=0,c=md.length;c>b;b++)if(md[b][1].exec(d)){a._f=md[b][0]+(e[6]||" ");break}for(b=0,c=nd.length;c>b;b++)if(nd[b][1].exec(d)){a._f+=nd[b][0];break}d.match(Yc)&&(a._f+="Z"),ta(a)}else a._isValid=
!1}function ba(b){var c=od.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(aa(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a){return fa(a)?366:365}function fa(a){return a%4===0&&a%100!==0||a%400===0}function ga(){return fa(this.year())}function ha(a,b,c){var d,
e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Aa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a){return ha(a,this._week.dow,this._week.doy).week}function ja(){return this._week.dow}function ka(){return this._week.doy}function la(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function ma(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function na(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=
c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:ea(a-1)+g}}function oa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")}function pa(a,b,c){return null!=a?a:null!=b?b:c}function qa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ra(a){var b,c,d,e,f=[];if(!a._d){for(d=qa(a),a._w&&null==a._a[dd]&&null==
a._a[cd]&&sa(a),a._dayOfYear&&(e=pa(a._a[bd],d[bd]),a._dayOfYear>ea(e)&&(j(a)._overflowDayOfYear=!0),c=da(e,0,a._dayOfYear),a._a[cd]=c.getUTCMonth(),a._a[dd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ed]&&0===a._a[fd]&&0===a._a[gd]&&0===a._a[hd]&&(a._nextDay=!0,a._a[ed]=0),a._d=(a._useUTC?da:ca).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ed]=24)}}function sa(a){var b,
c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=pa(b.GG,a._a[bd],ha(Aa(),1,4).year),d=pa(b.W,1),e=pa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=pa(b.gg,a._a[bd],ha(Aa(),f,g).year),d=pa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=na(c,d,e,g,f),a._a[bd]=h.year,a._dayOfYear=h.dayOfYear}function ta(b){if(b._f===a.ISO_8601)return void aa(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=K(b._f,b._locale).match(Jc)||[],c=0;c<e.length;c++)f=e[c],
d=(h.match(M(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Mc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),Q(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ed]<=12&&b._a[ed]>0&&(j(b).bigHour=void 0),b._a[ed]=ua(b._locale,b._a[ed],b._meridiem),ra(b),Y(b)}function ua(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,
c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function va(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ta(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function wa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ra(a)}}function xa(a){var b,
e=a._i,f=a._f;return a._locale=a._locale||x(a._l),null===e||void 0===f&&""===e?l({nullInput:!0}):("string"==typeof e&&(a._i=e=a._locale.preparse(e)),o(e)?new n(Y(e)):(c(f)?va(a):f?ta(a):d(e)?a._d=e:ya(a),b=new n(Y(a)),b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b))}function ya(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?ba(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ra(b)):"object"==typeof f?wa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}
function za(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,xa(f)}function Aa(a,b,c,d){return za(a,b,c,d,!1)}function Ba(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Aa();for(d=b[0],e=1;e<b.length;++e)b[e][a](d)&&(d=b[e]);return d}function Ca(){var a=[].slice.call(arguments,0);return Ba("isBefore",a)}function Da(){var a=[].slice.call(arguments,0);return Ba("isAfter",a)}function Ea(a){var b=
A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1E3*j+6E4*i+36E5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Fa(a){return a instanceof Ea}function Ga(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%60,2)})}function Ha(a){var b=(a||"").match(Yc)||[],c=b[b.length-1]||[],d=(c+"").match(td)||["-",
0,0],e=+(60*d[1])+p(d[2]);return"+"===d[0]?e:-e}function Ia(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Aa(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Aa(b).local();return c._isUTC?Aa(b).zone(c._offset||0):Aa(b).local()}function Ja(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ka(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ha(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ja(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,
"m"),e!==b&&(!c||this._changeInProgress?$a(this,Va(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ja(this)}function La(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Ma(a){return this.utcOffset(0,a)}function Na(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ja(this),"m")),this}function Oa(){return this._tzm?this.utcOffset(this._tzm):
"string"==typeof this._i&&this.utcOffset(Ha(this._i)),this}function Pa(a){return a=a?Aa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Qa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ra(){if(this._a){var a=this._isUTC?h(this._a):Aa(this._a);return this.isValid()&&q(this._a,a.toArray())>0}return!1}function Sa(){return!this._isUTC}function Ta(){return this._isUTC}function Ua(){return this._isUTC&&0===this._offset}function Va(a,
b){var c,d,e,g=a,h=null;return Fa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=ud.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[dd])*c,h:p(h[ed])*c,m:p(h[fd])*c,s:p(h[gd])*c,ms:p(h[hd])*c}):(h=vd.exec(a))?(c="-"===h[1]?-1:1,g={y:Wa(h[2],c),M:Wa(h[3],c),d:Wa(h[4],c),h:Wa(h[5],c),m:Wa(h[6],c),s:Wa(h[7],c),w:Wa(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Ya(Aa(g.from),Aa(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ea(g),
Fa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Wa(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Xa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Ya(a,b){var c;return b=Ia(b,a),a.isBefore(b)?c=Xa(a,b):(c=Xa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Za(a,b){return function(c,d){var e,
f;return null===d||isNaN(+d)||(_(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Va(c,d),$a(this,e,a),this}}function $a(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&V(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function _a(a){var b=a||Aa(),c=Ia(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>
d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,Aa(b)))}function ab(){return new n(this)}function bb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this>+a):(c=o(a)?+a:+Aa(a),c<+this.clone().startOf(b))}function cb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+a>+this):(c=o(a)?+a:+Aa(a),+this.clone().endOf(b)<c)}function db(a,b,c){return this.isAfter(a,
c)&&this.isBefore(b,c)}function eb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this===+a):(c=+Aa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function fb(a){return 0>a?Math.ceil(a):Math.floor(a)}function gb(a,b,c){var d,e,f=Ia(a,this),g=6E4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=hb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===
b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?e:fb(e)}function hb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ib(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function lb(a,b){return this.isValid()?Va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mb(a){return this.from(Aa(),a)}function nb(a,b){return this.isValid()?Va({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.to(Aa(),a)}function pb(a){var b;
return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function qb(){return this._locale}function rb(a){switch(a=z(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sb(a){return a=
z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function tb(){return+this._d-6E4*(this._offset||0)}function ub(){return Math.floor(+this/1E3)}function vb(){return this._offset?new Date(+this):this._d}function wb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xb(){return k(this)}function yb(){return g({},j(this))}function zb(){return j(this).overflow}function Ab(a,b){G(0,[a,a.length],0,
b)}function Bb(a,b,c){return ha(Aa([a,11,31+b-c]),b,c).week}function Cb(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Db(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Eb(){return Bb(this.year(),1,4)}function Fb(){var a=this.localeData()._week;return Bb(this.year(),a.dow,a.doy)}function Gb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hb(a,b){if("string"==
typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Ib(a){return this._weekdays[a.day()]}function Jb(a){return this._weekdaysShort[a.day()]}function Kb(a){return this._weekdaysMin[a.day()]}function Lb(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Aa([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",
""),"i")),this._weekdaysParse[b].test(a))return b}function Mb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Hb(a,this.localeData()),this.add(a-b,"d")):b}function Nb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ob(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Pb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Qb(a,b){return b._meridiemParse}
function Rb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Sb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Tb(a){G(0,[a,3],0,"millisecond")}function Ub(){return this._isUTC?"UTC":""}function Vb(){return this._isUTC?"Coordinated Universal Time":""}function Wb(a){return Aa(1E3*a)}function Xb(){return Aa.apply(null,arguments).parseZone()}function Yb(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function Zb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function $b(){return this._invalidDate}function _b(a){return this._ordinal.replace("%d",a)}function ac(a){return a}function bc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function cc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function dc(a){var b,c;for(c in a)b=a[c],
"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ec(a,b,c,d){var e=x(),f=h().set(d,b);return e[c](f,a)}function fc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return ec(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=ec(a,f,c,e);return g}function gc(a,b){return fc(a,b,"months",12,"month")}function hc(a,b){return fc(a,b,"monthsShort",12,"month")}function ic(a,b){return fc(a,b,"weekdays",7,"day")}
function jc(a,b){return fc(a,b,"weekdaysShort",7,"day")}function kc(a,b){return fc(a,b,"weekdaysMin",7,"day")}function lc(){var a=this._data;return this._milliseconds=Rd(this._milliseconds),this._days=Rd(this._days),this._months=Rd(this._months),a.milliseconds=Rd(a.milliseconds),a.seconds=Rd(a.seconds),a.minutes=Rd(a.minutes),a.hours=Rd(a.hours),a.months=Rd(a.months),a.years=Rd(a.years),this}function mc(a,b,c,d){var e=Va(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=
d*e._months,a._bubble()}function nc(a,b){return mc(this,a,b,1)}function oc(a,b){return mc(this,a,b,-1)}function pc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1E3,a=fb(d/1E3),g.seconds=a%60,b=fb(a/60),g.minutes=b%60,c=fb(b/60),g.hours=c%24,e+=fb(c/24),h=fb(qc(e)),e-=fb(rc(h)),f+=fb(e/30),e%=30,h+=fb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function qc(a){return 400*a/146097}function rc(a){return 146097*a/400}function sc(a){var b,c,d=
this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+12*qc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(rc(this._months/12)),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw new Error("Unknown unit "+a);}}function tc(){return this._milliseconds+864E5*this._days+this._months%
12*2592E6+31536E6*p(this._months/12)}function uc(a){return function(){return this.as(a)}}function vc(a){return a=z(a),this[a+"s"]()}function wc(a){return function(){return this._data[a]}}function xc(){return fb(this.days()/7)}function yc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function zc(a,b,c){var d=Va(a).abs(),e=fe(d.as("s")),f=fe(d.as("m")),g=fe(d.as("h")),h=fe(d.as("d")),i=fe(d.as("M")),j=fe(d.as("y")),k=e<ge.s&&["s",e]||1===f&&["m"]||f<ge.m&&["mm",f]||1===g&&["h"]||g<ge.h&&["hh",g]||
1===h&&["d"]||h<ge.d&&["dd",h]||1===i&&["M"]||i<ge.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,yc.apply(null,k)}function Ac(a,b){return void 0===ge[a]?!1:void 0===b?ge[a]:(ge[a]=b,!0)}function Bc(a){var b=this.localeData(),c=zc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cc(){var a=he(this.years()),b=he(this.months()),c=he(this.days()),d=he(this.hours()),e=he(this.minutes()),f=he(this.seconds()+this.milliseconds()/1E3),g=this.asSeconds();return g?
(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}var Dc,Ec,Fc=a.momentProperties=[],Gc=!1,Hc={},Ic={},Jc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Kc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lc={},Mc={},Nc=/\d/,Oc=/\d\d/,Pc=/\d{3}/,Qc=/\d{4}/,Rc=/[+-]?\d{6}/,Sc=/\d\d?/,Tc=/\d{1,3}/,Uc=/\d{1,4}/,Vc=/[+-]?\d{1,6}/,
Wc=/\d+/,Xc=/[+-]?\d+/,Yc=/Z|[+-]\d\d:?\d\d/gi,Zc=/[+-]?\d+(\.\d{1,3})?/,$c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_c={},ad={},bd=0,cd=1,dd=2,ed=3,fd=4,gd=5,hd=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),L("M",Sc),L("MM",Sc,Oc),L("MMM",$c),L("MMMM",$c),O(["M",
"MM"],function(a,b){b[cd]=p(a)-1}),O(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[cd]=e:j(c).invalidMonth=a});var id="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kd={};a.suppressDeprecationWarnings=!1;var ld=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
md=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],nd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],od=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),L("Y",Xc),L("YY",Sc,Oc),L("YYYY",Uc,Qc),L("YYYYY",Vc,Rc),L("YYYYYY",Vc,Rc),O(["YYYY","YYYYY","YYYYYY"],bd),O("YY",function(b,c){c[bd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2E3)};var pd=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),
y("week","w"),y("isoWeek","W"),L("w",Sc),L("ww",Sc,Oc),L("W",Sc),L("WW",Sc,Oc),P(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var qd={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),L("DDD",Tc),L("DDDD",Pc),O(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var rd=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return this>a?this:a}),sd=
$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return a>this?this:a});Ga("Z",":"),Ga("ZZ",""),L("Z",Yc),L("ZZ",Yc),O(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ha(a)});var td=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var ud=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Va.fn=Ea.prototype;var wd=Za(1,"add"),xd=Za(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var yd=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ab("gggg","weekYear"),Ab("ggggg","weekYear"),Ab("GGGG","isoWeekYear"),
Ab("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),L("G",Xc),L("g",Xc),L("GG",Sc,Oc),L("gg",Sc,Oc),L("GGGG",Uc,Qc),L("gggg",Uc,Qc),L("GGGGG",Vc,Rc),L("ggggg",Vc,Rc),P(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),P(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),L("Q",Nc),O("Q",function(a,b){b[cd]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),L("D",Sc),L("DD",Sc,Oc),L("Do",function(a,b){return a?
b._ordinalParse:b._ordinalParseLenient}),O(["D","DD"],dd),O("Do",function(a,b){b[dd]=p(a.match(Sc)[0],10)});var zd=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),L("d",Sc),L("e",Sc),L("E",Sc),L("dd",$c),L("ddd",
$c),L("dddd",$c),P(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),P(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var Ad="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Pb("a",!0),Pb("A",!1),y("hour","h"),L("a",Qb),L("A",Qb),L("H",Sc),L("h",Sc),L("HH",Sc,Oc),
L("hh",Sc,Oc),O(["H","HH"],ed),O(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),O(["h","hh"],function(a,b,c){b[ed]=p(a),j(c).bigHour=!0});var Dd=/[ap]\.?m?\.?/i,Ed=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),L("m",Sc),L("mm",Sc,Oc),O(["m","mm"],fd);var Fd=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),L("s",Sc),L("ss",Sc,Oc),O(["s","ss"],gd);var Gd=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/
10)}),Tb("SSS"),Tb("SSSS"),y("millisecond","ms"),L("S",Tc,Nc),L("SS",Tc,Oc),L("SSS",Tc,Pc),L("SSSS",Wc),O(["S","SS","SSS","SSSS"],function(a,b){b[hd]=p(1E3*("0."+a))});var Hd=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Id=n.prototype;Id.add=wd,Id.calendar=_a,Id.clone=ab,Id.diff=gb,Id.endOf=sb,Id.format=kb,Id.from=lb,Id.fromNow=mb,Id.to=nb,Id.toNow=ob,Id.get=E,Id.invalidAt=zb,Id.isAfter=bb,Id.isBefore=cb,Id.isBetween=db,Id.isSame=eb,Id.isValid=xb,Id.lang=yd,Id.locale=pb,Id.localeData=
qb,Id.max=sd,Id.min=rd,Id.parsingFlags=yb,Id.set=E,Id.startOf=rb,Id.subtract=xd,Id.toArray=wb,Id.toDate=vb,Id.toISOString=jb,Id.toJSON=jb,Id.toString=ib,Id.unix=ub,Id.valueOf=tb,Id.year=pd,Id.isLeapYear=ga,Id.weekYear=Cb,Id.isoWeekYear=Db,Id.quarter=Id.quarters=Gb,Id.month=W,Id.daysInMonth=X,Id.week=Id.weeks=la,Id.isoWeek=Id.isoWeeks=ma,Id.weeksInYear=Fb,Id.isoWeeksInYear=Eb,Id.date=zd,Id.day=Id.days=Mb,Id.weekday=Nb,Id.isoWeekday=Ob,Id.dayOfYear=oa,Id.hour=Id.hours=Ed,Id.minute=Id.minutes=Fd,Id.second=
Id.seconds=Gd,Id.millisecond=Id.milliseconds=Hd,Id.utcOffset=Ka,Id.utc=Ma,Id.local=Na,Id.parseZone=Oa,Id.hasAlignedHourOffset=Pa,Id.isDST=Qa,Id.isDSTShifted=Ra,Id.isLocal=Sa,Id.isUtcOffset=Ta,Id.isUtc=Ua,Id.isUTC=Ua,Id.zoneAbbr=Ub,Id.zoneName=Vb,Id.dates=$("dates accessor is deprecated. Use date instead.",zd),Id.months=$("months accessor is deprecated. Use month instead",W),Id.years=$("years accessor is deprecated. Use year instead",pd),Id.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
La);var Jd=Id,Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},
Qd=r.prototype;Qd._calendar=Kd,Qd.calendar=Yb,Qd._longDateFormat=Ld,Qd.longDateFormat=Zb,Qd._invalidDate=Md,Qd.invalidDate=$b,Qd._ordinal=Nd,Qd.ordinal=_b,Qd._ordinalParse=Od,Qd.preparse=ac,Qd.postformat=ac,Qd._relativeTime=Pd,Qd.relativeTime=bc,Qd.pastFuture=cc,Qd.set=dc,Qd.months=S,Qd._months=id,Qd.monthsShort=T,Qd._monthsShort=jd,Qd.monthsParse=U,Qd.week=ia,Qd._week=qd,Qd.firstDayOfYear=ka,Qd.firstDayOfWeek=ja,Qd.weekdays=Ib,Qd._weekdays=Ad,Qd.weekdaysMin=Kb,Qd._weekdaysMin=Cd,Qd.weekdaysShort=
Jb,Qd._weekdaysShort=Bd,Qd.weekdaysParse=Lb,Qd.isPM=Rb,Qd._meridiemParse=Dd,Qd.meridiem=Sb,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=$("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=$("moment.langData is deprecated. Use moment.localeData instead.",x);var Rd=Math.abs,Sd=uc("ms"),Td=uc("s"),Ud=uc("m"),Vd=uc("h"),Wd=uc("d"),Xd=uc("w"),Yd=uc("M"),Zd=uc("y"),$d=wc("milliseconds"),
_d=wc("seconds"),ae=wc("minutes"),be=wc("hours"),ce=wc("days"),de=wc("months"),ee=wc("years"),fe=Math.round,ge={s:45,m:45,h:22,d:26,M:11},he=Math.abs,ie=Ea.prototype;ie.abs=lc,ie.add=nc,ie.subtract=oc,ie.as=sc,ie.asMilliseconds=Sd,ie.asSeconds=Td,ie.asMinutes=Ud,ie.asHours=Vd,ie.asDays=Wd,ie.asWeeks=Xd,ie.asMonths=Yd,ie.asYears=Zd,ie.valueOf=tc,ie._bubble=pc,ie.get=vc,ie.milliseconds=$d,ie.seconds=_d,ie.minutes=ae,ie.hours=be,ie.days=ce,ie.weeks=xc,ie.months=de,ie.years=ee,ie.humanize=Bc,ie.toISOString=
Cc,ie.toString=Cc,ie.toJSON=Cc,ie.locale=pb,ie.localeData=qb,ie.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cc),ie.lang=yd,G("X",0,0,"unix"),G("x",0,0,"valueOf"),L("x",Xc),L("X",Zc),O("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))}),O("x",function(a,b,c){c._d=new Date(p(a))}),a.version="2.10.3",b(Aa),a.fn=Jd,a.min=Ca,a.max=Da,a.utc=h,a.unix=Wb,a.months=gc,a.isDate=d,a.locale=v,a.invalid=l,a.duration=Va,a.isMoment=o,a.weekdays=ic,a.parseZone=
Xb,a.localeData=x,a.isDuration=Fa,a.monthsShort=hc,a.weekdaysMin=kc,a.defineLocale=w,a.weekdaysShort=jc,a.normalizeUnits=z,a.relativeTimeThreshold=Ac;var je=a;return je});var C,O=self,R=O.FJ;(function(){function a(a){d?d.push(a):setTimeout(a,0)}var f={version:"0.7.2.0",isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},Ke:function(a){return null===a||void 0===a},hM:function(a){return null!==a&&void 0!==a}},d=[];O.attachEvent&&O.attachEvent("onload",function(){if(d){var a=d;d=null;for(var c=0,e=a.length;c<e;c++)a[c]()}});R||(O.FJ=R={init:a,ready:a});for(var e in f)R[e]=f[e]})();Object.Fd="Object";Object.Th=null;Object.gL=function(a){for(var f in a)delete a[f]};
Object.uu=function(a,f){return void 0!==a[f]};Object.keys?Object.dG=function(a){return Object.keys(a).length}:(Object.keys=function(a){var f=[],d;for(d in a)f.push(d);return f},Object.dG=function(a){var f=0,d;for(d in a)f++;return f});Boolean.Fd="Boolean";Boolean.parse=function(a){return"true"==a.toLowerCase()};Number.Fd="Number";Number.parse=function(a){return a&&a.length?0<=a.indexOf(".")||0<=a.indexOf("e")||a.endsWith("f")||a.endsWith("F")?parseFloat(a):parseInt(a,10):0};
Number.prototype.format=function(a){return R.Ke(a)||0==a.length||"i"==a?this.toString():S(this,a,!1)};Number.prototype.mA=function(a){return R.Ke(a)||0==a.length||"i"==a?this.toLocaleString():S(this,a,!0)};
Number.Rr=function(a,f,d,e){var b=null;d=a.indexOf(d);0<d&&(b=a.substr(d),a=a.substr(0,d));(d=a.startsWith("-"))&&(a=a.substr(1));var c=0,k=f[c];if(a.length<k)return b?a+b:a;for(var h=a.length,g="",l=!1;!l;){var m=k,p=h-m;0>p&&(k+=p,m+=p,p=0,l=!0);if(!m)break;p=a.substr(p,m);g=g.length?p+e+g:p;h-=m;c<f.length-1&&(c++,k=f[c])}d&&(g="-"+g);return b?g+b:g};
function S(a,f,d){d=d?R.cC.EK.numberFormat:R.cC.MK.numberFormat;var e="",b=-1;1<f.length&&(b=parseInt(f.substr(1)));f=f.charAt(0);switch(f){case "d":case "D":e=parseInt(Math.abs(a)).toString();-1!=b&&(e=e.length<b?String.fz(b-e.length)+e:e);0>a&&(e="-"+e);break;case "x":case "X":e=parseInt(Math.abs(a)).toString(16);"X"==f&&(e=e.toUpperCase());-1!=b&&(e=e.length<b?String.fz(b-e.length)+e:e);break;case "e":case "E":e=-1==b?a.toExponential():a.toExponential(b);"E"==f&&(e=e.toUpperCase());break;case "f":case "F":case "n":case "N":-1==
b&&(b=d.qM);e=a.toFixed(b).toString();b&&"."!=d.tA&&(b=e.indexOf("."),e=e.substr(0,b)+d.tA+e.substr(b+1));if("n"==f||"N"==f)e=Number.Rr(e,d.sM,d.tA,d.rM);break;case "c":case "C":-1==b&&(b=d.vL);e=Math.abs(a).toFixed(b).toString();b&&"."!=d.Ay&&(b=e.indexOf("."),e=e.substr(0,b)+d.Ay+e.substr(b+1));e=Number.Rr(e,d.xL,d.Ay,d.wL);e=0>a?String.format(d.yL,e):String.format(d.zL,e);break;case "p":case "P":-1==b&&(b=d.xM),e=(100*Math.abs(a)).toFixed(b).toString(),b&&"."!=d.GA&&(b=e.indexOf("."),e=e.substr(0,
b)+d.GA+e.substr(b+1)),e=Number.Rr(e,d.zM,d.GA,d.yM),e=0>a?String.format(d.AM,e):String.format(d.BM,e)}return e}String.Fd="String";String.fC="";String.compare=function(a,f,d){d&&(a&&(a=a.toUpperCase()),f&&(f=f.toUpperCase()));a=a||"";f=f||"";return a==f?0:a<f?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};
String.prototype.endsWith=function(a){return a.length?a.length>this.length?!1:this.substr(this.length-a.length)==a:!0};String.yt=function(a,f,d){return 0==String.compare(a,f,d)};String._format=function(a,f,d){String.lx||(String.lx=/(\{[^\}^\{]+\})/g);return a.replace(String.lx,function(a,b){var c=f[parseInt(b.substr(1))+1];if(R.Ke(c))return"";if(c.format){var k=null,h=b.indexOf(":");0<h&&(k=b.substring(h+1,b.length-1));return d?c.mA(k):c.format(k)}return d?c.toLocaleString():c.toString()})};
String.format=function(a){return String._format(a,arguments,!1)};String.fz=function(a){for(var f="0",d=1;d<a;d++)f+="0";return f};String.prototype.xf=function(a,f){return f?a?this.substr(0,a)+f+this.substr(a):f+this:this};String.Op=function(a){return!a||!a.length};String.mA=function(a){return String._format(a,arguments,!0)};String.prototype.remove=function(a,f){return!f||a+f>this.length?this.substr(0,a):this.substr(0,a)+this.substr(a+f)};
String.prototype.startsWith=function(a){return a.length?a.length>this.length?!1:this.substr(0,a.length)==a:!0};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.Fd="Array";Array.Tn=[R.Hn];C=Array.prototype;C.add=function(a){this.push(a)};C.addRange=function(a){this.push.apply(this,a)};C.clear=function(){this.length=0};C.clone=function(){return 1===this.length?[this[0]]:Array.apply(null,this)};C.contains=function(a){return 0<=this.indexOf(a)};
C.dequeue=function(){return this.shift()};C.enqueue=function(a){this.eE=!0;this.push(a)};function T(a){return a.length?a[a.eE?0:a.length-1]:null}Array.prototype.every||(Array.prototype.every=function(a,f){for(var d=this.length,e=0;e<d;e++)if(e in this&&!a.call(f,this[e],e,this))return!1;return!0});Array.prototype.filter||(Array.prototype.filter=function(a,f){for(var d=this.length,e=[],b=0;b<d;b++)if(b in this){var c=this[b];a.call(f,c,b,this)&&e.push(c)}return e});
Array.prototype.forEach||(Array.prototype.forEach=function(a,f){for(var d=this.length,e=0;e<d;e++)e in this&&a.call(f,this[e],e,this)});Array.prototype.wd=function(){return new R.zn(this)};Array.prototype.groupBy=function(a,f){for(var d=this.length,e=[],b={},c=0;c<d;c++)if(c in this){var k=a.call(f,this[c],c);if(!String.Op(k)){var h=b[k];h||(h=[],h.key=k,b[k]=h,e.add(h));h.add(this[c])}}return e};
Array.prototype.index=function(a,f){for(var d=this.length,e={},b=0;b<d;b++)if(b in this){var c=a.call(f,this[b],b);String.Op(c)||(e[c]=this[b])}return e};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,f){var d=this.length;if(d)for(var e=f||0;e<d;e++)if(this[e]===a)return e;return-1});Array.prototype.xf=function(a,f){this.splice(a,0,f)};Array.prototype.map||(Array.prototype.map=function(a,f){for(var d=this.length,e=Array(d),b=0;b<d;b++)b in this&&(e[b]=a.call(f,this[b],b,this));return e});
Array.parse=function(a){return eval("("+a+")")};Array.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(this.splice(a,1),!0):!1};Array.prototype.removeRange=function(a,f){return this.splice(a,f)};Array.prototype.some||(Array.prototype.some=function(a,f){for(var d=this.length,e=0;e<d;e++)if(e in this&&a.call(f,this[e],e,this))return!0;return!1});Array.toArray=function(a){return Array.prototype.slice.call(a)};RegExp.Fd="RegExp";
RegExp.parse=function(a){if(a.startsWith("/")){var f=a.lastIndexOf("/");if(1<f)return new RegExp(a.substring(1,f),a.substr(f+1))}return null};Error.Fd="Error";
Error.lL=function(a,f,d){a=Error(a);if(f)for(var e in f)a[e]=f[e];d&&(a.ZL=d);if(!(R.Ke(a.stack)||R.Ke(a.fileName)||R.Ke(a.lineNumber))){f=a.stack.split("\n");d=f[0];for(e=a.fileName+":"+a.lineNumber;!R.Ke(d)&&-1===d.indexOf(e);)f.shift(),d=f[0];d=f[1];isNullOrUndefined(d)||(d=d.match(/@(.*):(\d+)$/),R.Ke(d)||(f.shift(),a.stack=f.join("\n"),a.fileName=d[1],a.lineNumber=parseInt(d[2])))}return a};R.Ve=O.Ve||function(){};R.Ve.Fd="Debug";
R.Ve.writeln||(R.Ve.writeln=function(a){O.console?O.console.debug?O.console.debug(a):O.console.log&&O.console.log(a):O.opera&&O.opera.postError&&O.opera.postError(a)});R.Ve.gx=function(a){R.Ve.writeln(a);eval("debugger;")};R.Ve.assert=function(a,f){a||(f="Assert failed: "+f,confirm(f+"\r\n\r\nBreak into debugger?")&&R.Ve.gx(f))};R.Ve.fail=function(a){R.Ve.gx(a)};O.Za=Function;O.Za.Fd="Type";O.ww=function(a){this.Fd=a};O.ww.prototype={yD:!0,getName:function(){return this.Fd}};
O.Za.sq=function(a){O.Fr||(O.Fr={});O.Iw||(O.Iw=[]);if(!O.Fr[a]){for(var f=self,d=a.split("."),e=0;e<d.length;e++){var b=d[e],c=f[b];c||(f[b]=c=new O.ww(d.slice(0,e+1).join(".")),0==e&&O.Iw.add(c));f=c}O.Fr[a]=f}};O.Za.prototype.Fa=function(a,f,d){this.prototype.constructor=this;this.Fd=a;this.yw=!0;this.Th=f||Object;f&&(this.Sn=!0);if(d){this.Tn=[];for(var e=2;e<arguments.length;e++)d=arguments[e],this.Tn.add(d)}};function U(a,f){a.Fd=f;a.Ew=!0}
O.Za.prototype.qv=function(){if(this.Sn){var a=this.Th;a.Sn&&a.qv();for(var f in a.prototype){var d=a.prototype[f];this.prototype[f]||(this.prototype[f]=d)}delete this.Sn}};O.Za.prototype.uI||(O.Za.prototype.uI=O.Za.prototype.qv);function V(a,f){return R.Ke(f)?!1:a==Object||f instanceof a?!0:W(a,O.Za.bG(f))}
function W(a,f){if(a==Object||a==f)return!0;if(a.yw)for(var d=f.Th;d;){if(a==d)return!0;d=d.Th}else if(a.Ew){var e=f.Tn;if(e&&e.contains(a))return!0;for(d=f.Th;d;){if((e=d.Tn)&&e.contains(a))return!0;d=d.Th}}return!1}O.Za.bM=function(a){return 1==a.yw};O.Za.cM=function(a){return 1==a.wD};O.Za.dM=function(a){return 1==a.wD&&1==a.Aw};O.Za.eM=function(a){return 1==a.Ew};O.Za.fM=function(a){return 1==a.yD};O.Za.eL=function(a,f){return V(f,a)};O.Za.IM=function(a,f){return V(f,a)?a:null};
O.Za.bG=function(a){var f=null;try{f=a.constructor}catch(d){}f&&f.Fd||(f=Object);return f};O.Za.CG=function(a){if(!a)return null;O.Za.Gr||(O.Za.Gr={});var f=O.Za.Gr[a];f||(f=eval(a),O.Za.Gr[a]=f);return f};O.Za.parse=function(a){return O.Za.CG(a)};R.Ag=function(){};R.Ag.Fa("Enum");
R.Ag.parse=function(a,f){var d=a.prototype;if(a.Aw){for(var e=f.split("|"),b=0,c=!0,k=e.length-1;0<=k;k--){var h=e[k].trim(),g=!1;for(l in d)if(l===h){b|=d[l];g=!0;break}if(!g){c=!1;break}}if(c)return b}else for(var l in d)if(l===f)return d[l];throw"Invalid Enumeration Value";};
R.Ag.ZK=function(a){var f=this.prototype;if(this.Aw&&0!==a){var d=[];for(e in f)f[e]&a&&(d.length&&d.add(" | "),d.add(e));if(!d.length)throw"Invalid Enumeration Value";return d.join("")}for(var e in f)if(f[e]===a)return e;throw"Invalid Enumeration Value";};R.pc=function(){};R.pc.Fa("Delegate");R.pc.empty=function(){};R.pc.ED=function(a,f,d){for(var e=0;e<a.length;e+=2)if(a[e]===f&&a[e+1]===d)return!0;return!1};
R.pc._create=function(a){function f(){if(2==a.length)return a[1].apply(a[0],arguments);for(var d=a.clone(),e=0;e<d.length;e+=2)R.pc.ED(a,d[e],d[e+1])&&d[e+1].apply(d[e],arguments);return null}f.jf=a;return f};R.pc.create=function(a,f){return a?R.pc._create([a,f]):f};R.pc.hL=function(a,f){return a?f?R.pc._create((a.jf?a.jf:[null,a]).concat(f.jf?f.jf:[null,f])):a.jf?a:R.pc.create(null,a):f.jf?f:R.pc.create(null,f)};
R.pc.remove=function(a,f){if(!a||a===f)return null;if(!f)return a;var d=a.jf,e=null,b;f.jf?(e=f.jf[0],b=f.jf[1]):b=f;for(var c=0;c<d.length;c+=2)if(d[c]===e&&d[c+1]===b){if(2==d.length)return null;d.splice(c,2);return R.pc._create(d)}return a};R.pc.mL=function(a,f,d){d=d||"__"+(new Date).valueOf();self[d]=f?a:function(){try{delete self[d]}catch(e){self[d]=void 0}a.apply(null,arguments)};return d};R.pc.CL=function(a){delete self[a]};R.pc.fL=function(a){self[a]=R.pc.empty};R.Ud=function(){};
R.Ud.prototype={lg:null,reset:null};R.Ud.wd=function(a){return a?a.wd?a.wd():new R.zn(a):null};U(R.Ud,"IEnumerator");R.Hn=function(){};R.Hn.prototype={wd:null};U(R.Hn,"IEnumerable");R.zn=function(a){this.Ow=a;this.ho=-1;this.current=null};R.zn.prototype={lg:function(){this.ho++;this.current=this.Ow[this.ho];return this.ho<this.Ow.length},reset:function(){this.ho=-1;this.current=null}};R.zn.Fa("ArrayEnumerator",null,R.Ud);R.Vv=function(){};R.Vv.prototype={Kc:null};U(R.Vv,"IDisposable");
R.ow=function(a){this.wo=R.Ke(a)?[]:[a];this.isEmpty=0==this.wo.length};R.ow.prototype={append:function(a){R.Ke(a)||(this.wo.add(a),this.isEmpty=!1);return this},clear:function(){this.wo=[];this.isEmpty=!0},toString:function(a){return this.wo.join(a||"")}};R.ow.Fa("StringBuilder");R.Fn=function(){};R.Fn.Fa("EventArgs");R.Fn.fC=new R.Fn;O.XMLHttpRequest||(O.XMLHttpRequest=function(){for(var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<a.length;f++)try{return new ActiveXObject(a[f])}catch(d){}return null});
R.Ov=function(){var a=R.Ov;a.Sn&&a.qv();a.Th.apply(this);this.cancel=!1};R.Ov.Fa("CancelEventArgs",R.Fn);R.nD=function(a,f){this.first=a;this.second=f};R.nD.Fa("Tuple");R.Uc=function(a){this.ys=a;this.Sf=null};R.Uc.prototype={Ka:function(){this.Sf=R.Uc.Rw(this.Sf);return this.ys},nb:function(a){this.ys!==a&&(this.ys=a,a=this.Sf)&&(this.Sf=null,R.Uc.ux(a))}};R.Uc.ms=[];R.Uc.ZD={Kc:function(){R.Uc.ms.pop()}};R.Uc.HM=function(a){R.Uc.ms.push(a);return R.Uc.ZD};
R.Uc.Rw=function(a){var f=R.Uc.ms,d=f.length;if(d){a=a||[];for(var e=0;e<d;e++){var b=f[e];a.contains(b)||a.push(b)}return a}return null};R.Uc.ux=function(a){for(var f=0,d=a.length;f<d;f++)a[f].aM()};R.Uc.Fa("Observable");R.Yv=function(a){this.Og=a||[];this.Sf=null};
R.Yv.prototype={add:function(a){this.Og.push(a);X(this)},clear:function(){this.Og.clear();X(this)},contains:function(a){return this.Og.contains(a)},wd:function(){this.Sf=R.Uc.Rw(this.Sf);return this.Og.wd()},indexOf:function(a){return this.Og.indexOf(a)},xf:function(a,f){this.Og.xf(a,f);X(this)},remove:function(a){return this.Og.remove(a)?(X(this),!0):!1},toArray:function(){return this.Og}};function X(a){var f=a.Sf;f&&(a.Sf=null,R.Uc.ux(f))}R.Yv.Fa("ObservableCollection",null,R.Hn);R.nC=function(){};
U(R.nC,"IApplication");R.oC=function(){};U(R.oC,"IContainer");R.sC=function(){};U(R.sC,"IObjectFactory");R.pC=function(){};U(R.pC,"IEventManager");R.qC=function(){};U(R.qC,"IInitializable");self.Za.sq("XODText");self.Za.sq("XODTextOld");XODText.jc=function(){};XODText.pr=function(a,f){this.Ax=a;this.bb=Array(8);this.bb[0]=f[0];this.bb[1]=f[1];this.bb[2]=f[2];this.bb[3]=f[3];this.bb[4]=f[4];this.bb[5]=f[5];this.bb[6]=f[6];this.bb[7]=f[7]};
XODText.pr.prototype={Ax:null,bb:null,zc:function(){for(var a=Array(8),f=0;8>f;f++)a[f]=this.bb[f];return a}};XODText.Du=function(a){this.qD=this.width=a};XODText.Du.prototype={width:0,qD:0};XODText.cq=function(){};XODText.cq.prototype={A:function(){},addColorStop:function(){}};XODText.xr=function(a){this.Lj=[];this.Vw={};var f=new XODText.Na;f.set(1,0,0,1,0,0);this.Lj.push(f);this.Xr=a};
$.extend(XODText.xr.prototype,{Xr:null,Hx:0,Kl:0,ls:0,canvas:{$M:0,height:0},gG:function(a){return this.Vw[a]},aL:function(a,f){var d=new XODText.Ba;d.Ie(a);f.JB(d);return d.width()},Hj:function(a){a=a.split(" ")[1];console.assert(Object.uu(this.Xr,a),"Font "+a+" file not found");return this.Xr[a]},Sx:function(a,f){var d=new XODText.Na,e=a.ks,b=a.Bx;d.set(b/e,0,0,b/e,0,0);d.JB(f)},font:null,save:function(){var a=new XODText.Na;a.pk(T(this.Lj));this.Lj.push(a)},restore:function(){this.Lj.pop()},transform:function(a,
f,d,e,b,c){var k=new XODText.Na;k.set(a,f,d,e,b,c);T(this.Lj).concat(k)},translate:function(a,f){this.Kl=a;this.ls=f},fillText:function(a,f,d){var e=this.Hj(this.font);this.$n(a,f,d,e)},$n:function(a,f,d,e){if(!this.Dj){this.translate(f,d);f=0;for(d=a.length;f<d;f++){var b=a.charAt(f),c=this.Up&&f in this.Up?this.Up[f]:b,b=e.iz(b.toString());this.Sx(e,b);var k=b.y1;b.y1=b.y2;b.y2=k;b.x1+=this.Kl;b.x2+=this.Kl;b.y1+=this.ls;b.y2+=this.ls;this.Kl+=b.width();k=Array(8);k[0]=b.x1;k[1]=b.y1;k[2]=b.x2;
k[3]=b.y1;k[4]=b.x2;k[5]=b.y2;k[6]=b.x1;k[7]=b.y2;T(this.Lj).KB(k);this.Vw[this.Hx]=new XODText.pr(c,k);this.Hx++}this.Up=null}},measureText:function(a){var f=this.Hj(this.font);return this.Ex(a,f)},Ex:function(a,f){var d=0;if(!this.Dj)for(var e=0,b=a.length;e<b;e++){var c=f.iz(a.charAt(e).toString());this.Sx(f,c);d+=c.width()}return new XODText.Du(d)},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.cq},createRadialGradient:function(){return new XODText.cq},
createPattern:function(){},addColorStop:function(){},beginPath:function(){},closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.ImageData},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(a,f,d,e,
b,c){this.transform(a,f,d,e,b,c)},T:function(a,f){this.translate(a,f)},w:0,c:null,s:null,f:null,a:0,L:function(a,f,d,e){return this.createLinearGradient(a,f,d,e)},R:function(a,f,d,e,b,c){return this.createRadialGradient(a,f,d,e,b,c)},P:function(a,f){this.createPattern(a,f)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},C:function(){this.clip()},M:function(a,f){this.moveTo(a,f)},l:function(a,f){this.lineTo(a,f)},q:function(a,
f,d,e){this.quadraticCurveTo(a,f,d,e)},B:function(a,f,d,e,b,c){this.bezierCurveTo(a,f,d,e,b,c)},n:null,x:function(a,f,d){var e=this.Hj(this.n);this.$n(a,f,d,e)},m:function(a){var f=this.Hj(this.n);return this.Ex(a,f)},i:0,j:null,I:function(a,f,d){this.drawImage(a,f,d)},Z:function(a,f,d,e,b,c){this.setTransform(a,f,d,e,b,c)},d:function(a,f,d,e){return this.getImageData(a,f,d,e)},D:function(a,f,d){this.putImageData(a,f,d)},e:function(a,f){this.scale(a,f)},tm:function(a){this.Up=a},fillTextCustom:function(a,
f,d){var e=this.Hj(this.font);this.$n(a,f,d,e)},xc:function(a,f,d){var e=this.Hj(this.n);this.$n(a,f,d,e)},cgb:function(){console.assert(!this.Dj,"Custom Glyphs begin offset is incorrect");this.Dj=!0},cge:function(){console.assert(this.Dj,"Custom Glyphs end offset is incorrect");this.Dj=!1},xw:function(a,f,d,e){e&&1<a.length&&(a=a.substr(0,a.length-1));f(a,f,d)},xcw:function(a,f,d,e){e&&1<a.length&&(a=a.substr(0,a.length-1));xc(a,f,d)},Dj:!1});
XODText.Kf=function(){this.Rg=[];this.lc=[];this.Aa=[];this.mc=!1};
XODText.Kf.prototype={clear:function(){this.fb="";this.lc.clear();this.Aa.clear();this.mc=!1},Ab:function(){this.lc=[];this.Aa=[];this.mc=!1},vE:function(a){function f(d){for(var e=d.length,b=0;b<e;b+=8){var c=a.W({x:d[b],y:d[b+1]}),k=a.W({x:d[b+2],y:d[b+3]}),h=a.W({x:d[b+4],y:d[b+5]}),g=a.W({x:d[b+6],y:d[b+7]}),f=new XODText.hb;f.Nx(c.x,c.y,k.x,k.y,h.x,h.y,g.x,g.y);f=f.uf();d[b]=f.x1;d[b+1]=f.y1;d[b+2]=f.x2;d[b+3]=f.y2;d[b+4]=f.x3;d[b+5]=f.y3;d[b+6]=f.x4;d[b+7]=f.y4}}f(this.Aa);this.Rg.forEach(function(a){f(a.bb);
a.Ua.forEach(function(a){f(a.bb);a.Rf.forEach(function(a){f(a)})})})},DA:function(a){this.Aa=a.Aa;this.lc=a.lc;this.fb=a.fb;this.mc=a.mc;this.Rg=function(a,d,e){function b(a,b){return a.slice(b,b+8)}function c(){var c=new XODText.qb;c.Bb=a[l+1];c.ab=n;n++;var h=a[l+1];c.ja=e.slice(h,h+a[l+2]);c.Hl=h;for(var h=a[l],k=0;k<h;++k)c.Rf.push(b(d,8*(c.Bb+k)));p&&(p.Jl=c);return p=c}function k(b){var n=c(),d=a[l],h=a[l+3],e=a[l+4],k;if(h===e){h=Math.min(b.x1,b.x2);e=Math.max(b.x1,b.x2);k=n.Rf[0];b=n.Rf[d-
1];b=[k[1],k[3],k[5],k[7],b[1],b[3],b[5],b[7]];k=Math.min.apply(null,b);b=Math.max.apply(null,b);for(var g=0;g<d;++g){var p=n.Rf[g];p[0]=h;p[2]=e;p[4]=e;p[6]=h}}else for(k=Math.min(b.y1,b.y2),b=Math.max(b.y1,b.y2),g=0;g<d;++g)p=n.Rf[g],p[1]=b,p[3]=b,p[5]=k,p[7]=k;d=n.bb;d[0]=h;d[1]=b;d[2]=e;d[3]=b;d[4]=e;d[5]=k;d[6]=h;d[7]=k;l+=5;return n}function h(){var n=c();n.bb=b(a,l+3);l+=11;return n}function g(c){var n=new XODText.Cb;n.ab=c;var d=0<a[l];if(d){var e=6;c=a[l];var g=n.bb,x=a.slice(l+2,l+4),y=
a.slice(l+4,l+6);g[0]=x[0];g[1]=x[1];g[2]=y[0];g[3]=x[1];g[4]=y[0];g[5]=y[1];g[6]=x[0];g[7]=y[1]}else e=10,c=-a[l],n.bb=b(a,l+2);d=d?k:h;g=new XODText.Ba;n.vc(g);l+=e;p=null;for(e=0;e<c;++e)n.Ua.push(d(g));n.ja=n.Ua.map(function(a){return a.ja}).join(" ");n.Hl=n.Ua[0]?n.Ua[0].Hl:0;m&&(m.Il=n);return m=n}var l=0,m=null,p=null,n=0;return function(){var b=[],c=a[l];l++;for(var n=0;n<c;++n)b.push(g(n));return b}()}(a.Sa,this.Aa,this.fb)},co:function(a){for(var f="",d=0,e,b,c;d<a.length;)e=a.charCodeAt(d),
9==e?(f+=String.fromCharCode(10),d++):128>e?(f+=String.fromCharCode(e),d++):191<e&&224>e?(b=a.charCodeAt(d+1),f+=String.fromCharCode((e&31)<<6|b&63),d+=2):(b=a.charCodeAt(d+1),c=a.charCodeAt(d+2),f+=String.fromCharCode((e&15)<<12|(b&63)<<6|c&63),d+=3);return f},dE:function(a,f){for(var d=new XODText.qb,e=R.Ud.wd(a.split(","));e.lg();){var b=e.current.split(":"),c=parseInt(b[0]),k=0;1<b.length&&(k=parseInt(b[1]));for(b=c;b<=c+k;b++){var h=f.gG(b);d.As(h.Ax,h.zc());this.lc.add(b);this.Aa.addRange(h.zc())}}return d},
parse:function(a,f){var d=0,e=0,b=0;do{for(var c;a.advance();)if(c=a.ma(),"F"===c)a.ka();else if("P"===c)a.ka();else if("L"===c){a.ka();c=new XODText.Cb;c.ts(d++);0<this.Rg.length&&this.Rg[this.Rg.length-1].ZI(c);this.Rg.add(c);for(var k=R.Ud.wd(a.ed().split(" "));k.lg();){var h=k.current;if(0<c.zi()){this.fb+=" ";this.lc.add(-1);b++;var g=Array(8);c.Ut().zc(g);this.Aa.addRange(g)}h=this.dE(h,f);h.ts(e++);h.iE(b);c.rE(h);this.fb+=h.ja;b+=h.cg()}this.fb+="\n";this.lc.add(-2);b++;console.assert(0<c.zi(),
"No words in line");0<c.zi()&&(g=Array(8),c.Ut().zc(g),this.Aa.addRange(g))}else console.assert("XML parser has encountered a symbol it can't process.");a.ra()}while(a.depth)},Su:function(a,f){try{var d=new window.Vd(a);console.assert("TextData"===d.ma(),"XML parser has encountered a symbol it can't process.");"TextData"===d.ma()&&(d.ka(),this.parse(d,f))}catch(e){console.warn("TextSelection has encountered an error: "+e.message);return}this.mc=!0},ready:function(){return this.mc},vm:function(){return this.Rg.length?
this.Rg[0]:new XODText.Cb},Od:function(){return this.Aa},fb:"",lc:null,Aa:null,mc:!1};XODText.Cb=function(){this.Ua=[];this.ab=-1;this.Mb=[];this.bb=Array(8);this.Il=null};
XODText.Cb.prototype={Ab:function(){this.ab=this.Zb=-1;this.Mb=[]},eb:function(a){return this.ab===a.ab},zi:function(){return this.Ua.length},Md:function(){return this.Ua.length?this.Ua[0]:new XODText.qb},Ut:function(){return this.Ua.length?this.Ua[this.Ua.length-1]:new XODText.qb},Pz:function(a){return 0>a||a>=this.zi()?new XODText.qb:this.Ua[a]},lh:function(){return null==this.Il?new XODText.Cb:this.Il},vc:function(a){a.$i(this.bb)},ts:function(a){this.ab=a},np:function(){if(this.Mb.length)return this.Mb[0];
var a=new XODText.ia,f=new XODText.ia,d=this.Md(),e=this.Ut(),b=Array(8),c=Array(8);d.wc(0,b);a.x=(b[0]+b[2]+b[4]+b[6])/4;a.y=(b[1]+b[3]+b[5]+b[7])/4;e.wc(e.cg()-1,c);f.x=(c[0]+c[2]+c[4]+c[6])/4;f.y=(c[1]+c[3]+c[5]+c[7])/4;.01>Math.abs(a.x-f.x)&&.01>Math.abs(a.y-f.y)&&this.Mb.add(0);a=Math.atan2(f.y-a.y,f.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.Mb.add(a);return 0},ja:"",ta:null,ab:0,Mb:null,bb:null,Il:null,ZI:function(a){this.Il=a},rE:function(a){0<this.Ua.length&&this.Ua[this.Ua.length-1].$I(a);
this.Ua.add(a);var f=String.Op(this.ja),d=Array(8);a.zc(d);if(f)for(f=0;8>f;f++)this.bb[f]=d[f];else this.ja+=" ",XODText.hb.uo(this.bb,d,!1,0);this.ja+=a.ja}};XODText.qb=function(){this.Rf=[];this.ab=this.Bb=-1;this.bb=Array(8);this.Jl=null};
XODText.qb.prototype={Ab:function(){this.ab=this.Bb=-1},eb:function(a){return this.ab===a.ab},cg:function(){return this.Rf.length},Fe:function(){return this.ja.length},Ge:function(){return this.Hl},iE:function(a){this.Hl=a},Nd:function(){return null==this.Jl?new XODText.qb:this.Jl},wc:function(a,f){for(var d=0;8>d;d++)f[d]=this.Rf[a][d]},zc:function(a){for(var f=0;8>f;f++)a[f]=this.bb[f]},vc:function(a){var f=new XODText.Ba;f.$i(this.bb);a[0]=f.x1;a[1]=f.y1;a[2]=f.x2;a[3]=f.y2},ts:function(a){this.ab=
this.Bb=a},Bb:0,ja:"",ta:null,ab:0,Hl:0,bb:null,Jl:null,As:function(a,f){var d=String.Op(this.ja);this.ja+=a;for(var e=Array(8),b=0;8>b;b++)e[b]=f[b];this.Rf.add(e);if(d)for(b=0;8>b;b++)this.bb[b]=e[b];else XODText.hb.uo(this.bb,e,!1,0)},$I:function(a){this.Jl=a}};XODTextOld.Kf=function(){};
XODTextOld.Kf.prototype={clear:function(){this.Sa.clear();this.fb="";this.lc.clear();this.Aa.clear();this.mc=!1},Ab:function(){this.Sa=[];this.lc=[];this.Aa=[];this.mc=!1},co:function(a){for(var f="",d=0,e,b,c;d<a.length;)e=a.charCodeAt(d),9==e?(f+=String.fromCharCode(10),d++):128>e?(f+=String.fromCharCode(e),d++):191<e&&224>e?(b=a.charCodeAt(d+1),f+=String.fromCharCode((e&31)<<6|b&63),d+=2):(b=a.charCodeAt(d+1),c=a.charCodeAt(d+2),f+=String.fromCharCode((e&15)<<12|(b&63)<<6|c&63),d+=3);return f},
SG:function(a){this.Sa=[];this.lc=[];this.Aa=[];this.mc=!1;try{var f=new window.Vd(a);this.fb="";f.ka();if(!f.advance())return;var d=f.ed();this.fb=d=this.co(d);this.lc.clear();f.advance();for(var d=f.ed(),e=d.split(","),b=R.Ud.wd(e);b.lg();){var c=b.current;try{var k=parseInt(c.trim());this.lc.add(k)}catch(r){}}this.Sa.clear();f.advance();for(var d=f.ed(),e=d.split(","),h=R.Ud.wd(e);h.lg();){c=h.current;try{k=parseFloat(c.trim()),this.Sa.add(k)}catch(r){}}this.Aa.clear();f.advance();d=f.ed();e=d.split(",");
a=[];for(var f=[],d=0,g=R.Ud.wd(e);g.lg();){c=g.current;switch(c){case "Q":d=1;break;case "R":d=2;break;case "S":d=3;break;default:d=0}if(d)a.add(0),f.add(d);else try{k=parseFloat(c.trim()),a.add(k),f.add(d)}catch(r){return}}for(var d=0,l=a.length,m,p,n,q,g=c=e=0;g<l;){var u=f[g];if(0<u)d=u,++g,3===d&&(e=a[g],c=a[g+1],g+=2);else if(1===d)for(k=0;8>k;++k)this.Aa.add(a[g++]);else 2===d?(m=a[g++],p=a[g++],n=a[g++],q=a[g++],this.Aa.add(m),this.Aa.add(p),this.Aa.add(n),this.Aa.add(p),this.Aa.add(n),this.Aa.add(q),
this.Aa.add(m),this.Aa.add(q)):3===d&&(m=a[g++],p=e,n=a[g++],q=c,this.Aa.add(m),this.Aa.add(p),this.Aa.add(n),this.Aa.add(p),this.Aa.add(n),this.Aa.add(q),this.Aa.add(m),this.Aa.add(q))}}catch(r){return}this.fb.length&&this.fb.length===this.lc.length&&8*this.fb.length===this.Aa.length&&(this.mc=!0)},ready:function(){return this.mc},vm:function(){var a=new XODTextOld.Cb;if(!this.Sa.length)return a.Qd(this.Sa,-1,this.fb,this.Aa,0),a;a.Qd(this.Sa,1,this.fb,this.Aa,1);return a},Od:function(){return this.Aa},
Sa:null,fb:null,lc:null,Aa:null,mc:!1};XODTextOld.Cb=function(){};
XODTextOld.Cb.prototype={Ab:function(){this.Zb=-1;this.ab=0;this.Mb=[]},Qd:function(a,f,d,e,b){this.Zb=f;this.ab=b;this.Mb=[];this.Gc=a;this.ja=d;this.ta=e},eb:function(a){return this.Zb===a.Zb},zi:function(){return Math.abs(this.Gc[this.Zb])},ig:function(){return 0<this.Gc[this.Zb]},Md:function(){var a=new XODTextOld.qb;a.Qd(this.Gc,this.Zb+(this.ig()?6:10),this.Zb,this.ja,this.ta,1);return a},Pz:function(a){if(0>a||a>=this.zi()){var f=new XODTextOld.qb;f.Qd(this.Gc,-1,-1,this.ja,this.ta,0)}else{var d=
this.ig()?6:10,e=this.ig()?5:11,f=new XODTextOld.qb;f.Qd(this.Gc,this.Zb+d+e*a,this.Zb,this.ja,this.ta,1+a)}return f},lh:function(){var a=this.Zb+parseInt(this.Gc[this.Zb+1]);if(a>=this.Gc.length){var f=new XODTextOld.Cb;f.Qd(this.Gc,-1,this.ja,this.ta,0)}else f=new XODTextOld.Cb,f.Qd(this.Gc,a,this.ja,this.ta,this.ab+1);return f},vc:function(a){if(this.ig())a.x1=this.Gc[this.Zb+2+0],a.y1=this.Gc[this.Zb+2+1],a.x2=this.Gc[this.Zb+2+2],a.y2=this.Gc[this.Zb+2+3];else{for(var f=1.79769E308,d=XODText.jc.Dg,
e=1.79769E308,b=XODText.jc.Dg,c=0;4>c;++c)var k=this.Gc[this.Zb+2+2*c],h=this.Gc[this.Zb+2+2*c+1],f=Math.min(f,k),d=Math.max(d,k),e=Math.min(e,h),b=Math.max(b,h);a.x1=f;a.y1=e;a.x2=d;a.y2=b}},np:function(){if(this.Mb.length)return this.Mb[0];var a=new XODText.ia,f=new XODText.ia,d=new XODTextOld.qb;d.Ab();var e=this.Md(),b=new XODTextOld.qb;b.Ab();for(var c=this.Md();!c.eb(d);c=c.Nd())b=c;d=Array(8);c=Array(8);e.wc(0,d);a.x=(d[0]+d[2]+d[4]+d[6])/4;a.y=(d[1]+d[3]+d[5]+d[7])/4;b.wc(b.cg()-1,c);f.x=
(c[0]+c[2]+c[4]+c[6])/4;f.y=(c[1]+c[3]+c[5]+c[7])/4;.01>Math.abs(a.x-f.x)&&.01>Math.abs(a.y-f.y)&&this.Mb.add(0);a=Math.atan2(f.y-a.y,f.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.Mb.add(a);return 0},Zb:0,Gc:null,ja:null,ta:null,ab:0,Mb:null};XODTextOld.qb=function(){};
XODTextOld.qb.prototype={Ab:function(){this.Pf=this.Bb=-1;this.ab=0},Qd:function(a,f,d,e,b,c){this.Bb=f;this.Pf=d;this.Sa=a;this.ja=e;this.ta=b;this.ab=c},eb:function(a){return this.Bb===a.Bb},cg:function(){return parseInt(this.Sa[this.Bb])},Fe:function(){return parseInt(this.Sa[this.Bb+2])},Ge:function(){return parseInt(this.Sa[this.Bb+1])},ig:function(){return 0<this.Sa[this.Pf]},oG:function(){return Math.abs(this.Sa[this.Pf])},Nd:function(){var a=this.ig(),f=a?5:11;this.Bb>=this.Pf+(a?6:10)+(this.oG()-
1)*f?(a=new XODTextOld.qb,a.Qd(this.Sa,-1,-1,this.ja,this.ta,0)):(a=new XODTextOld.qb,a.Qd(this.Sa,this.Bb+f,this.Pf,this.ja,this.ta,this.ab+1));return a},XF:function(a){var f=this.cg();return 0>a||a>=f?-1:parseInt(this.Sa[this.Bb+1])+a},wc:function(a,f){var d=this.XF(a);if(!(0>d)){var e=new XODTextOld.Cb;e.Qd(this.Sa,this.Pf,this.ja,this.ta,0);if(e.ig()){var b=new XODText.Ba;e.vc(b);e=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;d*=8;f[0]=this.ta[d];f[1]=e;f[2]=this.ta[d+2];f[3]=f[1];f[4]=this.ta[d+
4];f[5]=b;f[6]=this.ta[d+6];f[7]=f[5]}else for(d*=8,e=0;8>e;++e)f[e]=this.ta[d+e]}},zc:function(a){var f=new XODTextOld.Cb;f.Qd(this.Sa,this.Pf,this.ja,this.ta,0);if(f.ig()){var d=this.Sa[this.Bb+3],e=this.Sa[this.Bb+4];if(d>e){var b;b=d;d=e;e=b}b=new XODText.Ba;f.vc(b);f=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;a[0]=d;a[1]=f;a[2]=e;a[3]=f;a[4]=e;a[5]=b;a[6]=d;a[7]=b}else for(d=this.Bb+3,e=0;8>e;++e)a[e]=this.Sa[d+e]},vc:function(a){var f=new XODTextOld.Cb;f.Qd(this.Sa,this.Pf,this.ja,this.ta,0);
if(f.ig()){var d=this.Sa[this.Bb+3],e=this.Sa[this.Bb+4];if(d>e){var b;b=d;d=e;e=b}b=new XODText.Ba;f.vc(b);f=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2}else{d=1.79769E308;e=XODText.jc.Dg;f=1.79769E308;b=XODText.jc.Dg;for(var c=this.Bb+3,k=0;4>k;++k){var h=this.Sa[c+2*k],g=this.Sa[c+2*k+1],d=Math.min(d,h),e=Math.max(e,h),f=Math.min(f,g);b=Math.max(b,g)}}a[0]=d;a[1]=f;a[2]=e;a[3]=b},Bb:0,Pf:0,Sa:null,ja:null,ta:null,ab:0};XODText.Ba=function(){this.y2=this.x2=this.y1=this.x1=0};
XODText.Ba.prototype={Xa:function(a,f,d,e){this.x1=a;this.y1=f;this.x2=d;this.y2=e},Ie:function(a){this.x1=a.x1;this.y1=a.y1;this.x2=a.x2;this.y2=a.y2},normalize:function(){if(this.x1>this.x2){var a;a=this.x1;this.x1=this.x2;this.x2=a}this.y1>this.y2&&(a=this.y1,this.y1=this.y2,this.y2=a)},set:function(a,f,d,e){this.x1=a;this.y1=f;this.x2=d;this.y2=e},Vm:function(a){return this.x2<a.x1||this.x1>a.x2||this.y2<a.y1||this.y1>a.y2},width:function(){var a=this.x2-this.x1;return 0>a?-a:a},height:function(){var a=
this.y2-this.y1;return 0>a?-a:a},$i:function(a){for(var f=1.79769E308,d=XODText.jc.Dg,e=1.79769E308,b=XODText.jc.Dg,c=0;4>c;++c)var k=a[2*c],h=a[2*c+1],f=Math.min(f,k),d=Math.max(d,k),e=Math.min(e,h),b=Math.max(b,h);this.x1=f;this.y1=e;this.x2=d;this.y2=b},Kp:function(a,f){var d,e,b,c,k,h,g,l;a.x1<a.x2?(d=a.x1,e=a.x2):(d=a.x2,e=a.x1);a.y1<a.y2?(b=a.y1,c=a.y2):(b=a.y2,c=a.y1);f.x1<f.x2?(k=f.x1,h=f.x2):(k=f.x2,h=f.x1);f.y1<f.y2?(g=f.y1,l=f.y2):(g=f.y2,l=f.y1);if(e<k||h<d||c<g||l<b)return this.x1=this.x2=
this.y1=this.y2=0,!1;this.x1=d<k?k:d;this.x2=e<h?e:h;this.y1=b<g?g:b;this.y2=c<l?c:l;return this.x1===this.x2||this.y1===this.y2?(this.x1=this.x2=this.y1=this.y2=0,!1):!0},RG:function(a){this.SD(a,a)},SD:function(a,f){this.normalize();this.x1-=a;this.x2+=a;this.y1-=f;this.y2+=f},union:function(a){a.x1<this.x1&&(this.x1=a.x1);a.y1<this.y1&&(this.y1=a.y1);a.x2>this.x2&&(this.x2=a.x2);a.y2>this.y2&&(this.y2=a.y2)},contains:function(a,f){if(this.x1<this.x2){if(a<this.x1||a>this.x2)return!1}else if(a<
this.x2||a>this.x1)return!1;if(this.y1<this.y2){if(f<this.y1||f>this.y2)return!1}else if(f<this.y2||f>this.y1)return!1;return!0},x1:0,y1:0,x2:0,y2:0};XODText.ia=function(){this.y=this.x=0};XODText.ia.eb=function(a,f){return a.x===f.x&&a.y===f.y};XODText.ia.pM=function(a,f){return a!==f};XODText.ia.Ny=function(a){var f=new XODText.ia;f.x=a.x/2;f.y=a.y/2;return f};XODText.ia.multiply=function(a,f){var d=new XODText.ia;d.init(a.x*f,a.y*f);return d};
XODText.ia.Ji=function(a,f){var d=new XODText.ia;d.init(a.x-f.x,a.y-f.y);return d};XODText.ia.cn=function(a,f){var d=new XODText.ia;d.init(a.x+f.x,a.y+f.y);return d};XODText.ia.distance=function(a,f){var d=a.x-f.x,e=a.y-f.y;return Math.sqrt(d*d+e*e)};
XODText.ia.prototype={x:0,y:0,init:function(a,f){this.x=a;this.y=f},Ip:function(a){this.x=a.x;this.y=a.y},add:function(a){this.x+=a.x;this.y+=a.y},sub:function(a){this.x-=a.x;this.y-=a.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);return a?(this.x/=a,this.y/=a,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},uc:function(a){return this.x*a.x+this.y*a.y}};XODText.jc.Fa("XODText.doubleData");XODText.pr.Fa("XODText.Letter");XODText.Du.Fa("XODText.nsIDOMTextMetrics");
XODText.cq.Fa("XODText.nsIDOMCanvasGradient");XODText.xr.Fa("XODText.SelectionContext");XODText.Kf.Fa("XODText.SelectionInfo");XODText.Cb.Fa("XODText.Line");XODText.qb.Fa("XODText.Word");XODText.Ba.Fa("XODText.SelectionRect");XODText.ia.Fa("XODText.SelectionPoint");XODText.jc.Jh=1.79769E308;XODText.jc.Dg=-1.79769E308;self.Za.sq("XODText");XODText.io=function(){};XODText.gc=function(a,f){this.x=a;this.y=f};XODText.gc.prototype={x:0,y:0};
XODText.hb=function(){this.yn=this.wn=this.xn=this.vn=this.y2=this.x2=this.y1=this.x1=0};
XODText.hb.uo=function(a,f,d,e){var b=new XODText.ia;b.init(0,0);var c=new XODText.ia;c.init(0,0);var k=new XODText.ia;k.init(0,0);var h=new XODText.ia;h.init(0,0);for(var g=0;4>g;++g){XODText.hb.Lz(b,a,g);if(!b.normalize()&&d)return!1;g?2===g?k=XODText.ia.Ji(k,b):1===g?h=XODText.ia.cn(h,b):3===g&&(h=XODText.ia.Ji(h,b)):k=XODText.ia.cn(k,b);for(var l=Array(8),m=0;1>m;++m){for(var p=0;8>p;++p)l[p]=f[8*m+p];XODText.hb.Lz(c,l,g);if(!c.normalize()&&d)return!1;g?2===g?k=XODText.ia.Ji(k,c):1===g?h=XODText.ia.cn(h,
c):3===g&&(h=XODText.ia.Ji(h,c)):k=XODText.ia.cn(k,c)}if(d&&Math.abs(b.uc(c))<XODText.hb.WE)return!1}k=XODText.ia.Ny(k);h=XODText.ia.Ny(h);if(!k.normalize()&&d||!h.normalize()&&d||d&&!XODText.hb.xH(a,f,k,h,e,e/10))return!1;XODText.hb.inflate(a,f,1,k,h);return!0};XODText.hb.Lz=function(a,f,d){var e=(d+1)%4;a.x=f[2*e]-f[2*d];a.y=f[2*e+1]-f[2*d+1]};
XODText.hb.xH=function(a,f,d,e,b,c){var k=new XODText.ia;k.init(a[0],a[1]);var h=new XODText.ia;h.init(a[2],a[3]);var g=new XODText.ia;g.init(f[0],f[1]);var l=new XODText.ia;l.init(f[2],f[3]);var m=k.uc(d),p=h.uc(d),n=g.uc(d);d=l.uc(d);if(m>p)var q=m,m=p,p=q;n>d&&(q=n,n=d,d=q);if(n-p>b||m-d>b)return!1;k.x=a[2];k.y=a[3];h.x=a[4];h.y=a[5];g.x=f[2];g.y=f[3];l.x=f[4];l.y=f[5];m=k.uc(e);p=h.uc(e);n=g.uc(e);d=l.uc(e);m>p&&(q=m,m=p,p=q);n>d&&(q=n,n=d,d=q);return Math.abs(m-n)>c||Math.abs(p-d)>c?!1:!0};
XODText.hb.inflate=function(a,f,d,e,b){for(var c=XODText.jc.Jh,k=XODText.jc.Dg,h=XODText.jc.Jh,g=XODText.jc.Dg,l,m,p=0,n=0,q=0;4>q;++q){var u=new XODText.ia;u.init(a[2*q],a[2*q+1]);l=u.uc(e);m=u.uc(b);q?(c>l&&(c=l,p=u.x),k<l&&(k=l),h>m&&(h=m,n=u.y),g<m&&(g=m)):(c=k=l,h=g=m,p=u.x,n=u.y);for(u=0;u<d;++u){var r=new XODText.ia;r.init(f[8*u+2*q],f[8*u+2*q+1]);l=r.uc(e);m=r.uc(b);c>l&&(c=l,p=r.x);k<l&&(k=l);h>m&&(h=m,n=r.y);g<m&&(g=m)}}f=new XODText.ia;f.init(p,n);n=f.uc(b);p=XODText.ia.multiply(e,c-f.uc(e));
n=XODText.ia.multiply(b,h-n);f.x+=p.x+n.x;f.y+=p.y+n.y;a[0]=f.x;a[1]=f.y;c=k-c;h=g-h;a[2]=a[0]+c*e.x;a[3]=a[1]+c*e.y;a[4]=a[2]+h*b.x;a[5]=a[3]+h*b.y;a[6]=a[0]+h*b.x;a[7]=a[1]+h*b.y};
XODText.hb.prototype={_init:function(a,f,d,e,b,c,k,h){this.x1=a;this.y1=f;this.x2=d;this.y2=e;this.vn=b;this.xn=c;this.wn=k;this.yn=h},Nx:function(a,f,d,e,b,c,k,h){this.x1=a;this.y1=f;this.x2=d;this.y2=e;this.vn=b;this.xn=c;this.wn=k;this.yn=h},uf:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x3:this.vn,y3:this.xn,x4:this.wn,y4:this.yn}},iG:function(){var a=this.uf(),f=Math.min(a.x1,a.x2,a.x3,a.x4),d=Math.max(a.x1,a.x2,a.x3,a.x4),e=Math.min(a.y1,a.y2,a.y3,a.y4),b=Math.max(a.y1,a.y2,
a.y3,a.y4);a.x1=f;a.x2=d;a.x3=d;a.x4=f;a.y1=e;a.y2=e;a.y3=b;a.y4=b;return a},x1:0,y1:0,x2:0,y2:0,vn:0,xn:0,wn:0,yn:0};XODText.Na=function(){};XODText.Na.Vi=function(a){var f=Math.cos(a);a=Math.sin(a);var d=new XODText.Na;d.Xa(f,-a,a,f,0,0);return d};
XODText.Na.prototype={m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,pk:function(a){this.m_a=a.m_a;this.m_b=a.m_b;this.m_c=a.m_c;this.m_d=a.m_d;this.m_h=a.m_h;this.m_v=a.m_v},Xa:function(a,f,d,e,b,c){this.m_a=a;this.m_b=f;this.m_c=d;this.m_d=e;this.m_h=b;this.m_v=c},set:function(a,f,d,e,b,c){this.m_a=a;this.m_b=f;this.m_c=d;this.m_d=e;this.m_h=b;this.m_v=c},inverse:function(){var a=new XODText.Na,f=this.m_a*this.m_d-this.m_b*this.m_c;if(!f)return a;a.m_a=this.m_d/f;a.m_c=-this.m_c/f;a.m_h=(this.m_c*this.m_v-
this.m_h*this.m_d)/f;a.m_b=-this.m_b/f;a.m_d=this.m_a/f;a.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/f;return a},W:function(a){var f=a.x;a.x=a.x*this.m_a+a.y*this.m_c+this.m_h;a.y=f*this.m_b+a.y*this.m_d+this.m_v;return a},concat:function(a){var f=this.m_a,d=this.m_b,e=this.m_c,b=this.m_d;this.m_a=a.m_a*f+a.m_b*e;this.m_b=a.m_a*d+a.m_b*b;this.m_c=a.m_c*f+a.m_d*e;this.m_d=a.m_c*d+a.m_d*b;this.m_h=a.m_h*f+a.m_v*e+this.m_h;this.m_v=a.m_h*d+a.m_v*b+this.m_v},yt:function(a){return this.m_a==a.m_a&&this.m_b==
a.m_b&&this.m_c==a.m_c&&this.m_d==a.m_d&&this.m_h==a.m_h&&this.m_v==a.m_v},KB:function(a){var f=new XODText.gc(a[0],a[1]),d=new XODText.gc(a[2],a[3]),e=new XODText.gc(a[4],a[5]),b=new XODText.gc(a[6],a[7]),f=this.W(f),d=this.W(d),e=this.W(e),b=this.W(b);a[0]=f.x;a[1]=f.y;a[2]=d.x;a[3]=d.y;a[4]=e.x;a[5]=e.y;a[6]=b.x;a[7]=b.y},JB:function(a){var f=Array(8);f[0]=a.x1;f[1]=a.y1;f[2]=a.x2;f[3]=a.y1;f[4]=a.x2;f[5]=a.y2;f[6]=a.x1;f[7]=a.y2;this.KB(f);a.$i(f)}};XODText.Dl=function(){};
XODText.Dl.CD=function(a,f){return a.hc<f.hc||a.hc===f.hc&&a._position<f._position||a.hc===f.hc&&a._position===f._position&&a.ei<f.ei?-1:a.hc===f.hc&&a._position===f._position&&a.ei===f.ei?0:1};
XODText.Dl.prototype={_init:function(){this.oo=[]},_add:function(a){this.oo.add(a)},_clear:function(){this.oo.clear()},DD:function(a,f){f.clear();for(var d=[],e=R.Ud.wd(this.oo);e.lg();){var b=e.current;d.add(b)}d.sort(XODText.Dl.CD);for(var e="",c,k=[],h=[],g=XODText.io.vw,l=0;l<d.length;++l)if(b=d[l],!(0>b.hc||b.hc>=a.length||0>b._position||0>=b.ei)){if(-1!==b.hc){k=a[b.hc].text;if(!k.ready())return!1;e=k.fb;c=k.lc;k=k.Od();if(!e.length||e.length!==c.length||8*e.length!==k.length)continue;for(var g=
XODText.io.vw,m=R.Ud.wd(c);m.lg();){var p=m.current;p>g&&(g=p)}h.clear();for(var n=0;n<g+1;++n)h.add(-1);for(n=0;n<c.length;++n)m=c[n],0<=m&&(h[m]=n)}c=Array(8);for(m=b._position;m<b._position+b.ei&&!(m>g);++m)if(p=h[m],!(0>p)){for(n=0;8>n;++n)c[n]=k[8*p+n];var q=!1;if(1<=f.length&&(n=f[f.length-1],n.hc===b.hc)){var u=c[0]-c[2],r=c[1]-c[3];XODText.hb.uo(n.we,c,!0,Math.sqrt(u*u+r*r))&&(q=e.charAt(p),n.vs.xf(n.vs.length,q),q=!0)}q||(q=e.charAt(p),p=new XODText.$r,p.Fl(b.hc,q,c),f.add(p))}}return 0<
f.length},oo:null};XODText.Cl=function(){};XODText.Cl.prototype={Fl:function(a,f,d){this.hc=a;this._position=f;this.ei=d},hc:0,_position:0,ei:0};XODText.$r=function(){};XODText.$r.prototype={Fl:function(a,f,d){this.hc=a;this.vs=f;this.we=Array(8);for(a=0;8>a;++a)this.we[a]=d[a]},hc:0,vs:null,we:null};XODText.Ao=function(){this.ff=new XODText.Ba;this.qo=new XODText.Ba};XODText.Ao.prototype={ff:null,qo:null,ro:null,so:null};XODText.zb=function(){};XODText.yb=function(){};
XODText.sd=function(){this.ns={};this.Qf=0;this.Pa=this.Jj=this.no=this.Ec=-1;this.js=this.Qg=this.po=this.fi=!1;this.Zd=[];this.Yb=[];this.te=[];this.Wa=this.Ha="";this.Fc=[];this.df=[];this.Kj=[];this.gs=[];this.Ea={};this.Ea[" "]=null;this.Ea["\t"]=null;this.Ea["\n"]=null;this.Ea["."]=null;this.Ea[","]=null;this.Ea["?"]=null;this.Ea[":"]=null;this.Ea[";"]=null;this.Ea['"']=null;this.Ea["'"]=null;this.Ea["<"]=null;this.Ea[">"]=null;this.Ea["`"]=null;this.Ea["~"]=null;this.Ea["!"]=null;this.Ea["@"]=
null;this.Ea["#"]=null;this.Ea.$=null;this.Ea["%"]=null;this.Ea["^"]=null;this.Ea["&"]=null;this.Ea["("]=null;this.Ea[")"]=null;this.Ea["["]=null;this.Ea["]"]=null;this.Ea["{"]=null;this.Ea["}"]=null;this.Ea["|"]=null;this.Ea._=null;this.Ea["\\"]=null;this.Ea["-"]=null;this.Ea["="]=null;this.Ea["+"]=null;this.Ea["/"]=null;this.Ea["*"]=null};
XODText.sd.lf=function(a,f){for(var d=0,e=a.length-1,b=Math.floor((d+e)/2);a[b]!==f&&d<e;)f<a[b]?e=b-1:f>a[b]&&(d=b+1),b=Math.floor((d+e)/2);return a[b]!==f?!1:!0};
XODText.sd.prototype={CE:function(a,f,d,e,b){this.po=!1;this.Xc=a.sb();if(0>this.Xc.length||0>f.length||0<=e&&e>b)return!1;this.Qf=d;if(!this.Px(f))return!1;a=e;f=this.Xc.length;if(0>a)if(0>b)a=0,b=f-1;else return!1;else if(b<a)return!1;console.assert(0<=a&&a<=b);if(a>=f||b>=f)return!1;this.no=a;this.Jj=b;this.Ec=this.yf()?this.Jj:this.no;++this.Jj;this.Wa=this.Ha="";this.df.clear();this.Kj.clear();this.Zd.clear();this.Yb.clear();this.po=!0;this.Pa=-1;this.fi=!1;return!0},run:function(a){var f=-1,
d=-1,e=-1,b="",c="",k=new XODText.Dl;k._init();k._clear();if(!this.po||0>=this.ue.length)return new XODText.Jf(XODText.yb.ah,e,b,c,f,d);for(var h="",g=-1,l=-1;;){if(this.Ec===this.Jj)return new XODText.Jf(XODText.yb.ah,e,b,c,f,d);var m=!0;if(!this.Ha.length||this.Pa===this.Ha.length){if(!this.yf()){if(this.Pa===this.Ha.length){if(this.eA()&&!this.fi)return this.fi=!0,e=this.Ec,new XODText.Jf(XODText.yb.fp,e,b,c,f,d);++this.Ec}if(this.Ec===this.Jj)return new XODText.Jf(XODText.yb.ah,e,b,c,f,d)}else if(this.Pa===
this.Ha.length){if(this.eA()&&!this.fi)return this.fi=!0,e=this.Ec,new XODText.Jf(XODText.yb.fp,e,b,c,f,d);if(this.Ec===this.no)return new XODText.Jf(XODText.yb.ah,e,b,c,f,d);--this.Ec}(m=this.Tr(this.Ec))?this.yf()?(this.Pa=this.Ha.length,--this.Pa):this.Pa=0:this.Pa=0}this.fi=!1;m&&(console.assert(this.Pa!==this.Ha.length),d=this.LD(h,g,l,c,k),h=d.Yr,g=d.bo,l=d.ao,c=d.Lr,f=d.zo,d=d.yo);if(m&&g!==this.Ha.length){console.assert(0<h.length);b=h;e=this.Ec;this.yf()?(this.Pa=g)?--this.Pa:this.Pa=this.Ha.length:
this.Pa=l;if(this.Om())for(a.clear(),h=[],k.DD(this.Xc,h),k=0;k<h.length;++k)g=new XODText.hb,l=h[k],g.x1=l.we[0],g.y1=l.we[1],g.x2=l.we[2],g.y2=l.we[3],g.vn=l.we[4],g.xn=l.we[5],g.wn=l.we[6],g.yn=l.we[7],a.add(g);return new XODText.Jf(XODText.yb.dm,e,b,c,f,d)}this.Pa=this.Ha.length}},Px:function(a){if(0>=a.length)return!1;for(var f="",d=a.length,e=!1,b=0;b<d;++b){var c=this.vo(a.charAt(b));" "===c?e||(f+=c,e=!0):(e=!1,f+=c)}this.zx=f;this.te.clear();a="";for(b=0;b<f.length;++b)c=f.charAt(b),this.bi(c)?
this.te.add(a.length-1):a+=c;this.ue=a;this.Lp()||(this.ue=this.ue.toLowerCase());b=this.Qg;this.ue.length?this.Qg=!1:(this.ue=f,this.te.clear(),this.Qg=!0);this.Qg!==b&&0<this.Ha.length&&!this.Tr(this.Ec)&&(this.Pa=this.Ha.length);return!0},setMode:function(a){var f=this.Om(),d=this.Lp(),e=this.yf();this.Qf=a;var b=this.Om();a=this.Lp();var c=this.yf(),k=!1;d!==a&&this.Px(this.zx);if(!(0>=this.Ha.length)){f!==b&&b&&!k&&(console.assert(0<=this.Pa&&this.Pa<=this.Ha.length),this.Tr(this.Ec),k=!0);if(d!==
a&&!k){console.assert(this.Fc.length===this.Ha.length);console.assert(this.Fc.length<=this.Wa.length);f=this.Ha.length;d="";for(b=0;b<f;++b)console.assert(0<=this.Fc[b]&&this.Fc[b]<this.Wa.length),d+=this.vo(this.Wa.charAt(this.Fc[b]));this.Ha=d;a||(this.Ha=this.Ha.toLowerCase())}if(e!==c)if(console.assert(0<=this.Pa&&this.Pa<=this.Ha.length),this.Pa!==this.Ha.length)if(c)for(b=0;2>b;++b)this.Pa&&--this.Pa;else for(b=0;2>b;++b)this.Pa!==this.Ha.length&&++this.Pa;else c?(this.Pa=this.Ha.length,--this.Pa):
this.Pa=0}},Om:function(){return 0<(this.Qf&XODText.zb.Ry)},WG:function(){return 0<(this.Qf&XODText.zb.Py)},Lp:function(){return 0<(this.Qf&XODText.zb.Qy)},fH:function(){return 0<(this.Qf&XODText.zb.Ty)},yf:function(){return 0<(this.Qf&XODText.zb.xt)},eA:function(){return 0<(this.Qf&XODText.zb.Sy)},LD:function(a,f,d,e,b){var c=this.vD(-1,-1);f=c.bo;d=c.ao;var k=c.zo,h=c.yo;if(f===this.Ha.length)return c;var g,l;a=this.HD(0,0,f,d);g=a.Mx;l=a.bx;e="";for(var m=g;m<l;++m)e+=this.Wa.charAt(m);a=e;e="";
if(this.WG()){var p=g,n=l,k=this.Wa.length,q=h=0,u=!1,r=m=!1;if(p)for(--p;p;){var w=this.Wa.charAt(p);u&&this.Of(w)&&q++;u||!r||this.Of(w)||(u=m=!0);if(30<=h||0<q){p++;break}if(this.df.length>p&&-2===this.df[p]){var v=this.Wa.charAt(p+1);if("A"<=v&&"Z">=v){++p;m=!0;break}}--p;h++;r=r||this.Of(w)||"\n"===w}m||(p=g);u=n;for(q=0;n!==k;){this.Of(this.Wa.charAt(n))&&(u=n-1,q++);if(10<=q||70<=h){n===k-1||this.Of(this.Wa.charAt(n+1))||(n=u);break}n++}n===k&&--n;for(m=p;m<=n;++m)k=this.Wa.charAt(m),e="\n"===
k?e+" ":e+k;k=g-p;h=l-p}if(this.Om()){console.assert(this.Wa.length===this.df.length);console.assert(l>=g);q=l-g;u=[];for(m=g;m<l;++m)u.xf(u.length,this.df[m]);for(g=0;g<q&&0>u[g];)++g;for(m=l=g;g<q;)if(p=u[g],g===q-1)r=this.Ec,p=u[m],n=u[g],0>n&&(n=u[l]),console.assert(0<=r&&0<=p&&n>=p),w=new XODText.Cl,w.Fl(r,p,n-p+1),b._add(w),++g;else if(-1===p)console.assert(0<=u[l]),++g;else if(-2===p){console.assert(0<=u[l]);r=this.Ec;p=u[m];n=u[l];console.assert(0<=r&&0<=p&&n>=p);w=new XODText.Cl;w.Fl(r,p,
n-p+1);b._add(w);for(++g;g<q&&0>u[g];)++g;m=l=g}else 0<=p&&(console.assert(0<=u[l]),l===g||this.FD(u,l,g)?(l=g,++g):(r=this.Ec,p=u[m],n=u[l],console.assert(0<=r&&0<=p&&n>=p),w=new XODText.Cl,w.Fl(r,p,n-p+1),b._add(w),m=l=g))}c.Yr=a;c.bo=f;c.ao=d;c.Lr=e;c.zo=k;c.yo=h;return c},fs:null,Nj:null,JD:function(a){return a.replace(RegExp("[-[\\]{}()*+?.,\\\\^$|#\\s]","g"),"\\$&")},fE:function(a,f,d){Object.uu(this.ns,a)?this.Nj=this.ns[a]:(this.Nj=new RegExp(this.JD(a),"g"),this.ns[a]=this.Nj);this.Nj.lastIndex=
d;this.fs=this.Nj.exec(f);return null!=this.fs?this.Nj.lastIndex-this.fs[0].length:-1},vD:function(a,f){var d,e;d=this.Pa;for(e=this.Ha.length;;){var b=!1;console.assert(0<this.ue.length);if(this.yf()){if(d===e){a=f=e;break}a=this.Ha.lastIndexOf(this.ue,d)}else a=this.fE(this.ue,this.Ha,d);if(0>a){a=f=e;break}f=a+this.ue.length;this.yf()?(d=a,0!==d?--d:d=e):d=f;if(!this.Qg)if(0<this.te.length)if(this.Zd.length||this.Yb.length){for(var c=this.Yb.length,k=this.Zd.length,h=a-0,g=R.Ud.wd(this.te);g.lg();){var l=
g.current,l=h+l;if(!XODText.sd.lf(this.Zd,l)&&!XODText.sd.lf(this.Yb,l)){b=!0;break}}if(b)continue;for(var g=a-0,m=f-0-1,p=l=this.es(this.Yb,g);p!==c;++p){var n=this.Yb[p];if(n>=g&&n<m&&(l=n-h,!XODText.sd.lf(this.te,l))){b=!0;break}if(n>=m)break}if(b)continue;for(p=l=this.es(this.Zd,g);p!==k;++p){n=this.Zd[p];if(n>=g&&n<m&&(l=n-h,!XODText.sd.lf(this.te,l))){b=!0;break}if(n>=m)break}if(b)continue}else continue;else if(this.Yb.length)for(g=a-0,m=f-0-1,c=this.Yb.length,p=l=this.es(this.Yb,g);p!==c&&
(n=this.Yb[p],n>=g&&n<m||!(n>=m));++p);if(this.fH()){if(0!==a&&(n=a-0-1,!(XODText.sd.lf(this.Zd,n)||XODText.sd.lf(this.Yb,n)||this.Of(this.Ha.charAt(a))||this.Of(this.Ha.charAt(a-1)))))continue;if(f!==e&&(n=f-0-1,!(XODText.sd.lf(this.Zd,n)||XODText.sd.lf(this.Yb,n)||this.Of(this.Ha.charAt(f-1))||this.Of(this.Ha.charAt(f)))))continue}break}return new XODText.wr("",a,f,"",-1,-1)},Of:function(a){return Object.uu(this.Ea,a)?!0:this.lo(a)||this.VD(a)},es:function(a,f){var d=a.indexOf(f);0>d&&(d=~d);return d},
vo:function(a){a=a.charCodeAt(0);if(39===a||8217===a)a=39;else if(34===a||8220===a||8221===a)a=34;return String.fromCharCode(a)},bi:function(a){var f=a;a=a.charCodeAt(0);return"-"===f||8208===a||8209===a||65293===a||173===a},UD:function(a){var f=a;a=a.charCodeAt(0);return","===f||65292===a||65294===a},VD:function(a){var f=a;a=a.charCodeAt(0);return 32<a&&48>a||57<a&&65>a||90<a&&97>a||122<a&&127>a||this.UD(f)||this.bi(f)||173===a||1642<=a&&(1645>=a||8210<=a&&8231>=a||8240<=a&&8269>=a||8592<=a&&9215>=
a||12441<=a&&12444>=a||65281<=a&&65291>=a||65295===a||65306<=a&&65312>=a||65344===a||65371<=a&&65374>=a)?!0:!1},lo:function(a){a=a.charCodeAt(0);return 32===a||1<=a&&31>=a||160===a||8192<=a&&(8207>=a||8232<=a&&8239>=a||8298<=a&&8303>=a)?!0:!1},Tr:function(a){if(0>a||a>=this.Xc.length)return!1;this.Wa=this.Ha="";this.Fc.clear();this.Zd.clear();this.Yb.clear();var f=this.Om(),d=[],e=[];if(f){var b=this.Xc[a].text;if(!b.ready())return!1;a=b.fb;d=b.lc;e=b.Od();console.assert(a.length===d.length);this.df.clear();
this.js&&this.gs.clear()}else{b=this.Xc[a].text;if(!b.ready())return!1;a=b.fb}if(0>=a.length)return!1;for(var b="",c=a.length,k=-1,h=0;h<c;++h){var g=a.charAt(h),l=-1;f&&(l=d[h]);if("\n"===g){for(g=h-1;0<=g&&" "===a.charAt(g);)--g;if(!(0>g||this.bi(a.charAt(g)))){for(g=h+1;g<c&&" "===a.charAt(g);)++g;g>=c||this.bi(a.charAt(g))||(b+=" ",this.Fc.add(this.Wa.length),this.Wa+=" ",f&&(k=k<l?l:k,this.Kr(l,e,8*h)))}}else if(" "===g)h<c-1&&("\n"===a.charAt(h+1)||" "===a.charAt(h+1))||(b+=g,this.Fc.add(this.Wa.length),
this.Wa+=g,f&&(k=k<l?l:k,this.Kr(l,e,8*h)));else{if(this.bi(g))if(this.Qg)b+=this.vo(g),this.Fc.add(this.Wa.length);else{var m=b.length-1;h<c-1&&"\n"===a.charAt(h+1)?this.Zd.add(m):this.Yb.length&&m===this.Yb[this.Yb.length-1]||this.Yb.add(m)}else b+=this.vo(g),this.Fc.add(this.Wa.length);this.Wa+=g;f&&(k=k<l?l:k,this.Kr(l,e,8*h))}}console.assert(b.length===this.Fc.length);this.Ha=b;if(f){c=this.df.length;this.Kj.clear();for(h=0;h<k+1;++h)this.Kj.add(!0);for(h=0;h<c;++h)l=this.df[h],0<=l&&(this.Kj[l]=
!1)}this.Lp()||(this.Ha=this.Ha.toLowerCase());this.Zd.sort();this.Yb.sort();this.te.sort();return!0},Kr:function(a,f,d){this.df.add(a);if(this.js)for(a=d;a<d+8;++a)this.gs.add(f[a])},HD:function(a,f,d,e){d?(a=this.Fc[d-1],++a):a=0;e<this.Fc.length?f=this.Fc[e]:(f=this.Fc[e-1],f===this.Wa.length-1&&++f);console.assert(a>=d&&f>=e&&f>=a);if(!this.Qg){if(!XODText.sd.lf(this.te,this.ue.length-1))for(;0<f&&this.bi(this.Wa.charAt(f-1));)--f;d=this.Wa.length;if(!XODText.sd.lf(this.te,-1))for(;a<d-1&&this.bi(this.Wa.charAt(a));)++a;
f<a&&(console.assert(!1),f=a)}return new XODText.vr(a,f)},FD:function(a,f,d){console.assert(0<=f&&f<=d&&f<a.length&&d<a.length);f=a[f];a=a[d];if(f===a||f+1===a)return!0;for(d=!0;0<=f&&f<a-1;)if(!this.Kj[++f]){d=!1;break}return d},po:!1,Xc:null,Qf:0,Ea:null,Ec:0,no:0,Jj:0,Pa:0,fi:!1,Wa:null,Ha:null,Fc:null,df:null,Kj:null,ue:null,Qg:!1,zx:null,Zd:null,Yb:null,te:null,gs:null,js:!1};
XODText.Rn=function(a){this.ja="";this.ef=-1;this.ta=[];this.Qa="";this.Xc=a.sb();this.Ua=new XODText.Kf;this.Ua.Ab();this.ud=[]};
XODText.Rn.prototype={Od:function(){for(var a=this.ta.length/8,f=[],d=0;d<a;++d){var e=new XODText.hb,b=8*d;e.Nx(this.ta[b],this.ta[b+1],this.ta[b+2],this.ta[b+3],this.ta[b+4],this.ta[b+5],this.ta[b+6],this.ta[b+7]);f.add(e)}return f},lo:function(a){a=a.charCodeAt(0);return 32===a||1<=a&&31>=a||160===a||8192<=a&&(8207>=a||8232<=a&&8239>=a||8298<=a&&8303>=a)?!0:!1},hE:function(a,f){this.ta.clear();this.Qa="";var d=this.Xc.length;if(0>a||a>=d)return!1;f.normalize();if(0>=this.ef||this.ef!==a){d=this.Xc[a].text;
if(!d.ready())return!1;this.Ua=d;this.ja=this.Ua.fb;this.Qr();this.Pr();this.ef=a}var d=new XODText.Ba,e=Array(8),b,c,k,h=new XODText.Cb;h.Ab();var g,l=new XODText.qb;l.Ab();var m=[],p=!1;for(k=this.Ua.vm();!k.eb(h);k=k.lh())if(k.vc(d),d.normalize(),!f.Vm(d)){for(g=k.Md();!g.eb(l);g=g.Nd())if(g.zc(e),d.$i(e),!f.Vm(d)){b=g.Fe();var n=g.Ge();c=m.length;if(0<b&&0<c){p&&("\n"!==m[0]&&(this.lo(m[c-1])?m[c-1]="\n":m.add("\n")),p=!1);for(c=0;c<m.length;++c)this.Qa+=m[c];m.clear()}for(c=0;c<=b;++c)n+c<this.ja.length&&
(c<b?this.Qa+=this.ja.charAt(n+c):m.add(this.ja.charAt(n+c)));0<b&&(n=d.x2-d.x1,c=d.y2-d.y1,this.hf(e,Math.sqrt(n*n+c*c)/b*3))}p=!0}return 0<this.ta.length},Qr:function(){var a,f=new XODText.Cb;f.Ab();var d=Array(8),e=Array(8),b=.1,c=-100;for(a=this.Ua.vm();!a.eb(f);a=a.lh()){var k=new XODText.ia,h=new XODText.ia,g=new XODText.qb;g.Ab();var l=a.Md(),m=new XODText.qb;m.Ab();for(var p=a.Md();!p.eb(g);p=p.Nd())m=p;l.wc(0,d);k.x=(d[0]+d[2]+d[4]+d[6])/4;k.y=(d[1]+d[3]+d[5]+d[7])/4;m.wc(m.cg()-1,e);h.x=
(e[0]+e[2]+e[4]+e[6])/4;h.y=(e[1]+e[3]+e[5]+e[7])/4;g=XODText.ia.distance(k,h);g>b&&(c=Math.atan2(h.y-k.y,h.x-k.x),c*=180/3.1415926,0>c&&(c+=360),b=g)}this.Mb=c;this.hs=2>Math.abs(this.Mb)||2>Math.abs(this.Mb-180)},HI:function(a,f){this.ta.clear();this.Qa="";var d=this.Xc.length;if(0>a||a>=d)return!1;f.normalize();if(0>=this.ef||this.ef!==a){d=this.Xc[a].text;if(!d.ready())return!1;this.Ua=d;this.ja=this.Ua.fb;this.Qr();this.Pr();this.ef=a}var d=new XODText.Ba,e=Array(8),b,c,k,h=new XODText.Cb;h.Ab();
var g,l=new XODText.qb;l.Ab();var m=[],p=!1;for(k=this.Ua.vm();!k.eb(h);k=k.lh())if(k.vc(d),d.normalize(),!f.Vm(d)){for(g=k.Md();!g.eb(l);g=g.Nd())if(g.zc(e),d.$i(e),!f.Vm(d)){b=g.Fe();var n=g.Ge(),q=m.length;if(0<b&&0<q){p&&("\n"!==m[0]&&(this.lo(m[q-1])?m[q-1]="\n":m.add("\n")),p=!1);for(q=0;q<m.length;++q)this.Qa+=m[q];m.clear()}var q=0,u=Array(8),r=Array(8),w=!1,v=!1;for(c=0;c<b;++c)if(n+c<this.ja.length){var x=Array(8),y=new XODText.Ba;g.wc(c,x);y.$i(x);f.Vm(y)?0===q?w=!0:v=!0:(q++,1===q&&w&&
g.wc(c,u),g.wc(c,r),c<b?this.Qa+=this.ja.charAt(n+c):m.add(this.ja.charAt(n+c)))}"\n"!=m[b]&&m.push(" ");0<q&&(w&&this.Yh(e,u,!0),v&&this.Yh(e,r,!1),d.$i(e),b=d.x2-d.x1,n=d.y2-d.y1,this.hf(e,Math.sqrt(b*b+n*n)/q*3))}p=!0}return 0<this.ta.length},FI:function(a,f){this.ta.clear();this.Qa="";var d=this.Xc.length;if(0>a||a>=d)return!1;if(0>=this.ef||this.ef!==a){d=this.Xc[a].text;if(null==d||!d.ready())return!1;this.Ua=d;this.ja=this.Ua.fb;this.Qr();this.Pr();this.ef=a}var e,b,c,k,d=Array(8),h=Array(8),
g=new XODText.Ba,l=new XODText.Cb,m=new XODText.Cb;l.Ab();m.Ab();var p=this.hs,n=this.hs,q,u=new XODText.Cb;u.Ab();var r=new XODText.qb;r.Ab();var w=new XODText.ia;w.init(f.x1,f.y1);var v=new XODText.ia;v.init(f.x2,f.y2);m=this.KD(w,v,l,m);l=m.kx;m=m.xx;if(l.eb(u)||m.eb(u))return!1;v=new XODText.qb;w=new XODText.qb;v.Ab();w.Ab();b=e=XODText.jc.Jh;for(var x=l.Md();!x.eb(r);x=x.Nd())x.vc(d),p?(k=f.x1,q=f.y1):(q=d[0],d[0]=d[1],d[1]=q,q=d[2],d[2]=d[3],d[3]=q,k=f.y1,q=f.x1),c=(d[3]+d[1])/2,d[2]<=k?(k=
d[2]-k,c-=q,c=k*k+c*c):d[0]>=k?(k=d[0]-k,c-=q,c=k*k+c*c):(c-=q,c*=c),c<e&&(e=c,v=x);for(x=m.Md();!x.eb(r);x=x.Nd())x.vc(d),n?(e=f.x2,q=f.y2):(q=d[0],d[0]=d[1],d[1]=q,q=d[2],d[2]=d[3],d[3]=q,e=f.y2,q=f.x2),c=(d[3]+d[1])/2,d[2]<=e?(k=d[2]-e,c-=q,c=k*k+c*c):d[0]>=e?(k=d[0]-e,c-=q,c=k*k+c*c):(c-=q,c*=c),c<b&&(b=c,w=x);if(v.eb(r)||w.eb(r))return!1;q=x=0;var y;b=e=XODText.jc.Jh;var A=v.cg();for(y=0;y<A;++y)v.wc(y,d),k=(d[0]+d[2]+d[4]+d[6])/4,c=(d[1]+d[3]+d[5]+d[7])/4,k-=f.x1,c-=f.y1,c=k*k+c*c,c<e&&(e=c,
x=y);A=w.cg();for(y=0;y<A;++y)w.wc(y,d),k=(d[0]+d[2]+d[4]+d[6])/4,c=(d[1]+d[3]+d[5]+d[7])/4,k-=f.x2,c-=f.y2,c=k*k+c*c,c<b&&(b=c,q=y);c=l.ab;k=m.ab;b=v.ab;e=w.ab;if(c===k){b>e&&(c=v,v=w,w=c,c=x,x=q,q=c);l.vc(g);if(b===e&&x===q&&(c=new XODText.Ba,!c.Kp(g,f)))return!1;b===e?(q<x&&(c=x,x=q,q=c),c=q):c=v.Fe();v.wc(x,d);console.assert(p===n);p=v.Ge();console.assert(x<=c);for(n=x;n<=c;++n)p+n<this.ja.length&&(this.Qa+=this.ja.charAt(p+n));0<=c&&(v.zc(h),p=h[0]-h[2],n=h[1]-h[3],p=Math.sqrt(p*p+n*n),p=p/(c+
1)*3,this.Yh(h,d,!0),b===e&&(g=Array(8),w.wc(q,g),this.Yh(h,g,!1)),this.hf(h,p));for(x=v=v.Nd();!x.eb(r)&&x.ab<w.ab;x=x.Nd()){c=x.Fe();p=x.Ge();for(n=0;n<=c;++n)p+n<this.ja.length&&(this.Qa+=this.ja.charAt(p+n));0<c&&(x.zc(h),p=h[0]-h[2],n=h[1]-h[3],p=Math.sqrt(p*p+n*n),p=p/c*3,this.hf(h,p))}w.wc(q,d);c=w.Fe();if(b!==e){p=w.Ge();console.assert(q<=c);for(n=0;n<=q;++n)p+n<this.ja.length&&(this.Qa+=this.ja.charAt(p+n));0<c&&(w.zc(h),p=h[0]-h[2],n=h[1]-h[3],p=Math.sqrt(p*p+n*n),p=p/c*3,this.Yh(h,d,!1),
this.hf(h,p))}}else{c>k&&(p=l,l=m,m=p,c=v,v=w,w=c,c=x,x=q,q=c);l.vc(g);c=new XODText.Ba;c.Kp(g,f)||(v=l.Md(),x=0);v.wc(x,d);c=v.Fe();p=v.Ge();console.assert(x<=c);for(n=x;n<=c;++n)p+n<this.ja.length&&(this.Qa+=this.ja.charAt(p+n));0<c&&(v.zc(h),p=h[0]-h[2],n=h[1]-h[3],p=Math.sqrt(p*p+n*n),p=p/c*3,this.Yh(h,d,!0),this.hf(h,p));for(x=v=v.Nd();!x.eb(r);x=x.Nd()){c=x.Fe();p=x.Ge();for(n=0;n<=c;++n)p+n<this.ja.length&&(this.Qa+=this.ja.charAt(p+n));0<c&&(x.zc(h),p=h[0]-h[2],n=h[1]-h[3],p=Math.sqrt(p*p+
n*n),p=p/c*3,this.hf(h,p))}for(l=l.lh();!l.eb(m)&&!l.eb(u);l=l.lh())if(this.qs(l.np()))for(l.vc(g),x=l.Md();!x.eb(r);x=x.Nd()){c=x.Fe();p=x.Ge();for(n=0;n<=c;++n)p+n<this.ja.length&&(this.Qa+=this.ja.charAt(p+n));0<c&&(x.zc(h),p=h[0]-h[2],n=h[1]-h[3],p=Math.sqrt(p*p+n*n),p=p/c*3,this.hf(h,p))}m.vc(g);c=new XODText.Ba;c.Kp(g,f)||(w=m.Pz(m.zi()-1),q=w.cg()-1);for(x=m.Md();!x.eb(r)&&!x.eb(w);x=x.Nd()){c=x.Fe();p=x.Ge();for(n=0;n<=c;++n)p+n<this.ja.length&&(this.Qa+=this.ja.charAt(p+n));0<c&&(x.zc(h),
p=h[0]-h[2],n=h[1]-h[3],p=Math.sqrt(p*p+n*n),p=p/c*3,this.hf(h,p))}w.wc(q,d);c=w.Fe();p=w.Ge();console.assert(q<=c);for(n=0;n<=q;++n)p+n<this.ja.length&&(this.Qa+=this.ja.charAt(p+n));0<c&&(w.zc(h),p=h[0]-h[2],n=h[1]-h[3],p=Math.sqrt(p*p+n*n),p=p/c*3,this.Yh(h,d,!1),this.hf(h,p))}return 0<this.ta.length},hf:function(a,f){var d=this.ta.length/8;if(d){for(var e=Array(8),d=8*(d-1),b=0;8>b;++b)e[b]=this.ta[d+b];if(XODText.hb.uo(e,a,!0,f))for(b=0;8>b;++b)this.ta[d+b]=e[b];else for(b=0;8>b;++b)this.ta.add(a[b])}else for(var b=
0;8>b;++b)this.ta.add(a[b])},Yh:function(a,f,d){var e=new XODText.ia;e.init(a[0],a[1]);var b=new XODText.ia;b.init(a[2],a[3]);var c=XODText.ia.Ji(b,e);c.normalize()&&(d?(b=new XODText.ia,b.init(f[0],f[1]),f=XODText.ia.Ji(b,e),f=f.uc(c),c=XODText.ia.multiply(c,f),a[0]+=c.x,a[1]+=c.y,a[6]+=c.x,a[7]+=c.y):(e=new XODText.ia,e.init(f[2],f[3]),f=XODText.ia.Ji(e,b),f=f.uc(c),c=XODText.ia.multiply(c,f),a[2]+=c.x,a[3]+=c.y,a[4]+=c.x,a[5]+=c.y))},qx:function(a){var f=XODText.Na.Vi(0),d=XODText.Na.Vi(1.570796325),
e=XODText.Na.Vi(3.14159265),b=XODText.Na.Vi(3.14159265*1.5);switch(parseInt(a/90+.1)){case 0:return f;case 1:return d;case 2:return e;case 3:return b;case 4:return f;default:return f}},qs:function(){return!0},Tx:function(a,f){var d=this.qx(f),e=new XODText.gc(a.x1,a.y1),e=d.W(e);a.x1=e.x;a.y1=e.y;e=new XODText.gc(a.x2,a.y2);e=d.W(e);a.x2=e.x;a.y2=e.y;a.normalize()},Pr:function(){this.ud.clear();var a,f=new XODText.Cb;f.Ab();var d=new XODText.Ba,e=new XODText.Ao,b=!1,c=new XODText.Ba;for(a=this.Ua.vm();!a.eb(f);a=
a.lh())if(this.qs(a.np())){a.vc(d);d.normalize();var k=new XODText.Ba;k.Ie(d);this.Tx(d,this.Mb);if(b){var h=!0;d.y1>c.y1&&(h=!1);if(d.x2<c.x1||d.x1>c.x2)h=!1;var g=d.width()/c.width(),l=d.height()/c.height();if(1.6<g||.7>g||1.4<l||.7>l)h=!1;h?(e.qo.union(k),e.ff.union(d)):(this.ud.add(e),e=new XODText.Ao,e.qo.Ie(k),e.ff.Ie(d),e.ro=a);e.so=a}else e.qo.Ie(k),e.ff.Ie(d),e.ro=a,e.so=a,b=!0;c.Ie(d)}b&&this.ud.add(e)},hx:function(a,f){for(var d=XODText.jc.Jh,e=new XODText.Ba,b=a.ro,c=a.ro;;c=c.lh()){if(!this.qs(c.np()))if(c.eb(a.so))break;
else continue;c.vc(e);this.Tx(e,this.Mb);var k=(e.y1+e.y2)/2;Math.abs(k-f.y)<d&&(b=c,d=Math.abs(k-f.y));if(c.eb(a.so))break}return b},KD:function(a,f,d,e){var b=-1,c=-1,k=!1,h=!1,g=this.qx(this.Mb),l=new XODText.ia,m=new XODText.ia;l.Ip(a);m.Ip(f);a=new XODText.gc(l.x,l.y);a=g.W(a);l.x=a.x;l.y=a.y;a=new XODText.gc(m.x,m.y);a=g.W(a);m.x=a.x;m.y=a.y;f=0;for(var p=this.ud.length;f<p;++f)g=this.ud[f],0>b&&g.ff.contains(l.x,l.y)&&(b=f,h=!0),0>c&&g.ff.contains(m.x,m.y)&&(c=f,k=!0);if(!h||!k){a=[];for(g=
0;g<this.ud.length;++g)a.add(0);var g=Math.max(b,c),n=new XODText.Ba;n.Xa(l.x,l.y,m.x,m.y);n.RG(.1);0<=g&&n.union(this.ud[g].ff);var q=new XODText.Ba;f=0;for(p=this.ud.length;f<p;++f){var u=new XODText.Ba;u.Ie(this.ud[f].ff);q.Kp(u,n)&&(a[f]=1)}f=a.indexOf(1);for(n=p=a.indexOf(1);-1!==p;){n=p;p++;if(p>=a.length)break;p=a.indexOf(1,p)}a=n;if(0>f)return new XODText.On(d,e);0>g?(b=f,c=a,k=new XODText.Ba,k.Ie(this.ud[b].ff),h=(l.x-k.x1)*(l.x-k.x2),h=0<h?Math.min(Math.abs(l.x-k.x1),Math.abs(l.x-k.x2)):
0,g=(l.y-k.y1)*(l.y-k.y2),g=0<g?Math.min(Math.abs(l.y-k.y1),Math.abs(l.y-k.y2)):0,a=(m.x-k.x1)*(m.x-k.x2),a=0<a?Math.min(Math.abs(m.x-k.x1),Math.abs(m.x-k.x2)):0,f=(m.y-k.y1)*(m.y-k.y2),f=0<f?Math.min(Math.abs(m.y-k.y1),Math.abs(m.y-k.y2)):0,h*h+g*g>a*a+f*f&&(k=b,b=c,c=k)):(p=new XODText.Ba,p.Ie(this.ud[g].ff),n=new XODText.ia,h?n.Ip(m):n.Ip(l),console.assert(!(h&&k)&&!(!h&&!k)),console.assert(!p.contains(n.x,n.y)),g-f>Math.max(a-g,0)?(h||(b=Math.min(g,f)),k||(c=Math.min(g,f))):(h||(b=Math.max(g,
a)),k||(c=Math.max(g,a))))}0<=b&&0<=c&&(d=this.hx(this.ud[b],l,d),e=this.hx(this.ud[c],m,e));return new XODText.On(d,e)},ta:null,Qa:null,Xc:null,Ua:null,ef:0,Mb:0,hs:!1,ud:null};XODText.Jf=function(a,f,d,e,b,c){this.yq=a;this.Mu=f;this.Yu=d;this.fy=e;this.$A=b;this.ZA=c};XODText.Jf.prototype={yq:0,Mu:0,Yu:null,fy:null,$A:0,ZA:0};XODText.On=function(a,f){this.kx=a;this.xx=f};XODText.On.prototype={kx:null,xx:null};XODText.vr=function(a,f){this.Mx=a;this.bx=f};XODText.vr.prototype={Mx:0,bx:0};
XODText.wr=function(a,f,d,e,b,c){this.Yr=a;this.bo=f;this.ao=d;this.Lr=e;this.zo=b;this.yo=c};XODText.wr.prototype={Yr:null,bo:0,ao:0,Lr:null,zo:0,yo:0};XODText.io.Fa("XODText._intData");XODText.gc.Fa("XODText.Point2D");XODText.hb.Fa("XODText.Quad");XODText.Na.Fa("XODText.Matrix2D");XODText.Dl.Fa("XODText._highlights");XODText.Cl.Fa("XODText._highlight");XODText.$r.Fa("XODText._highlightDocInfo");XODText.Ao.Fa("XODText._selectionTextBlock");XODText.zb.Fa("XODText.SearchMode");XODText.yb.Fa("XODText.ResultCode");
XODText.sd.Fa("XODText.TextSearchLowlevel");XODText.Rn.Fa("XODText.TextLocator");XODText.Jf.Fa("XODText.ResultRun");XODText.On.Fa("XODText.ResultFindStructuralBounds");XODText.vr.Fa("XODText.ResultDetermineOriRange");XODText.wr.Fa("XODText.ResultFindTexts");XODText.io.vw=-2147483648;XODText.hb.WE=Math.cos(3.14159265/180*2);XODText.zb.Qy=1;XODText.zb.Ty=2;XODText.zb.xt=4;XODText.zb.Sy=8;XODText.zb.Ry=16;XODText.zb.Py=32;XODText.yb.ah=0;XODText.yb.fp=1;XODText.yb.dm=2;self.Za.sq("XODText");
XODText.If=function(){this.Sw={};this.ks=1E3;this.Bx=200};XODText.If.prototype={Cx:0,Dx:0,ks:0,Bx:0,iz:function(a){var f=new XODText.Ba,d=this.Sw[a];"undefined"!=typeof d?f.Ie(d):window.utils.warn("Character "+a+" does not have bounding box.");return f},As:function(a,f,d){var e=new XODText.Ba;e.set(f,this.Cx,d,this.Dx);this.Sw[a]=e},gv:function(a,f){this.Cx=a;this.Dx=f},rJ:function(a){this.ks=a}};XODText.or=function(){this.Gt={};this.mc=!1};
$.extend(XODText.or.prototype,{mc:!1,isReady:function(){return this.mc},QL:function(){return this.Gt},Su:function(a){try{var f=new window.Vd(a);console.assert("FontInfo"===f.ma(),"Root element is incorrect.");"FontInfo"===f.ma()&&(f.ka(),this._parse(f))}catch(d){console.warn("Font Parser has encountered an error: "+d.message);return}this.mc=!0},co:function(a){var f="",d=0,e,b,c;for(2<=a.length&&"{"===a.charAt(0)&&"}"===a.charAt(1)&&(a=a.substr(2));d<a.length;)e=a.charCodeAt(d),128>e?(f+=String.fromCharCode(e),
d++):191<e&&224>e?(b=a.charCodeAt(d+1),f+=String.fromCharCode((e&31)<<6|b&63),d+=2):(b=a.charCodeAt(d+1),c=a.charCodeAt(d+2),f+=String.fromCharCode((e&15)<<12|(b&63)<<6|c&63),d+=3);return f},bE:function(a){a=a.J("name");console.assert(42===a.length,"Font file name is incorrect.");console.assert(null!=a,"Font file name is incorrect.");return"f"+parseInt("0x"+a.substr(28,8))},aE:function(a,f){console.assert(null!=f,"Font bbox file is corrupted.");var d=a.J("height");console.assert(null!=d,"Height attribute is missing.");
d=d.split(":");f.gv(parseFloat(d[0]),parseFloat(d[1]))},cE:function(a,f){var d=a.J("units_per_em");null!=d&&f.rJ(parseInt(d))},$D:function(a,f){console.assert(null!=f,"Font bbox file is corrupted.");var d=a.J("bbox");console.assert(null!=d,"Character width is missing.");var e=d.split(":"),d=parseFloat(e[0]),e=parseFloat(e[1]),b=this.co(a.ed());console.assert(0<b.length,"Char value is empty.");f.As(b,d,e)},_parse:function(a){do{for(var f=null;a.advance();){var d=a.ma();"Font"===d?(f=new XODText.If,
d=this.bE(a),this.aE(a,f),this.cE(a,f),this.Gt[d]=f,a.ka()):"c"===d?this.$D(a,f):console.warn("Font XML parser has encountered a tag it can't process.")}a.ra()}while(a.depth)}});XODText.If.Fa("XODText.Font");XODText.or.Fa("XODText.FontParser");
(function(a){function f(b){this.done=!1;this.worker=new Worker(a.o.kk()+"CoreWorker.js");var c=null,d=null,e=this;this.index=b;this.worker.addEventListener("message",function(a){switch(a.data.command){case "done":e.done=!0;d=null;break;case "nextChunk":c=a.data.resources;d=a.data.dataString;break;default:throw Error("Unknown message command "+a.data.command+" from worker");}e.done?(e.callback(null,[]),e.finish()):c&&d&&(e.callback(d,c),d=c=null)},!1);this.nK()}var d=[],e=[],b="./",c=!1;f.prototype=
{setData:function(a){this.done=!1;this.worker.postMessage({command:"data",dataString:a})},cancel:function(){this.worker.postMessage({command:"cancel"})},nK:function(){this.worker.postMessage({command:"options",imageScaling:c,specialBlendSupported:a.utils.specialBlendSupported})},DH:function(a){this.callback=a;this.worker.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(e.length){var a=e[0];e.shift();this.setData(a.data);a.Rs(this)}}};a.FG=function(a,b){for(var c=d.length,l,m=
0;m<c;++m)d[m].done&&(l=d[m]);l||4>c&&(l=d[c]=new f(c));l?(l.setData(a),b(l)):e.push({Rs:b,data:a})};a.o=a.o||{};a.o.kk=function(){return b};a.o.tJ=function(a){a.indexOf("/")!==a.length-1&&(a+="/");b=a};a.o.LI=function(a){!0===a&&(a=1.4);c=a}})(window);
(function(a){function f(a,b){var c=Error.apply(this,arguments);c.name=this.name="WorkerError";this.stack=c.stack;this.message=c.message;this.userMessage=b}function d(a){n.push(a);for(var b=0;b<q.length;++b)a(q[b])}function e(b,n,q){if(_.isUndefined(b))return null;var e,g=new Promise(function(c,q){d(function(){q(new f("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});var g={};h&&(g.workerHeapSize=h);p&&(g.pdfResourcePath=p);e=new aa(b,n,g);e.mK.then(function(){c()},
function(a){q(a)})}),u=new Promise(function(b,c){if(a.utils.isJSWorker&&a.jsworker&&a.jsworker.utils)"android"!==a.jsworker.platform&&"ios"!==a.jsworker.platform||!a.jsworker.utils.getResourcesDir?a.jsworker.utils.getHTMLContentPath?a.jsworker.utils.getHTMLContentPath(function(a){a?(a.endsWith("/")||(a+="/"),b(a+"js/html5/pdf/")):c(new f("Couldn't fetch resource file path."))}):c(new f("Some functions required for fetching resources are not defined.")):a.jsworker.utils.getResourcesDir(function(a,
n){a?c(a):b(n)});else{var n=new XMLHttpRequest;n.open("GET",(sgyGetAssetPath()?sgyGetAssetPath()+'pdf/':window.o.Bz())+"pdfnet.res",!0);n.responseType="arraybuffer";n.onload=function(){200===n.status?b(n.response):c(new f("Couldn't fetch resource file.","error.ResourceLoadError"))};n.onerror=function(){c(new f("Network error","error.ResourceLoadError"))};n.send(null)}});return Promise.all([g,u]).then(function(b){return a.utils.isJSWorker&&a.jsworker&&a.jsworker.utils?e.pH(b[1],q):e.oH(b[1],q)}).then(function(){"undefined"!==typeof c&&e.bv(c);
"undefined"!==typeof k&&e.Eq(k);return e})}var b,c,k,h,g,l=a.utils.chromeHasSubzero,m,p,n=[],q=[],u=_.throttle(function(a){var b=n.length;q.push(a);for(var c=0;c<b;++c)n[c](a)},100,{trailing:!1});f.prototype=Object.create(Error.prototype,{constructor:{value:f,writable:!0,configurable:!0}});a.o=a.o||{};a.o.bv=function(a){c=a;b&&b.then(function(b){b.bv(a)})};a.o.Eq=function(a){k=a;b&&b.then(function(a){a.Eq(k)})};a.o.uF=function(b){a.utils.chromeHasSubzero&&(l=b)};a.o.dH=function(){return l};a.o.bJ=
function(a){a.indexOf("/")!==a.length-1&&(a+="/");m=a};a.o.ym=function(){return m?m:a.o.kk()+"pdf/"};a.o.aJ=function(a){a.indexOf("/")!==a.length-1&&(a+="/");p=a};a.o.Bz=function(){return p?p:a.o.kk()+"pdf/"};a.o.SI=function(a){h=a};var r,w,v,x;a.o.SF=function(){x||(x=new Promise(function(b){if(a.utils.isJSWorker&&a.jsworker)b("jsworker");else if(a.utils.isChrome){var c=$('<embed name="simple_module" id="simple_module" width=0 height=0 src="'+(sgyGetAssetPath()?sgyGetAssetPath()+'pdf/':window.o.ym())+'SimpleWorker.nmf" type="application/x-pnacl" style="position:absolute" />'),
n=c[0];n.addEventListener("error",function(){console.log("PNaClError: PNaCl failed to load. Falling back to Emscripten.");b("ems")},!0);$(document.body).prepend(c);var d=!1,h=function(a){d||(b(a),clearTimeout(q),c.remove(),d=!0)};if("undefined"===typeof n.postMessage)console.log("PNaClError: PNaCl seems to be disabled. Falling back to Emscripten."),h("ems");else{var q,e=function(){console.log("PNaClError: PNaCl Timed out. Falling back to Emscripten.");h("ems")};n.addEventListener("progress",function(){clearTimeout(q);
q=setTimeout(e,5E3)});n.addEventListener("message",function(a){clearTimeout(q);"T"===a.data?h("pnacl"):(console.log("PNaClError: PNaCl responded incorrectly. Falling back to Emscripten."),h("ems"))});n.postMessage("T");q=setTimeout(e,5E3)}}else b("ems")}));return x};a.o.oz=function(){return v};a.o.JA=function(c,n,q){if(!b||c!==a.o.oz()){q=q||{};var e;r=new Promise(function(b,g){function k(b){function c(a){"action"in a.data&&"workerLoaded"===a.data.action&&(b.workerLoadingProgress&&b.workerLoadingProgress(1),
n.removeEventListener("message",c))}var n;d(function(){g(new f("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});n=h||p?new Worker(window.o.ym()+"ResizableWorker.js"):new Worker(window.o.ym()+"PDFworker.js?asset_path="+encodeURIComponent(sgyGetAssetPath()));n.onerror=u;w=!0;n.addEventListener("message",c,!1);a.o.kB(3E3);return n}function r(a,c){b(a);v=c}if("jsworker"===c)console.log("Attempting to load JSWorker"),a.utils.isJSWorker&&(e=a.jsworker.loadWorker(),console.log("JSWorker loaded!"),e&&e.getProcessId(function(a){console.log("Loaded worker in process: "+
a)})),w=!1,r(e,"jsworker");else if("pnacl"===c){_.isUndefined(q.useEmscriptenWhileLoading)&&(q.useEmscriptenWhileLoading=!0);_.isUndefined(q.autoSwap)&&(q.autoSwap=!0);w=!1;var m=$('<embed name="pnacl_module" id="pnacl_module" width=0 height=0 src="'+(sgyGetAssetPath()?sgyGetAssetPath()+'pdf/':window.o.ym())+(l?'PDFWorkerSubzero.nmf" ':'PDFWorker.nmf" ')+'type="application/x-pnacl" style="position:absolute" />');$(document.body).prepend(m);var x=function(a){a.lengthComputable&&(q.useEmscriptenWhileLoading?(e.removeEventListener("progress",x,
!0),e.removeEventListener("loadend",J,!0),e.removeEventListener("crash",K,!0),e.removeEventListener("error",L,!0),r(k(n),"ems"),e.addEventListener("loadend",function(){w=!1;v="pnacl";n.pnaclComplete&&n.pnaclComplete(e);q.autoSwap&&window.o.YA(e)})):n.workerLoadingProgress&&n.workerLoadingProgress(a.loaded/a.total))},J=function(){n.workerLoadingProgress&&n.workerLoadingProgress(1);q.useEmscriptenWhileLoading&&r(e,"pnacl")},K=function(){g(new f("The Worker has Crashed.","error.PNaClCrashError"))},L=
function(){g(new f("Error occurred on worker load.","error.PNaClLoadError"))};e=m[0];e.addEventListener("progress",x,!0);e.addEventListener("loadend",J,!0);e.addEventListener("crash",K,!0);e.addEventListener("error",L,!0);q.useEmscriptenWhileLoading||r(e,"pnacl")}else"ems"===c&&r(k(n),"ems")})}};a.o.YA=function(a){r=Promise.resolve(a);b=null};a.o.YG=function(){return g};a.o.Wz=function(c,n,d){r||a.o.JA(c,n);if(b){if(g&&d)throw Error("PDFNet was already initialized in demo mode. For solution see pdftron.com/kb_demo_init. Note that calling initPDFWorkerTransports or creating WebViewer object will also call PDFNet.initialize so your license key should be used in all of these calls.");
}else g=!d,b=r.then(function(a){return e(a,w,d)});return b};a.Dr=f})(window);
(function(a){function f(a,b,c,h,g,k){this.Gh=16;this.CC=288;this.status=0;this.root=null;this.m=0;var f=Array(this.Gh+1),l,x,y,A,B,E,M,z=Array(this.Gh+1),H,G,I,D=new d,J=Array(this.Gh);A=Array(this.CC);var K,L=Array(this.Gh+1),P,F,N;N=this.root=null;for(B=0;B<f.length;B++)f[B]=0;for(B=0;B<z.length;B++)z[B]=0;for(B=0;B<J.length;B++)J[B]=null;for(B=0;B<A.length;B++)A[B]=0;for(B=0;B<L.length;B++)L[B]=0;l=256<b?a[256]:this.Gh;H=a;G=0;B=b;do f[H[G]]++,G++;while(0<--B);if(f[0]==b)this.root=null,this.status=
this.m=0;else{for(E=1;E<=this.Gh&&0==f[E];E++);M=E;k<E&&(k=E);for(B=this.Gh;0!=B&&0==f[B];B--);y=B;k>B&&(k=B);for(P=1<<E;E<B;E++,P<<=1)if(0>(P-=f[E])){this.status=2;this.m=k;return}if(0>(P-=f[B]))this.status=2,this.m=k;else{f[B]+=P;L[1]=E=0;H=f;G=1;for(I=2;0<--B;)L[I++]=E+=H[G++];H=a;B=G=0;do 0!=(E=H[G++])&&(A[L[E]++]=B);while(++B<b);b=L[y];L[0]=B=0;H=A;G=0;A=-1;K=z[0]=0;I=null;for(F=0;M<=y;M++)for(a=f[M];0<a--;){for(;M>K+z[1+A];){K+=z[1+A];A++;F=(F=y-K)>k?k:F;if((x=1<<(E=M-K))>a+1)for(x-=a+1,I=M;++E<
F&&!((x<<=1)<=f[++I]);)x-=f[I];K+E>l&&K<l&&(E=l-K);F=1<<E;z[1+A]=E;I=Array(F);for(x=0;x<F;x++)I[x]=new d;N=null==N?this.root=new e:N.next=new e;N.next=null;N.list=I;J[A]=I;0<A&&(L[A]=B,D.b=z[A],D.e=16+E,D.t=I,E=(B&(1<<K)-1)>>K-z[A],J[A-1][E].e=D.e,J[A-1][E].b=D.b,J[A-1][E].n=D.n,J[A-1][E].t=D.t)}D.b=M-K;G>=b?D.e=99:H[G]<c?(D.e=256>H[G]?16:15,D.n=H[G++]):(D.e=g[H[G]-c],D.n=h[H[G++]-c]);x=1<<M-K;for(E=B>>K;E<F;E+=x)I[E].e=D.e,I[E].b=D.b,I[E].n=D.n,I[E].t=D.t;for(E=1<<M-1;0!=(B&E);E>>=1)B^=E;for(B^=
E;(B&(1<<K)-1)!=L[A];)K-=z[A],A--}this.m=z[1];this.status=0!=P&&1!=y?1:0}}}function d(){this.n=this.b=this.e=0;this.t=null}function e(){this.list=this.next=null}var b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],g=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];a.Gg||(a.Gg={});a.Gg.lw=function(a){this.wK();this.Zq=a;this.$q=0};a.Gg.lw.prototype={getBytes:function(a){for(var b,c=Array(1024),d=[],h=0;h<a&&0<(b=this.vK(c,0,c.length));)d[d.length]=String.fromCharCode.apply(null,c.slice(0,b)),h+=b;return h?(this.Zq=this.Zq.slice(this.$q),this.$q=0,d.join("")):""},rK:function(){return this.Zq.length==this.$q?-1:this.Zq.charCodeAt(this.$q++)&
255},Ub:function(a){for(;this.ej<a;)this.al|=this.rK()<<this.ej,this.ej+=8},fc:function(a){return this.al&b[a]},Kb:function(a){this.al>>=a;this.ej-=a},Yq:function(a,b,c){var d,h,e;if(0==c)return 0;for(e=0;;){this.Ub(this.Se);h=this.Fh.list[this.fc(this.Se)];for(d=h.e;16<d;){if(99==d)return-1;this.Kb(h.b);d-=16;this.Ub(d);h=h.t[this.fc(d)];d=h.e}this.Kb(h.b);if(16==d)this.Rc&=32767,a[b+e++]=this.Eh[this.Rc++]=h.n;else{if(15==d)break;this.Ub(d);this.Ad=h.n+this.fc(d);this.Kb(d);this.Ub(this.$k);h=this.YB.list[this.fc(this.$k)];
for(d=h.e;16<d;){if(99==d)return-1;this.Kb(h.b);d-=16;this.Ub(d);h=h.t[this.fc(d)];d=h.e}this.Kb(h.b);this.Ub(d);this.fj=this.Rc-h.n-this.fc(d);for(this.Kb(d);0<this.Ad&&e<c;)this.Ad--,this.fj&=32767,this.Rc&=32767,a[b+e++]=this.Eh[this.Rc++]=this.Eh[this.fj++]}if(e==c)return c}this.Dh=-1;return e},xK:function(a,b,c){var d;d=this.ej&7;this.Kb(d);this.Ub(16);d=this.fc(16);this.Kb(16);this.Ub(16);if(d!=(~this.al&65535))return-1;this.Kb(16);this.Ad=d;for(d=0;0<this.Ad&&d<c;)this.Ad--,this.Rc&=32767,
this.Ub(8),a[b+d++]=this.Eh[this.Rc++]=this.fc(8),this.Kb(8);0==this.Ad&&(this.Dh=-1);return d},uK:function(a,b,n){if(null==this.Xq){var d,e=Array(288);for(d=0;144>d;d++)e[d]=8;for(;256>d;d++)e[d]=9;for(;280>d;d++)e[d]=7;for(;288>d;d++)e[d]=8;this.Iv=7;d=new f(e,288,257,c,k,this.Iv);if(0!=d.status)return alert("HufBuild error: "+d.status),-1;this.Xq=d.root;this.Iv=d.m;for(d=0;30>d;d++)e[d]=5;this.Hv=5;d=new f(e,30,0,h,g,this.Hv);if(1<d.status)return this.Xq=null,alert("HufBuild error: "+d.status),
-1;this.sK=d.root;this.Hv=d.m}this.Fh=this.Xq;this.YB=this.sK;this.Se=this.Iv;this.$k=this.Hv;return this.Yq(a,b,n)},tK:function(a,b,n){var d,e,r,w,v,x,y,A=Array(316);for(d=0;d<A.length;d++)A[d]=0;this.Ub(5);x=257+this.fc(5);this.Kb(5);this.Ub(5);y=1+this.fc(5);this.Kb(5);this.Ub(4);d=4+this.fc(4);this.Kb(4);if(286<x||30<y)return-1;for(e=0;e<d;e++)this.Ub(3),A[l[e]]=this.fc(3),this.Kb(3);for(;19>e;e++)A[l[e]]=0;this.Se=7;e=new f(A,19,19,null,null,this.Se);if(0!=e.status)return-1;this.Fh=e.root;this.Se=
e.m;w=x+y;for(d=r=0;d<w;)if(this.Ub(this.Se),v=this.Fh.list[this.fc(this.Se)],e=v.b,this.Kb(e),e=v.n,16>e)A[d++]=r=e;else if(16==e){this.Ub(2);e=3+this.fc(2);this.Kb(2);if(d+e>w)return-1;for(;0<e--;)A[d++]=r}else{17==e?(this.Ub(3),e=3+this.fc(3),this.Kb(3)):(this.Ub(7),e=11+this.fc(7),this.Kb(7));if(d+e>w)return-1;for(;0<e--;)A[d++]=0;r=0}this.Se=9;e=new f(A,x,257,c,k,this.Se);0==this.Se&&(e.status=1);if(0!=e.status)return-1;this.Fh=e.root;this.Se=e.m;for(d=0;d<y;d++)A[d]=A[d+x];this.$k=6;e=new f(A,
y,0,h,g,this.$k);this.YB=e.root;this.$k=e.m;return 0==this.$k&&257<x||0!=e.status?-1:this.Yq(a,b,n)},wK:function(){null==this.Eh&&(this.Eh=Array(65536));this.ej=this.al=this.Rc=0;this.Dh=-1;this.Wq=!1;this.Ad=this.fj=0;this.Xq=this.Fh=null},vK:function(a,b,c){var d,h;for(d=0;d<c&&(!this.Wq||-1!=this.Dh);){if(0<this.Ad){if(0!=this.Dh)for(;0<this.Ad&&d<c;)this.Ad--,this.fj&=32767,this.Rc&=32767,a[b+d++]=this.Eh[this.Rc++]=this.Eh[this.fj++];else{for(;0<this.Ad&&d<c;)this.Ad--,this.Rc&=32767,this.Ub(8),
a[b+d++]=this.Eh[this.Rc++]=this.fc(8),this.Kb(8);0==this.Ad&&(this.Dh=-1)}if(d==c)break}if(-1==this.Dh){if(this.Wq)break;this.Ub(1);0!=this.fc(1)&&(this.Wq=!0);this.Kb(1);this.Ub(2);this.Dh=this.fc(2);this.Kb(2);this.Fh=null;this.Ad=0}switch(this.Dh){case 0:h=this.xK(a,b+d,c-d);break;case 1:h=null!=this.Fh?this.Yq(a,b+d,c-d):this.uK(a,b+d,c-d);break;case 2:h=null!=this.Fh?this.Yq(a,b+d,c-d):this.tK(a,b+d,c-d);break;default:h=-1}if(-1==h)return this.Wq?0:-1;d+=h}return d}};a.Gg.inflate=function(b){return(new a.Gg.lw(b)).getBytes(4E9)}})(self);
(function(a){a.Te={Pg:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(f){for(var d="",e,b,c,k,h,g,l=0;l<f.length;)e=f.charCodeAt(l++),b=f.charCodeAt(l++),c=f.charCodeAt(l++),k=e>>2,e=(e&3)<<4|b>>4,h=(b&15)<<2|c>>6,g=c&63,isNaN(b)?h=g=64:isNaN(c)&&(g=64),d=d+a.Te.Pg.charAt(k)+a.Te.Pg.charAt(e)+a.Te.Pg.charAt(h)+a.Te.Pg.charAt(g);return d},decode:function(f){var d="",e,b,c,k,h,g=0;for(f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");g<f.length;)e=a.Te.Pg.indexOf(f.charAt(g++)),
b=a.Te.Pg.indexOf(f.charAt(g++)),k=a.Te.Pg.indexOf(f.charAt(g++)),h=a.Te.Pg.indexOf(f.charAt(g++)),e=e<<2|b>>4,b=(b&15)<<4|k>>2,c=(k&3)<<6|h,d+=String.fromCharCode(e),64!==k&&(d+=String.fromCharCode(b)),64!==h&&(d+=String.fromCharCode(c));return d}};"undefined"===typeof window.btoa&&(window.btoa=a.Te.encode);"undefined"===typeof window.atob&&(window.atob=a.Te.decode)})(window);
(function(a){function f(a){var e;"string"!==typeof a?(e={documentElement:a},this.su=!1):"undefined"!==typeof DOMParser?(e=new DOMParser,e=e.parseFromString(a,"text/xml"),this.su=!1):(e=new ActiveXObject("MSXML2.DOMDocument"),e.preserveWhiteSpace=!0,e.async=!1,e.loadXML(a),this.su=!0);this.current=e.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}f.prototype={Kw:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.Kw();
return this.next?(this.current=this.next,this.next=this.current.nextSibling,!0):!1},ma:function(){return this.current.tagName},ka:function(){++this.depth;this.next=this.current.firstChild;this.Kw();this.next||++this.diff},ra:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},J:function(a){return this.current.getAttribute(a)},ed:function(){return this.su?this.current.text:this.current.textContent}};a.Vd=f})(window);
(function(a){function f(a){this.depth=this.index=0;this.md=a;this.location={start:0,Sp:1,Tp:1,end:a.length,empty:!0};this.Sm=[this.location];this.nu=!1;"?"===this.md.charAt(1)&&this.yz();this.location.empty=!1}f.prototype={advance:function(){this.Wg=null;this.yz();var a=this.location.start;++a;this.location.empty=!1;if("/"!==this.md.charAt(a))return this.location.empty="/"===this.md.charAt(this.md.indexOf(">",a)-1),!0;this.location.end=!0;return!1},bF:function(a){if(a)return a.split("&quot;").join('"').split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&")},
jA:function(){var a=this.location.start+1,e=this.md.indexOf(">",a);this.location.empty&&--e;a=this.md.substring(a,e);this.Wg={};e=a.indexOf(" ");if(-1!==e){this.Uy=a.substring(0,e);for(var a=a.slice(e),a=a.split('"'),e=a.length-1,b=0;b<e;++b){var c=a[b],k=a[++b];this.Wg[c.substring(1,c.length-1)]=k}}else this.Uy=a},yz:function(){if(this.nu)this.nu=!1,this.location.start=this.md.indexOf("<",this.location.start+1);else{var a=this.location.Sp;if(!this.location.empty)for(var e=this.location.Tp;0<e;)a=
this.md.indexOf("<",a),"/"===this.md.charAt(++a)?--e:(a=this.md.indexOf(">",a),"/"!==this.md.charAt(a-1)&&++e);this.location.start=this.md.indexOf("<",a)}this.location.Sp=this.location.start+1;this.location.Tp=1},mark:function(){this.md.mark&&this.md.mark(this.location.start)},ma:function(){null!==this.Wg&&"undefined"!==typeof this.Wg||this.jA();return this.Uy},ka:function(){++this.depth;this.location={start:this.location.start};this.Sm[this.Sm.length]=this.location;this.nu=!0},ra:function(){--this.depth;
this.Wg=null;var a=this.location.Sp,e=this.location.Tp,b=this.location.empty,c=this.location.end;this.Sm.pop();this.location=this.Sm[this.Sm.length-1];this.location.Sp=a;this.location.Tp=c?0:b?e:e+1},J:function(a){null!==this.Wg&&"undefined"!==typeof this.Wg||this.jA();return this.bF(this.Wg[a])}};a.XK=f})(self);
(function(a){function f(a){if(a){if(a.length!==this.ij)throw Error("Data is wrong size for zip header!");this.gm=a=this.cI(a);if(a.Sk!==this.wF)throw Error("Signature is wrong!");this.gH=4294967295===a.$o;this.bh={};this.names=[]}}function d(b,d,h){this.source=b;this.Vo=this.Us=!1;this.me={};this.hm=function(){};this.decrypt=d;this.$l=h;this.Dy=a.o.Hf&&d!==a.o.Hf.decrypt}function e(a){this.Qi=a;this.started=!1;this.pg=1}e.prototype={cancel:function(){}};d.prototype={We:"Document/FixedDocument.fdoc",
Ef:"Document/DocProps/core.xml",Ue:"Document/Structure/DocStruct.struct",TI:function(a){this.hm=a},vq:function(b){var d=this;this.tk(function(h){if(h){a.utils.warn("Error loading document: "+h);d.hm(h);if(b){b(h);return}throw h;}return d.request([d.We,d.Ef,d.Ue])})},Ui:function(){return!1},request:function(a,b){var d=this;if(!d.Us)throw Error("Document must be loaded before requesting parts");_(a).each(function(a){d.BF(a,function(a,c,e,n){return a?(c!==d.Ue&&d.hm(a),d.trigger("partReady",{na:c,mf:!1,
Hc:!!a.zs,error:a})):d.trigger("partReady",{na:c,data:e,mf:!1,Hc:!1,error:null,vb:n,sA:b})})})},cv:function(a){this.ze=a},Ps:function(a){var b=this;_(a).each(function(a){var c=b.me[a];c&&(c.pg--,0===c.pg&&(delete b.me[a],c.cancel()))})},BF:function(a,b){if(this.me[a])this.me[a].pg++;else return this.me[a]=new e(a),this.NA(a,b)}};_(d.prototype).extend(Backbone.Events);f.prototype={pz:function(){return{start:this.gm.$o,stop:this.gm.$o+this.gm.Ly}},um:function(a){var b=this.bh[a],d=b.offset+this.qr+
b.Ki+b.km;return{start:d,stop:d+b.Is,Qi:a}},qp:function(a){a=this.um(a);var b=Math.floor(a.start/102400),d=a.stop-a.start;return Math.min(d,102400*(b+1)-a.start)>d/2?b:b+1},tH:function(a){if(a&&(this.gm=a=this.gI(a),a.Sk!==this.qK))throw Error("Signature is wrong!");},UF:function(a){var b=this.qp(a),d=this.names.indexOf(a),e;a=[];var f;for(f=d-1;0<=f&&this.qp(this.names[f])===b;--f);e=f+1;var m=this.um(this.names[e]).start;for(f=d+1;f<this.names.length&&this.qp(this.names[f])===b;++f);b=f-1;d=this.um(this.names[b]).stop;
for(f=e;f<=b;++f)e=this.um(this.names[f]),e.start-=m,e.stop-=m,a.push(e);return{start:m,stop:d,LA:a}},wy:function(a){return!!this.bh[a]},Zz:function(a){return 0!==this.bh[a].et},MA:function(a){for(var b=10,d=this.iC,e=this.gm.IB,f=0;f<e;f++){var m=this.dI(a,b),b=b+d,p=a.substr(b,m.Ki),b=b+(m.Ki+m.km+m.vy+10);this.bh[p]=m;this.names[this.names.length]=p}},tD:56,uD:20,ij:22,iC:36,qr:30,qq:function(a,b,d){for(var e="",f=0;f<b;f++)var m=a.charCodeAt(f+d).toString(16),e=1===m.length?"0"+m+e:m+e;return parseInt(e,
16)},dI:function(a,b){var d={},e=this.qq;d.et=e(a,2,b);d.Is=e(a,4,b+10);d.UJ=e(a,4,b+14);d.Ki=e(a,2,b+18);d.km=e(a,2,b+20);d.vy=e(a,2,b+22);d.offset=e(a,4,b+32);return d},gI:function(a){var b={},d=this.qq;b.Sk=d(a,4,0);b.XL=d(a,8,4);b.WM=d(a,2,12);b.XM=d(a,2,14);b.lF=d(a,4,16);b.ME=d(a,4,20);b.GH=d(a,8,24);b.IB=d(a,8,32);b.Ly=d(a,8,40);b.$o=d(a,8,48);return b},cI:function(a){var b={},d=this.qq;b.Sk=d(a,4,0);b.lF=d(a,2,4);b.ME=d(a,2,6);b.GH=d(a,2,8);b.IB=d(a,2,10);b.Ly=d(a,4,12);b.$o=d(a,4,16);b.vy=
d(a,2,20);return b},eI:function(a){var b={},d=this.qq;b.Sk=d(a,4,0);b.VM=d(a,2,4);b.ML=d(a,2,6);b.et=d(a,2,8);b.nM=d(a,2,10);b.mM=d(a,2,12);b.kL=d(a,4,14);b.Is=d(a,4,18);b.UJ=d(a,4,22);b.Ki=d(a,2,26);b.km=d(a,2,28);return b},wF:101010256,qK:101075792,uH:67324752,vH:"PK\u0003\u0004"};f.inflate=function(b){return a.Gg.inflate(b)};a.o=a.o||{};a.o.V=a.o.V||{};var b=a.o.V;b.af=d;b.wl=f;b.Fs=Array(1024);a.Hz=function(c,d,e,g){d=d||0;e=e||!1;var f="";if(10===a.utils.ie&&!_.isNull(c.responseBody)||!a.Uint8Array&&
!_.isUndefined(c.responseBody)){e=c.responseBody;e=_.isArray(e)?e:(new a.VBArray(e)).toArray();g=e.length;c=Array(g);for(d=0;d<g;d++)c[d]=e[d]&255;g=g/1024+1;for(e=0;e<g;e++)f+=String.fromCharCode.apply(null,c.slice(1024*e,1024*e+1024))}else if(!a.Uint8Array||e||_.isUndefined(c.response))for(e=c.responseText,c=b.Fs;d<g;){for(var m=0;1024>m&&d<g;++m)c[m]=e.charCodeAt(d)&255,++d;f+=String.fromCharCode.apply(null,c.slice(0,m))}else{e=c.response;var m=new a.Uint8Array(e),p=m.length;if(a.utils.typedArrayApply)for(;d<
p;)c=m.subarray(d,d+1024),d+=1024,f+=String.fromCharCode.apply(null,c);else for(c=b.Fs;d<p;){e=0;for(g=Math.min(d+1024,p);d<g;e++,d++)c[e]=m[d];f+=String.fromCharCode.apply(null,1024>e?c.slice(0,e):c)}}return f};a.o.V.Hh={rr:0,Nv:1,BC:2}})(window);
(function(a){function f(b,c,e){d.apply(this,arguments);if("xod"!==b.name.split(".").pop())throw Error("Not an XOD file");if(!a.FileReader||!a.File||!a.Blob)throw Error("File API is not supported in this browser");this.file=b}var d=a.o.V.af,e=a.o.V.wl;f.prototype=new d;f.prototype=_(f.prototype).extend({wu:function(a,c,d){var e=new FileReader;e.onloadend=function(a,b){if(e.error){var f=e.error;if(f.code===f.ABORT_ERR){console.warn("Request for chunk "+c.start+"-"+c.stop+" was aborted");return}return d(f)}return d(!1,
b||a.target.result)};c&&(a=(a.slice||a.webkitSlice||a.mozSlice||a.zt).call(a,c.start,c.stop));e.readAsBinaryString(a);return function(){e.abort()}},tk:function(a){var c=this;c.Vo=!0;var d=e.prototype.ij;c.wu(c.file,{start:-d,stop:c.file.size},function(h,g){if(h)return console.warn("Error loading end header: %s",h),a(h);if(g.length!==d)throw Error("Zip end header data is wrong size!");c.Vb=new e(g);var f=c.Vb.pz();c.wu(c.file,f,function(d,e){if(d)return console.warn("Error loading central directory: %s",
d),a(d);if(e.length!==f.stop-f.start)throw Error("Zip central directory data is wrong size!");c.Vb.MA(e);c.Us=!0;c.Vo=!1;return a(!1)})})},NA:function(a,c){var d=this,e=d.me[a];if(!d.Vb.wy(a))return c(Error('File not found: "'+a+'"'),a);var g=d.Vb.um(a),f=d.wu(d.file,g,function(e,h){delete d.me[a];if(e)return console.warn('Error loading part "%s": %s',a,e),c(e);if(h.length!==g.stop-g.start)throw Error("Part data is wrong size!");var n=d.Vb.Zz(a);c(!1,a,h,n)});e.started=!0;e.cancel=f}});a.o.V.xC=f;
a.Ze=a.Ze||{};a.Ze.HK=function(a){return{name:a.value.split(/[\/\\]/).pop(),size:null,data:null,waiting:[],mu:!1,zt:function(a,b){return{uA:this,zt:this.zt,start:a,stop:b}}}};a.Ze.IK=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(a){var c=a.uA||a,d=this,e=encodeURI(c.name);if(c.data)return this.iu(a);if(c.mu)return c.waiting.push(function(){d.iu(a)});c.mu=!0;new JSIO.BK(e,function(e){c.mu=!1;if(e)return console.error('Failed to load file "%s"',c.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),
d.error=Error('Failed to load file "%s"',c.name),d.onloadend(d.error);c.size=this.fileSize;c.data=this.read(this.fileSize);d.iu.call(d,a);for(e=0;e<c.waiting.length;e++)c.waiting[e]();c.waiting=[]})},iu:function(a){var c=a.uA||a,d=a.start||0;a=a.stop||c.size;null===d&&(d=c.size);null===a&&(a=c.size);0>d&&(d=c.size+d);0>a&&(a=c.size+a);c=c.data.slice(d,a);d="";for(a=0;a<c.length/1E3;a++)d+=String.fromCharCode.apply(null,c.slice(1E3*a,1E3*a+1E3));this.result=d;this.onloadend({},d)}}}})(window);
(function(a){function f(a){this.file=a}f.prototype=$.extend({Ce:function(a){var e=this,b=new FileReader;b.onload=function(b){e.trigger("documentLoadingProgress",[b.loaded,b.loaded]);a(new Uint8Array(b.target.result))};b.onprogress=function(a){a.lengthComputable&&e.trigger("documentLoadingProgress",[a.loaded,0<a.total?a.total:0])};b.readAsArrayBuffer(this.file)},getFile:function(){return a.utils.isJSWorker?this.file.path:this.file},qz:function(){return null}},a.utils.eventHandler);a.o.V.yC=f})(window);
(function(a){function f(a){this.buffer=a}f.prototype=$.extend({Ce:function(a){a(new Uint8Array(this.buffer))},getFile:function(){return null},Mz:function(){return null}},a.utils.eventHandler);a.o.V.$B=f})(window);
(function(a){function f(a,b,c,d){k.apply(this,[a,c,d]);this.rg={};this.Js=b;this.url=a}function d(){this.pg=1}function e(b){var c=b.request,d=b.range;return function(e,h){if(e){if(e.code===c.Wb.bl){a.utils.warn("Request for range "+d.start+"-"+d.stop+" was aborted");return}return b.ce.forEach(function(a){a("Error retrieving file: "+c.url+". Received return status "+e.status+".")})}return b.ce.forEach(function(a){a(!1,h,c)})}}function b(b,c,d){this.url=b;this.range=c;this.ze=d;this.request=new XMLHttpRequest;
this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");_.isUndefined(c.stop)?this.request.setRequestHeader("Range","bytes="+c.start):this.request.setRequestHeader("Range",["bytes=",c.start,"-",c.stop-1].join(""));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");if(d)for(var e in d)this.request.setRequestHeader(e,d[e]);this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset",
"x-user-defined");this.status=this.Wb.oj}function c(b,c,d){for(var e=-1,h=0;h<d.length;h++)_.isEqual(d[h].range,c)&&_.isEqual(d[h].url,b)&&(e=h);-1===e&&a.utils.warn(c+" not found in queue");return e}var k=a.o.V.af,h=a.o.V.wl,g=[],l=[];b.prototype={constructor:b,start:function(b){var c=this,d=this.request;d.onreadystatechange=function(){if(c.zs)return c.status=c.Wb.bl,b({code:c.Wb.bl});if(this.readyState===c.rD.DONE){c.vp();var e=0===window.document.URL.indexOf("file:///");200===d.status||206===d.status||
e&&0===d.status?(e=a.Hz(this),c.success(e,b)):(c.status=c.Wb.ERROR,b({code:c.status,status:this.status}))}};this.request.send(null);this.status=this.Wb.sl},success:function(a,b){this.status=this.Wb.YC;if(b)return b(!1,a)},abort:function(){this.vp();this.zs=!0;this.request.abort()},vp:function(){var a=c(this.url,this.range,l);-1!==a&&l.splice(a,1);if(0<g.length){var a=g.shift(),b=new this.constructor(a.url,a.range,this.ze);a.request=b;l.push(a);b.start(e(a))}},rD:{VK:0,DONE:4},Wb:{oj:0,sl:1,YC:2,ERROR:3,
bl:4},extend:function(a){var b=$.extend({},this,a.prototype);b.constructor=a;return b}};a.aN=[];f.prototype={pq:b,zC:3,Xo:function(b,c,d){var e=-1===b.indexOf("?")?"?":"&";switch(d){case !1:case a.o.V.Hh.rr:b=b+e+"_="+_.uniqueId();break;case !0:case a.o.V.Hh.Nv:b=b+e+"_="+c.start+","+(_.isUndefined(c.stop)?"":c.stop)}return b},xF:function(a,b,c,d,e){for(var h=0;h<g.length;h++)if(_.isEqual(g[h].range,b)&&_.isEqual(g[h].url,a))return g[h].ce.push(d),g[h].fq++,null;for(h=0;h<l.length;h++)if(_.isEqual(l[h].range,
b)&&_.isEqual(l[h].url,a))return l[h].ce.push(d),l[h].fq++,null;c={url:a,range:b,Js:c,ce:[d],fq:1,request:{}};if(0===g.length&&l.length<this.zC)return l.push(c),c.request=new this.pq(a,b,e),c;g.push(c);return null},vk:function(a,b,d){var h=this.Xo(a,b,this.Js);(a=this.xF(h,b,this.Js,d,this.ze))&&a.request.start(e(a));return function(){var a=c(h,b,l),d;-1!==a?(d=--l[a].fq,0===d&&l[a].request.abort()):(a=c(h,b,g),-1!==a&&(d=--g[a].fq,0===d&&g.splice(a,1)))}},uz:function(){return{start:-h.prototype.ij}},
GG:function(){var a=-(h.prototype.ij+h.prototype.uD);return{start:a-h.prototype.tD,end:a}},tk:function(b){var c=this;c.Vo=!0;var d=h.prototype.ij;c.vk(c.url,c.uz(),function(e,g){function k(){var d=c.Vb.pz();c.vk(c.url,d,function(n,e){if(n)return a.utils.warn("Error loading central directory: "+n),b(n);if(e.length!==d.stop-d.start)return b("Invalid XOD file: Zip central directory data is wrong size! Should be "+(d.stop-d.start)+" but is "+e.length);c.Vb.MA(e);c.Us=!0;c.Vo=!1;return b(!1)})}if(e)return a.utils.warn("Error loading end header: "+
e),b(e);if(g.length!==d)return b("Invalid XOD file: Zip end header data is wrong size!");try{c.Vb=new h(g)}catch(f){return b(f)}c.Vb.gH?c.vk(c.url,c.GG(),function(d,n){if(d)return a.utils.warn("Error loading zip64 header: "+d),b(d);c.Vb.tH(n);k()}):k()})},Fz:function(a){a(Object.keys(this.Vb.bh))},NA:function(b,c){var n=this;if(!n.Vb.wy(b))return delete n.me[b],c(Error('File not found: "'+b+'"'),b);var e=n.Vb.qp(b);if(e in n.rg){var h=n.me[b];h.Vj=n.rg[e];h.Vj.pg++;h.cancel=h.Vj.cancel}else{var g=
n.Vb.UF(b),k=n.vk(n.url,g,function(d,h){d?(a.utils.warn('Error loading part "'+b+'": '+d),n.vk(n.url,g,function(a,d){if(a)return c(a,b);n.OA(d,g,e,b,c)})):n.OA(h,g,e,b,c)}),f=n.me[b];f&&(f.started=!0,f.cancel=function(){f.Vj.pg--;0===f.Vj.pg&&(k(),delete n.rg[e])},n.rg[e]=new d,f.Vj=n.rg[e],f.Vj.cancel=f.cancel)}},OA:function(a,b,c,d,e){if(a.length!==b.stop-b.start)return e(Error("Part data is wrong size!"),d);do{if(!this.rg[c])return;d=this.rg[c].pg;for(var h=b.LA.length,g=0;g<h;++g){var k=b.LA[g];
e(!1,k.Qi,a.substring(k.start,k.stop),this.Vb.Zz(k.Qi));k.Qi in this.me&&delete this.me[k.Qi]}}while(d!==this.rg[c].pg);delete this.rg[c]}};f.prototype=$.extend(new k,f.prototype);a.o.V.kl=f;a.o.V.dr=b})(window);
(function(a){function f(a,b){d.apply(this,[a]);this.url=a;-1===b.indexOf("/",b.length-1)&&(b+="/");this.path=b}var d=a.o.V.af;f.prototype=new d;f.prototype=_(f.prototype).extend({request:function(d){var b=this;_(d).each(function(c){var d=-1!==c.indexOf("Thumbs/"),e=-1!==c.indexOf("Fonts/");if(-1!==c.indexOf("Images/")||d||e)return b.trigger("partReady",{na:c,data:c,mf:!0,Hc:!1,error:null,vb:!1});$.ajax({url:b.path+c,mimeType:"text/plain; charset=x-user-defined",xhr:function(){var a=$.ajaxSettings.xhr();
a&&(this.vG=function(){return a.responseBody});return a},success:function(d){var e=a.utils.ie?this.vG():d;d="";var h,k,n;if(a.utils.ie){e=(new a.VBArray(e)).toArray();n=e.length;h=Array(n);for(k=0;k<n;k++)h[k]=e[k]&255;e=n/1024+1;for(k=0;k<e;k++)d+=String.fromCharCode.apply(null,h.slice(1024*k,1024*k+1024))}else for(h=a.o.V.Fs,k=0;k<e.length;){for(n=0;1024>n&&k<e.length;++n)h[n]=e.charCodeAt(k)&255,++k;d+=String.fromCharCode.apply(null,h.slice(0,n))}return b.trigger("partReady",{na:c,data:d,mf:!1,
Hc:!1,error:null,vb:!0})},error:function(a,d,e){a=Error(d+" "+e);return b.trigger("partReady",{na:c,mf:!1,Hc:!!a.zs,error:a})}})})},tk:function(a){a()}});a.o.V.kr=f})(window);
(function(a){function f(a,e){e=e||{};this.url=a;this.ze=null;this.hK=!!e.useDownloader;this.withCredentials=!!e.withCredentials}f.prototype=$.extend({cv:function(a){this.ze=a},Ce:function(a){var e=new XMLHttpRequest,b=0===this.url.indexOf("blob:")?"blob":"arraybuffer";e.open("GET",this.url,!0);e.withCredentials=this.withCredentials;e.responseType=b;var c=this;if(this.ze)for(var k in this.ze)e.setRequestHeader(k,this.ze[k]);var h=/^https?:/i.test(this.url);e.addEventListener("load",function(b){if(200===
this.status||!h&&0===this.status)if(c.trigger("documentLoadingProgress",[b.loaded,b.loaded]),"blob"===this.responseType){b=this.response;var e=new FileReader;e.onload=function(b){a(new Uint8Array(b.target.result))};e.readAsArrayBuffer(b)}else a(new Uint8Array(this.response));else c.trigger("error",["pdfLoad",b.currentTarget.statusText])},!1);e.onprogress=function(a){c.trigger("documentLoadingProgress",[a.loaded,0<a.total?a.total:0])};e.addEventListener("error",function(){c.trigger("error",["pdfLoad",
"Network failure"])},!1);e.send()},getFile:function(){return a.utils.isJSWorker?this.url:null},qz:function(){if(this.hK){var a={url:this.url};this.ze&&(a.customHeaders=this.ze);return a}return null}},a.utils.eventHandler);a.o.V.lr=f})(window);
(function(a){function f(a,c,g,f){b.apply(this,[a,g,f]);this.url=a;this.stream=new e(a,c);this.Vb=new d;this.FA=createPromiseCapability()}function d(){this.buffer="";this.state=0;this.tv=4;this.jg=null;this.yk=c.prototype.qr;this.bh={}}function e(b,c){var d=-1===b.indexOf("?")?"?":"&";switch(c){case !1:case a.o.V.Hh.rr:this.url=b+d+"_="+_.uniqueId();break;default:this.url=b}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");
this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Wb.oj}var b=a.o.V.af,c=a.o.V.wl;e.prototype={start:function(a){var b=this,c=this.request,d;b.Qm=0;if(a)for(var e in a)this.request.setRequestHeader(e,a[e]);this.nq=setInterval(function(){var a=0===window.document.URL.indexOf("file:///"),a=200===c.status||a&&0===c.status;if(4!==c.readyState||a){try{c.responseText}catch(n){return}b.Qm<
c.responseText.length&&(d=b.bI())&&b.trigger("data",d);0===c.readyState&&(clearInterval(b.nq),b.trigger("done"))}else clearInterval(b.nq),b.trigger("done","Error received return status "+c.status)},1E3);this.request.send(null);this.status=this.Wb.sl},bI:function(){var b=this.request,c=b.responseText;if(0!==c.length)if(this.Qm===c.length)clearInterval(this.nq),this.trigger("done");else return c=Math.min(this.Qm+3E6,c.length),b=a.Hz(b,this.Qm,!0,c),this.Qm=c,b},abort:function(){clearInterval(this.nq);
var b=this;this.request.onreadystatechange=function(){a.utils.warn("StreamingRequest aborted");b.status=b.Wb.bl;return b.trigger("aborted")};this.request.abort()},finish:function(){var a=this;this.request.onreadystatechange=function(){a.status=a.Wb.gC;return a.trigger("done")};this.request.abort()},Wb:{oj:0,sl:1,gC:2,ERROR:3,bl:4}};_(e.prototype).extend(Backbone.Events);d.prototype=new c;d.prototype=_(d.prototype).extend({processData:function(a){var b;for(a=this.buffer+a;a.length>=this.yk;)switch(this.state){case 0:this.jg=
b=this.eI(a.slice(0,this.yk));if(b.Sk!==this.uH)throw Error("Wrong signature in local header: "+b.Sk);a=a.slice(this.yk);this.state=1;this.yk=b.Is+b.Ki+b.km+this.tv;this.trigger("header",b);break;case 1:if(this.jg.name=a.slice(0,this.jg.Ki),this.bh[this.jg.name]=this.jg,b=this.yk-this.tv,this.trigger("file",this.jg.name,a.slice(this.jg.Ki+this.jg.km,b),this.jg.et),a=a.slice(b),a.slice(0,this.tv)===this.vH)this.state=0,this.yk=c.prototype.qr;else return this.state=2,!0}this.buffer=a;return!1}});_(d.prototype).extend(Backbone.Events);
f.prototype=new b;f.prototype=_(f.prototype).extend({vq:function(a){var b=this;this.request([this.We,this.Ef,this.Ue]);this.stream.bind("data",function(c){try{if(b.Vb.processData(c))return b.stream.finish()}catch(d){throw b.stream.abort(),b.hm(d),a(d),d;}});this.stream.bind("done",function(c){b.FA.resolve();c&&(b.hm(c),a(c))});this.Vb.bind("header",_(this.iI).bind(this));this.Vb.bind("file",_(this.hI).bind(this));return this.stream.start(this.ze)},Fz:function(a){var b=this;this.FA.promise.then(function(){a(Object.keys(b.Vb.bh))})},
Ui:function(){return!0},request:function(){},iI:function(){},abort:function(){this.stream&&this.stream.abort()},hI:function(a,b,c){this.trigger("partReady",{na:a,data:b,mf:!1,Hc:!1,error:null,vb:c})}});a.o.V.mw=f;a.o.V.UK=e})(window);
(function(a){function f(a){d.apply(this,arguments);this.db=a}var d=a.o.V.af;f.prototype=new d;f.prototype=_(f.prototype).extend({request:function(a){var b=this;_(a).each(function(a){b.db.get(a,function(d,e,g){return d?b.trigger("partReady",{na:a,error:d}):b.trigger("partReady",{na:a,data:e,mf:!1,Hc:!1,error:null,vb:g})})})},tk:function(a){a()}});a.o.V.tl=f})(window);
(function(a){function f(a,c,d,h){e.apply(this,arguments)}function d(b,c){this.url=b;this.range=c;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.Wb.oj}var e=a.o.V.kl;d.prototype=a.o.V.dr.prototype.extend(d);f.prototype={pq:d,Xo:function(a,c){return a+"/bytes="+c.start+","+(c.stop?c.stop:"")}};f.prototype=$.extend(new e,f.prototype);a.o.V.ZB=
f;a.o.V.AK=d})(window);
(function(a){function f(a,b,c,d){e.apply(this,arguments)}function d(a,b){this.url=a;this.range=b;this.status=this.Wb.oj}var e=a.o.V.kl,b=a.o.V.dr,c={};d.prototype={start:function(b){var d=this;c[this.range.start]={success:function(c){var e=atob(c),g,n=e.length;c=new Uint8Array(n);for(g=0;g<n;++g)c[g]=e.charCodeAt(g);e=c.length;g="";var q=0;if(a.utils.typedArrayApply)for(;q<e;)n=c.subarray(q,q+1024),q+=1024,g+=String.fromCharCode.apply(null,n);else for(n=Array(1024);q<e;){for(var f=0,r=Math.min(q+
1024,e);q<r;f++,q++)n[f]=c[q];g+=String.fromCharCode.apply(null,1024>f?n.slice(0,f):n)}d.success(g,b)},fail:function(){d.status=d.Wb.ERROR;b({code:d.status})}};var e=document.createElement("IFRAME");e.setAttribute("src",this.url);document.documentElement.appendChild(e);e.parentNode.removeChild(e);e=null;this.status=this.Wb.sl;d.vp()}};d.prototype=b.prototype.extend(d);f.prototype={pq:d,Xo:function(a,b){return a+"#"+b.start+"&"+(b.stop?b.stop:"")}};f.prototype=$.extend(new e,f.prototype);a.o.V.ll=
f;a.o.V.LK=d;a.o.V.ll.Ou=function(a,b){var d=c[b];delete c[b];d.success(a)};a.o.V.ll.Nu=function(a,b){var d=c[b];delete c[b];d.fail()}})(window);
(function(a){function f(a,b,c,d){e.apply(this,arguments)}function d(a,b){this.url=a;this.range=b;this.status=this.Wb.oj}var e=a.o.V.kl,b=a.o.V.dr,c={};d.prototype={start:function(a){function b(){e.status=e.Wb.ERROR;a({code:e.status})}function d(b){var c=atob(b),n,h=c.length;b=new Uint8Array(h);for(n=0;n<h;++n)b[n]=c.charCodeAt(n);c=b.length;n="";for(var g=0;g<c;)h=b.subarray(g,g+1024),g+=1024,n+=String.fromCharCode.apply(null,h);e.success(n,a)}var e=this;"undefined"===typeof c[this.range.start]&&
(c[this.range.start]={success:d,fail:b},window.external.notify(this.url),this.status=this.Wb.sl);e.vp()}};d.prototype=b.prototype.extend(d);f.prototype={pq:d,Xo:function(a,b){return a+"?"+b.start+"&"+(b.stop?b.stop:"")}};f.prototype=$.extend(new e,f.prototype);a.o.V.ul=f;a.o.V.WK=d;a.o.V.ul.Ou=function(a,b){var d=c[b];delete c[b];d.success(a)};a.o.V.ul.Nu=function(a,b){var d=c[b];delete c[b];d.fail()}})(window);
(function(a){function f(){d.apply(this,arguments)}var d=a.o.V.kl;f.prototype=$.extend(new d,{uz:function(){return{start:this.Zy-a.o.V.wl.prototype.ij,stop:this.Zy}},tk:function(a){var b=this;this.vk(this.url,{start:0,stop:1},function(c,k,h){if(c)return a(c);c=h.request.getResponseHeader("Content-Range");b.Zy=c.split("/")[1];d.prototype.tk.call(b,a)})}});a.o.V.aC=f})(window);
(function(a){function f(b,c,d){this.jd=b;this.Gu=!1;this.cache=new e(a.gr,b.Ui());b.decrypt&&b.Ui()&&(this.ti=new e(a.gr,b.Ui()));this.N=c;this.mg={};this.Rq={};this.Hs={};this.ht={};this.It=[];this.kp={};this.wv={};this.Af=d;this.iq=_.bind(this.iq,this);b.bind("partReady",this.iq)}function d(a){window._indexedDB=window._indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window._IDBTransaction=window._IDBTransaction||window.IDBTransaction||window.webkitIDBTransaction;
window._IDBTransaction&&!window._IDBTransaction.READ_WRITE&&(window._IDBTransaction.READ_WRITE="readwrite");this.name=a;this.db=null;this.Fy="1";this.cp=this.Hc=!1}function e(a,b){this.wH=this.hn=a;this.queue=[];this.GF=b}function b(a,b){this.Oi=a;this.EA=b;this.ce={};this.Me={};this.Hc=!1;for(var c=0;c<b.length;c++)this.Me[b[c]]=!0}function c(){this.index=0;this.data={functions:[],ce:[],done:!1};this.$c=[]}function k(a){this.data=a;this.$c=[]}function h(a,b){for(var c=[],d=0;d<a.length;++d)-1===
b.indexOf(a[d])&&c.push(a[d]);return c}function g(a,b){this.Oi=a;this.Ik={};this.pf=null;this.DB={};this.rb=b}var l=a.o.V.kr;a.Dt=!1;k.prototype={init:function(b){if(this.data){var c=this;a.FG(this.data,function(a){c.worker=a;c.Ht();c.wq=[];c.nm=!1;c.data=null;b()})}else b()},cancel:function(){for(var a=0;a<this.$c.length;a++){for(var b=0;b<this.$c[a].saves;b++)this.$c[a].restore();this.$c[a].saves=0}this.$c=[];this.worker&&this.worker.cancel()},clone:function(){return new k(this.data)},run:function(a,
b,c){return this.Pq?(c&&this.Ht(),-1===this.$c.indexOf(a)&&this.$c.push(a),runEval(this.Pq,a,b),!1):this.nm=!0},GB:function(){var a=this.wq;this.wq=this.Cy;return h(this.wq,a)},HB:function(a){var b=this;this.init(function(){function c(){var d=h(b.wq,b.nm?[]:b.Cy);a(d)}b.Dv?c():b.callback=c})},Ht:function(){if(this.worker.done)return!1;this.Dv=!1;var a=this;this.worker.DH(function(b,c){a.Pq=b;a.Cy=c;a.Dv=!0;var d=a.callback;a.callback=null;d&&d()})},Jt:function(a){var b=this;this.init(function(){function c(){if(b.Pq){var d=
new Function("c","t",b.Pq);b.Ht();a(d)}else a()}b.Dv?c():b.callback=c})}};c.prototype={clone:function(){var a=new c;a.data=this.data;a.index=0;return a},cancel:function(){for(var a=0;a<this.$c.length;a++){for(var b=0;b<this.$c[a].saves;b++)this.$c[a].restore();this.$c[a].saves=0}this.$c=[]},Jt:function(a,b){function c(){e.Jt(function(a){a?(d.data.functions.push(a),setTimeout(c,0)):(d.data.done=!0,b());a=d.data.ce.length;if(0<a){for(var e=0;e<a;++e)d.data.ce[e]();d.data.ce=[]}})}this.data.done=!1;
var d=this,e=new k(a);d.data.functions=[];c();this.index=0},GB:function(){return[]},HB:function(a){this.data.done||this.index<this.data.functions.length?a([]):this.data.ce.push(function(){a([])})},run:function(a,b,c){var d=this.data.functions[this.index];c&&this.index++;-1===this.$c.indexOf(a)&&this.$c.push(a);return d?(d(a,b),!1):!0}};b.prototype={XG:function(){return 0===_(this.Me).keys().length}};e.prototype={getItem:function(a){return(a=this[a])?a:null},setItem:function(a,b,c){if(a in this)this.queue.splice(this.queue.indexOf(a),
1),this.queue.push(a);else if(this.GF)this[a]={data:b,vb:c},this.queue.push(a);else if(b.length<this.wH/2){for(;this.hn<b.length;){var d=this.queue[0];this.hn+=this[d].data.length;delete this[d];this.queue.shift()}this.hn-=b.length;this[a]={data:b,vb:c};this.queue.push(a)}}};d.prototype={open:function(a,b){var c=this,d=window._indexedDB.open(c.name);if(_.isUndefined(d))b("User declined to increase space");else{d.onsuccess=function(){c.db=d.result;if(c.db.setVersion&&c.db.version!==c.Fy){var a=c.db.setVersion(c.Fy);
a.onsuccess=function(){c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"});a.result.oncomplete=e}}else e()};d.onupgradeneeded=function(a){c.db=a.target.result;c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"})};d.onerror=function(){b("Error opening database for offline mode")};var e=function(){c.get("NumParts",function(d,e){if(d)c.cp=!1,a();else{var h=c.db.transaction([c.name]).objectStore(c.name).count();
h.onsuccess=function(){c.cp=h.result===e;a()};h.onerror=function(){b("Error opening database for offline mode")}}})}}},yB:function(a,b,c,d){var e=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);e.oncomplete=function(){d&&d()};e.onerror=function(){d&&d();throw Error("Error adding "+a+" to the offline database");};e.objectStore(this.name).put({partName:a,partData:b,compressed:c})},HJ:function(a,b,c,d,e,h){function g(h){a.tf(h,function(a){var c=b.indexOf(a.na);-1<c&&delete b[c];k()||
f.yB(a.na,a.data,a.vb,function(){k()||(l++,e(l/A),l===A&&(f.cp=!0,d()))})},!0,c)}function k(){f.Hc&&!B&&(B=!0,h(b),d());return B}var f=this;f.Hc=!1;d=d||function(){};e=e||function(){};h=h||function(){};var l=0,A=b.length,B=!1;f.yB("NumParts",A+1,!1,function(){for(var a=0;a<A;a++)g(b[a])})},IE:function(){this.Hc=!0},get:function(a,b){var c=this.db.transaction([this.name]).objectStore(this.name).get(a);c.onsuccess=function(){c.result?b(!1,c.result.partData,c.result.compressed):b("Part "+a+" not found in the offline database")};
c.onerror=function(){b("Error getting "+a+" from offline database")}},sk:function(){return this.cp}};f.prototype={tf:function(b,c,d,e){function h(a){a=$.extend({},a);f.ti&&e&&(a.data=f.ti.getItem(a.na).data);c(a)}var g=this.cache.getItem(b);if(!e&&null!==g){var k=g.vb;g.vb&&!d?(d=a.Gg.inflate(g.data),k=!1):d=g.data;c({na:b,data:d,mf:!0,Hc:!1,error:null,vb:k});return c}if(this.ti&&e&&(k=this.ti.getItem(b)))return c({na:b,data:k.data,mf:!0,Hc:!1,error:null,vb:k.vb}),c;var f=this;this.bind(b,h);this.Hs[b]=
!0;this.ht[b]=!d;this.jd.request([b],e);return h},iq:function(b){if(b.error)console.error("Error reading part "+b.na+": "+b.error),this.trigger(b.na,{na:b.na,error:b.error}),this.unbind(b.na);else{var c=this,d=function(d){b.sA||(c.cache.setItem(b.na,d,b.vb),c.ti&&c.ti.setItem(b.na,b.data,b.vb));if(c.Hs[b.na]){var n=b.vb;b.vb&&c.ht[b.na]&&(d=a.Gg.inflate(d),n=!1);delete c.Hs[b.na];delete c.ht[b.na];c.trigger(b.na,{na:b.na,data:d,mf:!1,Hc:!1,error:null,vb:n});c.unbind(b.na);delete c._callbacks[b.na]}};
this.jd.decrypt&&!b.sA?this.jd.Dy?d(this.jd.decrypt(b.data,this.jd.$l,b.na)):this.jd.decrypt(b.data,this.jd.$l,b.na,d):d(b.data)}},eu:function(a){return this.tu?"Thumbs/"+(a+1)+".jpg":"Thumbs/"+(a+1)+".png"},du:function(a,b,c){var d=this,e=!1,h=this.tf(this.eu(a),function(a){e=a.mf;d.WA(b);c(a)});e||(this.Rq[b]={Rs:h,Nc:a})},Dz:function(c,d,n){function e(a){if(a.error)return console.error("Failed to load part for page "+c+": "+a.error);delete B.Me[y];l.Tl&&0!==l.No.length||(l.No=k.MH(a.na,a.data).map(function(a){a.PageNumber=
c+1;return a}));h()}function h(){if(B.XG()){if(null===z.pf)throw Error("Functions have not been generated yet");B.Hc||M||(delete k.mg[c],k.trigger(c,!1,z),n(!1,z),M=!0,k.unbind(c+""),k._callbacks&&delete k._callbacks[c+""])}}var k=this;this.mg[c]=this.mg[c]||{Hk:{}};var f=0<Object.keys(this.mg[c].Hk).length;this.mg[c].Hk[d]=null;if(f)return a.utils.warn("Duplicate request for page "+c),f=function(a,b){var c=$.extend({},b);c.pf=b.pf.clone();c.Ik=$.extend(!0,{},c.Ik);n(a,c)},this.mg[c].Hk[d]=f,this.bind(c,
f);var l=k.N[c],x=l.xq[2],y=l.xq[1],A=l.xq[0],B;B=this.Gu?new b(c,[A,y,x]):new b(c,[A,x]);this.mg[c].request=B;var E=B.ce,M=!1,z=new g(c,k);E[x]=k.tf(x,function(b){if(b.error)return console.error("Failed to load part for page "+c+": "+b.error);b=k.PH(b.na,b.data);delete B.Me[x];_(b).each(function(a){B.Me[a.slice(1)]=!0});_(b).each(function(b){b=b.slice(1);var d=-1!==b.indexOf(".odttf")||-1!==b.indexOf(".otf"),n=-1!==b.indexOf(".png")||-1!==b.indexOf(".jpg");a.Dt&&d?(delete B.Me[b],z.Ik[b]=k.ni(b)):
d&&!k.Af.Np(k.ni(b).name)?(B.EA.push(b),E[b]=k.tf(b,function(a){if(a.error)return console.error("Failed to load part for page "+c+": "+a.error);delete B.Me[b];z.Ik[b]=k.ni(a.na,a.data);h()})):n&&a.Dt?(delete B.Me[b],setTimeout(function(){k.tf(b,function(a){a=k.ni(a.na,a.data);var b=new Image;b.src=a.data;$(b).css({position:"absolute","z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+c)})},0)):(delete B.Me[b],z.Ik[b]=k.ni(b),h())});h()});this.Gu&&(E[y]=k.tf(y,e));if(c in k.kp)return z.pf=
k.kp[c].clone(),z.DB=k.wv[c],delete B.Me[A],h();E[A]=k.tf(A,function(b){if(b.error)return console.error("Failed to load part for page "+c+": "+b.error);k.HF(b.data,B,z,function(){delete B.Me[A];if(a.jj){if(k.It.length>=a.jj){var b=k.It.shift();delete k.kp[b];delete k.wv[b]}k.It.push(c);k.kp[c]=z.pf;k.wv[c]=z.DB}h()})},!0)},HF:function(b,d,n,e){a.jj?(d=new c,d.Jt(b,e),n.pf=d):(n.pf=new k(b),e())},JE:function(a,b){var c=this.mg[a];if(c){this.jd.Ps(c.request.EA);var d=c.Hk[b];d&&this.unbind(a+"",d);
delete c.Hk[b];if(0===Object.keys(c.Hk).length){c.Hc=!0;var c=c.ce,e;for(e in c)c.hasOwnProperty(e)&&this.unbind(e,c[e]);delete this._callbacks[a+""];delete this.mg[a]}}},LE:function(a){var b=this.Rq[a];b&&(this.jd.Ps([this.eu(b.Nc)]),this.WA(a))},WA:function(a){var b=this.Rq[a];b&&(this.unbind(this.eu(b.Nc),b.Rs),delete this.Rq[a])},ni:function(b,c){var d,e=b,h=b.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(h){case "png":case "jpg":b="i"+b.match(/Images\/(\d+)/)[1];if(c)return{name:b,type:h,data:l&&
this.jd instanceof l?this.jd.path+c:"data:image/"+("jpg"===h?"jpeg":h)+";base64,"+btoa(c),na:e};break;case "odttf":var g;c&&(g=this.gF(b,c));b="f"+parseInt(b.substr(34,8),16);c&&(d=new a.Ih.FontFace(b,g,"opentype"),this.Af.cA(b)||d.xf());h="font";break;case "otf":b=b.substr(0,b.length-4);b="f"+parseInt(b.substr(6),10);if(c){if(l&&this.jd instanceof l)d=this.jd.path;else throw Error("Use an external part retriever for documents with external fonts");d=new a.Ih.FontFace(b,null,"opentype",d+c);this.Af.cA(b)||
d.xf()}h="font";break;default:d=c}return{name:b,type:h,data:d,na:e}},PH:function(b,c){var d=[],e=new a.Vd(c);for(e.ka();e.advance();){var h=e.J("Target");null!==h?d.push(h):a.utils.warn("Corrupt rels part: %s",b)}0<d.length&&_(d).last().match(/Thumbs/)&&d.pop();return d},MH:function(b,c){var d=[],e=new a.Vd(c);for(e.ka();e.advance();){for(var h=e.ma(),g=e.J("BBox"),g=g.split(","),k=0;4>k;++k)g[k]=parseFloat(g[k]);"Hyperlink"===h?d.push(new a.Annotations.Tc({actions:{U:[{name:"URI",uri:e.J("Target")}]},
rect:g})):"Link"===h&&d.push(new a.Annotations.Tc({actions:{U:[{name:"GoTo",dest:{page:e.J("ID"),fit:"XYZ",top:e.J("Vpos"),left:e.J("Hpos")}}]},rect:g}))}return d},gF:function(a,b){a=a.split("/")[1].split(".")[0];for(var c=a.split("-"),d=[],e=16,h=0;h<c.length;++h)for(var g=c[h],k=0;k<g.length;k+=2)d[--e]=parseInt(g.slice(k,k+2),16);for(c=0;16>c;++c)e=d[c],d[c]=String.fromCharCode(b.charCodeAt(c)^e),d[c+16]=String.fromCharCode(b.charCodeAt(c+16)^e);return b=d.join("")+b.slice(32)}};_(f.prototype).extend(Backbone.Events);
a.o.V.GC=f;a.o.HC=d;a.o.JK=k})(window);
(function(a){function f(){this.fonts=[]}function d(a,c,d,e){this.url=_.isUndefined(e)?["data:",this.zH[d],";base64,",btoa(c)].join(""):"'"+e+"'";this.url=["url(",this.url,") format('",d,"')"].join("");this.yI=["@font-face { font-family:'",a,"';src:",this.url,"}"].join("");this.name=a}document.head||(document.head=document.getElementsByTagName("head")[0]);a.Bg={};d.prototype={uv:null,styleSheet:null,zH:{woff:"application/x-font-woff",opentype:"font/opentype"},xf:function(){if(!a.Bg[this.name]){if(!this.styleSheet){var b=
document.createElement("style");document.head.appendChild(b);d.prototype.styleSheet=b.sheet;d.prototype.uv=b}b=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.yI,b);a.Bg[this.name]=this.styleSheet.cssRules[b]}},remove:function(){if(!a.utils.ie){var b=a.Bg[this.name];if(!b)throw Error("CSS @font-face rule is not in use");var c,d=this.styleSheet.cssRules.length,e=this.styleSheet.cssRules;for(c=0;c<d;c++)if(e[c]===b){this.styleSheet.deleteRule(c);delete a.Bg[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");
}}};f.prototype={rH:atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="),
sH:0,oE:function(a){this.fonts.push(a)},JG:function(){return 0!==this.fonts.length},kA:function(b){function c(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function d(a,b){m++;30<m?(console.warn("Load test font never loaded."),b()):(f.font="30px "+a,f.fillText(".",0,20),0<f.getImageData(0,0,1,1).data[3]?b():setTimeout(_.bind(d,null,a,b)))}var e,g;e=document.createElement("canvas");e.width=1;e.height=1;var f=e.getContext("2d"),m=0,p="lt"+Date.now()+
this.sH++,n=this.rH,n=n.substr(0,976)+p+n.substr(976+p.length),q=c(n,16);e=0;for(g=p.length-3;e<g;e+=4)q=q-1482184792+c(p,e)|0;e<p.length&&(q=q-1482184792+c(p+"XXX",e)|0);var n=n.substr(0,16)+(String.fromCharCode(q>>24&255)+String.fromCharCode(q>>16&255)+String.fromCharCode(q>>8&255)+String.fromCharCode(q&255))+n.substr(20),u=new a.Ih.FontFace(p,n,"opentype");u.xf();n=[];e=0;for(g=this.fonts.length;e<g;e++)n.push(this.fonts[e].name);n.push(p);var r=document.createElement("div");r.setAttribute("style",
"visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");e=0;for(g=n.length;e<g;++e)q=document.createElement("span"),q.textContent="Hi",q.style.fontFamily=n[e],r.appendChild(q);document.body.appendChild(r);var w=this;d(p,function(){document.body.removeChild(r);u.remove();for(var a=0;a<w.fonts.length;a++)b(w.fonts[a].name);w.fonts=[]})},mH:function(a,c,d){var e=document.createElement("div");e.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
e.innerHTML=""+('<span style="font-family:'+a+'">" + testString +"</span>');document.body.appendChild(e);$.get(c,function(){setTimeout(function(){d();document.body.removeChild(e)},300)})}};if(document.fonts){var e=d,d=function(){e.apply(this,arguments);this.Ft=new window.FontFace(this.name,this.url,{})};d.prototype=e.prototype;$.extend(d.prototype,{xf:function(){document.fonts.add(this.Ft);a.Bg[this.name]=this},remove:function(){document.fonts["delete"](this.Ft)}});$.extend(f.prototype,{kA:function(a){this.fonts.forEach(function(c){c.Ft.load().then(function(){a(c.name)})["catch"](function(){a(c.name);
console.warn("font failed to load"+c.name)})})}})}a.Ih={FontFace:d,jC:f}})(window);
(function(a){function f(a,b,c){this.page=a;this.Pi=b;this.Af=c;this.Yy=b.rb.jd.path;this.Ii=this.paused=!1}var d={Ae:0,bd:1,si:2,Ld:3};a.asc=function(a){var b=.707106781*a.m_a+.707106781*a.m_b;a=.707106781*a.m_c+.707106781*a.m_d;return Math.sqrt(b*b+a*a)};f.prototype={pause:function(){this.paused=!0;this.Xs()},Xs:function(){this.Wp=!1;clearTimeout(this.lA)},TE:function(e,b,c,k,h,g,f){function m(){A=!0;n.HB(function(){if(p.abort){if(y)return w&&(w=!1,k(q)),n=p.resume=null,p.Xs(),p.abort&&p.abort(),
c(q);n.GB();p.abort&&(++v,y=n.run(u,r,!0),A=!1,p.Wp=!1,p.paused||p.Iq())}})}var p=this;b=b||d.Ae;c=c||function(){};var n=this.Pi.pf;h&&0<h&&(h=Math.round(h));e=a.o.Ja.nn(this.page,e||1,b,g,h,f);var q=e.canvas,u=e.ctx,r=e.t,w=void 0!==k,v=0,x=setTimeout(function(){},a.jj?2E3:6E3);p.abort=function(){A=!1;p.Xs();p.lA=null;p.resume=null;n&&(n.cancel(),n=null);p.Pi.pf=null;clearTimeout(x);p.Iq=null;p.abort=null};var y=!1;p.resume=function(){!1!==A||p.Wp||p.Iq();p.paused=!1};p.Iq=function(){p.Wp=!0;p.lA=
setTimeout(m,0)};var A=!1;p.Wp=!1;p.paused||p.Iq()},Iz:function(a){var b=[];if(a)for(var c=0;c<a.length;++c)b[c]=this.Pi.rb.ni(a[c]);else _(this.Pi.Ik).each(function(a){b.push(a)});return b},qH:function(d,b,c){function k(b){var c=f.Af.Np(b.name);h(b);switch(b.type){case "png":case "jpg":if(a.ci[b.name]){if(c){g(b.name);break}a.ci[b.name].Yg.push(function(){g(b.name)});break}var d=new Image;d.onload=function(){for(var a=0;a<this.Yg.length;++a)this.Yg[a]();d.Yg=[];d=d.onload=d.onerror=null};d.onerror=
function(){a.utils.warn("img error "+b.name);for(var c=0;c<this.Yg.length;++c)this.Yg[c]();d.Yg=[];d=d.onload=d.onerror=null};d.hres=b.hres;d.vres=b.vres;a.ci[b.name]=d;d.Yg=[];d.Yg[0]=function(){g(b.name)};d.Nc=f.Pi.Oi;d.src=b.data;break;case "font":_.isUndefined(f.Yy)?p.oE(b.data):p.mH(b.name,f.Yy+b.na,function(){g(b.name)});break;default:a.utils.warn("unknown resource type: "+b.type),g(b.name)}}function h(a){c&&f.Af.lE(a.name)}function g(a){f.Af.loaded(a);if(f.Ii&&1>--m)return f.Ii=!1,d(b[0])}
if(this.Ii)throw Error("Multiple calls to loadResource");var f=this;b=this.Iz(b);var m=b.length;this.Ii=!0;var p=new a.Ih.jC,n=!0;_(b).each(function(a){n=!1;f.Af.Np(a.name)?(h(a),g(a.name)):a.data?k(a):f.Pi.rb.tf(a.na,function(b){f.Af.Np(a.name)?(h(a),g(a.name)):k(f.Pi.rb.ni(b.na,b.data))})});p.JG()&&p.kA(_(g).bind(this));n&&(d(),this.Ii=!1)},oy:function(){this.Ii&&(this.Ii=!1)},Qe:function(d){var b=this;b.oy();d=this.Iz(d);_(d).each(function(c){if("font"!==c.type&&b.Af.release(c.name))switch(c.type){case "png":case "jpg":delete a.ci[c.name];
break;case "font":c.data&&c.data.remove()}})}};a.Ze=a.Ze||{};a.Ze.XC=f;a.Ze.hw=function(){var a={};return{lE:function(b){b in a?a[b].c++:a[b]={c:1,l:!1}},loaded:function(b){b in a&&(a[b].l=!0)},cA:function(b){return b in a?!0:!1},Np:function(b){return b in a?a[b].l:!1},release:function(b){if(!(b in a))return!1;--a[b].c;return a[b].c?!1:(delete a[b],!0)}}};a.o.sa=d;a.Dc=function(e,b,c,k,h,g){k=k||{x:0,y:0};c.width?(c.x1=0,c.y1=0,c.x2=c.width,c.y2=c.height):(c.width=c.x2-c.x1,c.height=c.y2-c.y1);var f=
new XODText.Na;_.isUndefined(h)&&(h=!0);h&&(h=g||a.utils.getCanvasMultiplier(c.width*e,c.height*e,e),e*=h,k.x*=h,k.y*=h);f.Xa(e,0,0,e,k.x,k.y);e=new XODText.Na;b===d.Ae?e.Xa(1,0,0,1,-c.x1,-c.y1):b===d.bd?e.Xa(1,0,0,1,c.y2,-c.x1):b===d.si?e.Xa(1,0,0,1,c.x2,c.y2):b===d.Ld&&e.Xa(1,0,0,1,-c.y1,c.x2);f.concat(e);f.concat(XODText.Na.Vi(Math.PI/2*(4-b)));return f}})(window);
(function(a){a.Actions||(a.Actions={});var f=a.Actions;f.Action=function(a){_.isObject(a)&&_.isString(a.name)&&(this.ve=a.name)};f.Action.prototype={elementName:null,onTriggered:function(){},serialize:function(){return document.createElementNS("",this.elementName)},deserialize:function(){}};Object.defineProperties(f.Action.prototype,{name:{get:function(){return this.elementName}}});f.Ye=function(a){f.Action.call(this,a);this.zl=new f.Ye.jr;_.isObject(a)&&this.zl.set(a.dest)};f.Ye.prototype={elementName:"GoTo",
onTriggered:function(a,b,c){f.Action.prototype.onTriggered.call(this,a,b,c);this.zl.xE(c)},serialize:function(a){var b=f.Action.prototype.serialize.call(this,a);$(b).append(this.zl.serialize(a));return b},deserialize:function(a,b,c){f.Action.prototype.deserialize(a,b);this.zl.deserialize(a,b,c)}};f.Ye.prototype=$.extend(Object.create(f.Action.prototype),f.Ye.prototype);Object.defineProperties(f.Ye.prototype,{dest:{get:function(){return this.zl}}});f.Ye.jr=function(a){this.Ll=1;this.Al="Fit";this.vd=
this.cf=this.gf=this.Jd=this.Gd=null;this.set(a)};f.Ye.jr.prototype={set:function(a){if(_.isObject(a)){_.isUndefined(a.page)||(this.Ll=Number(a.page));var b=a.fit;_.isString(b)&&(this.Al=b);switch(b){case "XYZ":_.isUndefined(a.left)||(this.Gd=Number(a.left));_.isUndefined(a.top)||(this.Jd=Number(a.top));_.isUndefined(a.zoom)||(this.vd=Number(a.zoom));break;case "FitBH":case "FitH":_.isUndefined(a.top)||(this.Jd=Number(a.top));break;case "FitBV":case "FitV":_.isUndefined(a.left)||(this.Gd=Number(a.left));
break;case "FitR":_.isUndefined(a.left)||(this.Gd=Number(a.left));_.isUndefined(a.top)||(this.Jd=Number(a.top));_.isUndefined(a.right)||(this.gf=Number(a.right));_.isUndefined(a.bottom)||(this.cf=Number(a.bottom));a=_.min([this.Gd,this.gf]);var b=_.min([this.Jd,this.cf]),c=_.max([this.Gd,this.gf]),d=_.max([this.Jd,this.cf]);this.Jd=b;this.Gd=a;this.cf=d;this.gf=c}}},serialize:function(a){var b=document.createElementNS("","Dest"),c=document.createElementNS("",this.Al),d=this.Jd||0,h=this.Gd||0,g=this.cf||
0,f=this.gf||0;a=a.inverse();h=a.W({x:h,y:d});g=a.W({x:f,y:g});d=_.isNull(this.Jd)?null:h.y;h=_.isNull(this.Gd)?null:h.x;f=_.isNull(this.gf)?null:g.x;g=_.isNull(this.cf)?null:g.y;_.isNull(this.Ll)||c.setAttribute("Page",this.Ll);_.isNull(this.vd)||c.setAttribute("Zoom",this.vd);d&&c.setAttribute("Top",d);h&&c.setAttribute("Left",h);f&&c.setAttribute("Right",f);g&&c.setAttribute("Bottom",g);switch(this.Al){case "XYZ":_.isNull(h)&&c.setAttribute("Left","");_.isNull(d)&&c.setAttribute("Top","");_.isNull(this.vd)&&
c.setAttribute("Zoom","");break;case "FitBH":case "FitH":_.isNull(d)&&c.setAttribute("Top","");break;case "FitBV":case "FitV":_.isNull(h)&&c.setAttribute("Left","");break;case "FitR":_.isNull(h)&&c.setAttribute("Left",""),_.isNull(d)&&c.setAttribute("Top",""),_.isNull(f)&&c.setAttribute("Right",""),_.isNull(g)&&c.setAttribute("Bottom","")}$(b).append(c);return b},deserialize:function(a,b,c){var d=Annotations.fa;b=d.getAttribute(a,"PageNum");var h,g,f,m,p,n;g=d.getAttribute(a,"Hpos");h=d.getAttribute(a,
"Vpos");a=a.getElementsByTagName("Dest");if(!b||0<a.length)if(a=a[0],a=d.Qt(a))b=d.getAttribute(a,"Page"),n=d.Vt(a),h=d.getAttribute(a,"Top"),g=d.getAttribute(a,"Left"),f=d.getAttribute(a,"Right"),m=d.getAttribute(a,"Bottom"),p=d.getAttribute(a,"Zoom");d=c.u.De(b-1);c=d.W({x:g||0,y:h||0});d=d.W({x:f||0,y:m||0});h=_.isNull(h)?void 0:c.y;g=_.isNull(g)?void 0:c.x;f=_.isNull(f)?void 0:d.x;m=_.isNull(m)?void 0:d.y;this.set({page:_.isNull(b)?void 0:b,fit:_.isNull(n)?void 0:n,top:h,left:g,right:f,bottom:m,
zoom:_.isNull(p)?void 0:p})},xE:function(a){var b=this.Jd||0,c=this.Gd||0,d=this.Ll||1;switch(this.Al){case "XYZ":this.vd&&a.Jv(this.vd);a.bm(d,b,c);break;case "Fit":case "FitB":case "FitV":case "FitBV":a.yd(d);a.ev(a.Xe.Tv);break;case "FitH":case "FitBH":a.yd(d);a.ev(a.Xe.nr);a.bm(d,b,0);break;case "FitR":var h=this.gf&&this.Gd?Math.abs(this.gf-this.Gd):null,g=this.cf&&this.Jd?Math.abs(this.cf-this.Jd):null,h=h?a.Rb().innerWidth()/h:Infinity,g=g?a.Rb().innerHeight()/g:Infinity,g=Math.min(h,g);Infinity!==
g&&a.Jv(g);a.bm(d,b,c);break;default:a.yd(d)}}};Object.defineProperties(f.Ye.jr.prototype,{page:{get:function(){return this.Ll},set:function(a){this.set({page:a})}},fit:{get:function(){return this.Al}},top:{get:function(){return _.isNull(this.Jd)?void 0:this.Jd}},left:{get:function(){return _.isNull(this.Gd)?void 0:this.Gd}},bottom:{get:function(){return _.isNull(this.cf)?void 0:this.cf}},right:{get:function(){return _.isNull(this.gf)?void 0:this.gf}},zoom:{get:function(){return _.isNull(this.vd)?
void 0:this.vd}}});f.yj=function(a){f.Action.call(this,a);this.Pl="";_.isObject(a)&&_.isString(a.uri)&&(this.Pl=a.uri)};f.yj.prototype={elementName:"URI",onTriggered:function(a,b,c){f.Action.prototype.onTriggered.call(this,a,b,c);a=this.Pl;0!==a.indexOf("http://")&&0!==a.indexOf("https://")&&0!==a.indexOf("ftp://")&&0!==a.indexOf("mailto:")&&0!==a.indexOf("tel:")&&(a=-1!==a.indexOf("@")?"mailto:"+a:"http://"+a);window.open(a)},deserialize:function(a,b){f.Action.prototype.deserialize.call(this,a,b);
var c=Annotations.fa,d=c.getAttribute(a,"Target");_.isNull(d)&&(d=c.Qt(a),d=c.getAttribute(d,"Name"));this.Pl=d},serialize:function(a){a=f.Action.prototype.serialize.call(this,a);a.setAttribute("Name",this.Pl);return a}};f.yj.prototype=$.extend(Object.create(f.Action.prototype),f.yj.prototype);Object.defineProperties(f.yj.prototype,{uri:{get:function(){return this.Pl}}});f.pj=function(a){f.Action.call(this,a);this.zj="";_.isObject(a)&&_.isString(a.action)&&(this.zj=a.action)};f.pj.prototype={elementName:"Named",
onTriggered:function(a,b,c){f.Action.prototype.onTriggered.call(this,a,b,c);switch(this.zj){case "NextPage":c.yd(c.gh()+1);break;case "PrevPage":c.yd(c.gh()-1);break;case "FirstPage":c.yd(1);break;case "LastPage":c.yd(c.yc());break;default:console.warn("Invalid named action name: "+this.zj)}},deserialize:function(a,b){f.Action.prototype.deserialize.call(this,a,b);var c=Annotations.fa,d=c.getAttribute(a,"N");_.isNull(d)&&0<a.getElementsByTagName("Named").length&&(d=c.getAttribute(a.getElementsByTagName("Named")[0],
"Name"));this.zj=d},serialize:function(a){a=f.Action.prototype.serialize.call(this,a);a.setAttribute("Name",this.zj);return a}};f.pj.prototype=$.extend(Object.create(f.Action.prototype),f.pj.prototype);Object.defineProperties(f.pj.prototype,{action:{get:function(){return this.zj}}});f.mj=function(a){f.Action.call(this,a);this.Sr=this.mo=null;this.set(a)};f.mj.prototype={elementName:"JavaScript",set:function(a){_.isObject(a)&&_.isString(a.javascript)&&(this.mo=a.javascript)},onTriggered:function(a,
b,c){f.Action.prototype.onTriggered.call(this,a,b,c);a=c.getDocument().Gl;this.Sr||(this.Sr=a.Wj(this.mo,c));a.Kk(this.Sr,b,c)},deserialize:function(a,b){f.Action.prototype.deserialize.call(this,a,b);var c=Annotations.fa.getAttribute(a,"JavaScript");c||(c=a.getElementsByTagName("JavaScript")[0].textContent);this.set({javascript:c})},serialize:function(a){a=f.Action.prototype.serialize.call(this,a);$(a).text(this.mo);return a}};f.mj.prototype=$.extend(!0,new f.Action,f.mj.prototype);Object.defineProperties(f.mj.prototype,
{javascript:{get:function(){return this.mo||""}}});f.Mh=function(a){f.Action.call(this,a);this.Kg=!1;this.$a=null;_.isObject(a)&&(_.isArray(a.fields)&&(this.$a=a.fields.slice()),_.isUndefined(a.exclude)||(this.Kg=!!a.exclude))};f.Mh.prototype={elementName:"ResetForm",onTriggered:function(a,b,c){f.Action.prototype.onTriggered.call(this,a,b,c);var d=this,h=c.cd().xi();this.Kg||_.isNull(this.$a)?h.un({Wm:function(a,b,c){d.$a&&-1!==d.$a.indexOf(a)||c.XA()}}):this.$a.forEach(function(a){var b=h.lb(a);
b?b.XA():console.warn("Missing field during reset:",a)})},deserialize:function(a,b){f.Action.prototype.deserialize.call(this,a,b);var c=Annotations.fa,d=[],h=!0;_.isNull(c.getAttribute(a,"ResetFields"))?_.isNull(c.getAttribute(a,"ResetExcludedFields"))?0<a.getElementsByTagName("ResetForm").length&&(a=a.getElementsByTagName("ResetForm")[0],(d=c.getAttribute(a,"Fields"))&&(d=d.split(",")),c=parseInt(c.getAttribute(a,"Flags"),10),_.isNull(d)||_.isUndefined(d)?(d=[],h=!0):h=1===c?!0:!1):(d=c.getAttribute(a,
"ResetExcludedFields").split(","),h=!0):(d=c.getAttribute(a,"ResetFields").split(","),h=!1);this.$a=d;this.Kg=!!h},serialize:function(a){a=f.Action.prototype.serialize.call(this,a);this.$a&&a.setAttribute("Fields",this.$a.join(","));a.setAttribute("Flags",this.Kg?1:0);return a}};f.Mh.prototype=$.extend(Object.create(f.Action.prototype),f.Mh.prototype);Object.defineProperties(f.Mh.prototype,{fields:{get:function(){return this.$a}},exclude:{get:function(){return this.Kg}}});f.Ph=function(d){f.Action.call(this,
d);this.Go="";this.$a=[];this._format="xfdf";this.fo=!1;this._method="POST";this.Kg=!1;this.Eb=new a.Annotations.Jg({mask:"IncludeNoValueFields IncludeAppendSaves IncludeAnnotations CanonicalFormat WxclNonUserAnnots ExclFKey EmbedForm".split(" ")});this.set(d)};f.Ph.prototype={elementName:"SubmitForm",set:function(a){_.isObject(a)&&(a.url&&(this.Go=String(a.url)),_.isArray(a.fields)&&(this.$a=a.fields.slice()),a.format&&(this._format=a.format.toLowerCase()),a.includeEmpty&&(this.fo=!!a.includeEmpty),
a.flags&&this.Eb.set(a.flags),a.method&&(this._method=String(a.method)),a.exclude&&(this.Kg=!!a.exclude))},onTriggered:function(a,b,c){f.Action.prototype.onTriggered.call(this,a,b,c);var d=this,h=[],g=c.cd(),l=g.xi();0<this.$a.length?this.$a.forEach(function(a){h.push(l.lb(a))}):l.om(function(a){_.isNull(a.value)&&!d.fo||h.push(a)});a="";"xfdf"===this._format?a=g.hi.fD(h):("fdf"===this._format&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),a=g.hi.gD(h));$.ajax({type:"POST",
url:this.Go,data:a,success:function(a){if(g.zB)g.zB(a);else{var b=window.open();_.isNull(b)||_.isUndefined(b)?console.warn("Form popup blocked"):b.document.write(a)}},error:function(){console.warn("Failed to submit form data to server.")}})},deserialize:function(a,b){f.Action.prototype.deserialize.call(this,a,b);var c=Annotations.fa,d=a.getElementsByTagName("SubmitForm"),h="SubmitURL",g="SubmitFields",l="SubmitFlag";0<d.length&&(a=d[0],h="URL",g="Fields",l="Flags");d=c.getAttribute(a,h);h=null;_.isNull(c.getAttribute(a,
g))||(h=c.getAttribute(a,g).split(","));g=0;_.isNull(c.getAttribute(a,l))||(g=parseInt(c.getAttribute(a,l),10));c="fdf";g&4&&(c="html");g&32&&(c="xfdf");this.set({url:d,fields:h||void 0,format:c,flags:0!==(g&2)?["IncludeNoValueFields"]:[]})},serialize:function(a){a=f.Action.prototype.serialize.call(this,a);a.setAttribute("Fields",this.$a.join(","));a.setAttribute("Flags",("xfdf"===this._format?32:0)|("html"===this._format?4:0)|(this.fo?2:0));a.setAttribute("URL",this.Go);return a}};f.Ph.prototype=
$.extend(Object.create(f.Action.prototype),f.Ph.prototype);Object.defineProperties(f.Ph.prototype,{url:{get:function(){return this.Go}},fields:{get:function(){return this.$a}},format:{get:function(){return this._format}},includeEmpty:{get:function(){return this.fo}},flags:{get:function(){return this.Eb},set:function(a){this.Eb.set(a)}},method:{get:function(){return this._method}},exclude:{get:function(){return this.Kg}}});f.lj=function(a){f.Action.call(this,a);this.$a=[];this._hide=!0;this.set(a)};
f.lj.prototype={elementName:"Hide",set:function(a){_.isObject(a)&&(_.isArray(a.fields)&&(this.$a=a.fields.slice()),_.isUndefined(a.hide)||(this._hide=!!a.hide))},onTriggered:function(a,b,c){f.Action.prototype.onTriggered.call(this,a,b,c);var d=c.cd().xi(),h=this;this.$a.forEach(function(a){d.lb(a).pe(!h.hide)})},deserialize:function(a,b){f.Action.prototype.deserialize.call(this,a,b);var c=Annotations.fa,d=!0,h;_.isNull(c.getAttribute(a,"HideField"))?0<a.getElementsByTagName("Hide").length?(a=a.getElementsByTagName("Hide")[0],
h=c.getAttribute(a,"Fields").split(","),d="false"===c.getAttribute(a,"Hide")?!1:!0):(h=[c.getAttribute(a,"ShowField")],d=!1):h=[c.getAttribute(a,"HideField")];this._hide=d;this.$a=h},serialize:function(a){a=f.Action.prototype.serialize.call(this,a);a.setAttribute("Fields",this.JL.join(","));a.setAttribute("Hide",this.hide?"true":"false");return a}};f.lj.prototype=$.extend(Object.create(f.Action.prototype),f.lj.prototype);Object.defineProperties(f.lj.prototype,{fields:{get:function(){return this.$a}},
hide:{get:function(){return this._hide}}});f.Sv=function(){this.Jx={GoTo:f.Ye,URI:f.yj,Named:f.pj,JavaScript:f.mj,ResetForm:f.Mh,SubmitForm:f.Ph,Hide:f.lj}};f.Sv.prototype={UG:function(a){if(_.isObject(a)){var b=this.Jx[a.name];return b?new b(a):null}},VG:function(a,b,c){var d=Annotations.fa.JF(a);return(d=this.Jx[d])?(d=new d,d.deserialize(a,b,c),d):null}};var d=new f.Sv;f.PL=function(){return d};f.Gf=function(a){this.Wh={};this.Wr=null;_.isObject(a)&&_.isObject(a.actions)&&this.Ho(a.actions)};f.Gf.prototype=
{Ho:function(a){if(_.isObject(a))for(var b in a)if(a.hasOwnProperty(b))for(var c=a[b].length,d=0;d<c;++d)this.ii(b,a[b][d])},ii:function(a,b){var c=this.Wh[a]||[];if(b instanceof f.Action)-1===c.indexOf(b)&&c.push(b);else if(_.isObject(b)){var k=d.UG(b);k&&c.push(k)}this.Wh[a]=c},vi:function(){return this.Wh},zd:function(a,b){var c=this.Wh[a];if(c)for(var d=c.length,h=0;h<d;++h)c[h].onTriggered(this,b,this.Wr)},Df:function(a){this.Wr=a},wi:function(){return this.Wr},zI:function(a,b,c){function d(a,
c){c.forEach(function(c){var d=document.createElementNS("","Action");d.setAttribute("Trigger",a);var e=$(d);if(c=c.serialize(b))e.append(c),g=!0;$(h).append(d)})}var h;h=c?c:document.createElementNS("","OnActivation");var g=!1,f;for(f in this.Wh)this.Wh.hasOwnProperty(f)&&d(f,this.Wh[f]);g&&!c&&$(a).append(h)},Xx:function(a,b,c){var f=Annotations.fa;a=f.IF(a);for(var h=a.length,g=0;g<h;++g){var l=a[g],m=f.getAttribute(l,"Trigger")||"U";(l=d.VG(l,b,c))&&this.ii(m,l)}}}})(window);
(function(a){function f(a,b){return a-b}function d(b,c){a.Actions.Gf.call(this);this.width=b;this.height=c;this.text=null;this.xq=[];this.links=[];this.fd=null}function e(b,c,d,h,e,g){var f={getZoom:function(){return 1},getPageRotation:function(){return a.o.sa.Ae},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){},onError:function(){}};_.isObject(b)?(f=
$.extend(f,b),f.zoom&&(f.getZoom=function(){return f.zoom}),f.pageRotation&&(f.getPageRotation=function(){return f.pageRotation})):f=$.extend(f,{pageIndex:b,getZoom:function(){return c},getPageRotation:function(){return d},drawProgressive:e,drawComplete:h,canvasNum:g});return f}function b(){console.warn("Function not implemented.")}function c(a){a in this.mk?(clearTimeout(this.mk[a]),delete this.mk[a]):this.Ma.Os(a)}var k=window.o,h=a.o.V.wl,g=a.o.V.kr;a.ci=a.ci||{};a.o.Ln={DC:0,FC:1,TC:2};a.o.Nh=
{rC:1,UC:2,mC:4,EC:8,wC:16,bC:32};d.prototype=$.extend({VI:function(a){this.height=a.height;this.width=a.width;this.fd=a.matrix;this.rotation=a.rotation;this.id=a.id;this.gb=a.pageNum}},Object.create(a.Actions.Gf.prototype));var l=1E3;a.o.kB=function(a){l=a};a.o.yr=function(b){a.gj=524288*b*b;a.gr=524288*b*b;a.jj=3*b;switch(b){case 0:a.jj=0;a.gj=0;a.gr=0;break;case 1:a.jj=0,a.gj=0}};a.o.iw=function(b){a.Yp=1+2*(b-1);a.Zp=b-1;0>a.Yp&&(a.Yp=0);0>a.Zp&&(a.Zp=0)};a.o.yr(6);a.o.iw(5);k.qe=function(a,b,
c,d,h,e,g){this.children=a;this.name=b;this.Oi=c;this.parent=d;this.Yk=h||0;this.lk=e||0;this.url=g};k.qe.prototype={mz:function(){return this.children},getName:function(){return this.name},Jb:function(){return this.Oi},Mz:function(){return this.url},getParent:function(){return this.parent},EG:function(){return this.Yk},YF:function(){return this.lk},isValid:function(){return!!this.url||_.isNumber(this.Oi)}};var m=Backbone.Model.extend({defaults:{title:"",tL:null,RM:null,iM:null,sL:null,Au:null,description:null,
EM:null}});k.Document=function(b,c){a.Actions.Gf.call(this);this.Gl=a.Annotations.K.ib.XE();_.isUndefined(c)?this.v=new k.vl(b):"pdf"===c&&(this.v=new k.ol);var d=this;this.v.UI(function(a){d.trigger(a.type,[a.data])});this.kD=20;this.Bk=[];this.vv={}};k.Document.prototype={Uj:function(a){return this.v.Uj.apply(this.v,arguments)},JH:function(a){this.Gl.kK(a)},Yf:function(a){return this.v.Yf.apply(this.v,arguments)},sn:function(a){return this.v.sn.apply(this.v,arguments)},Uo:function(){return this.v.Uo.apply(this.v,
arguments)},pm:function(){return this.v.pm.apply(this.v,arguments)},sp:function(a){this.v.sp.apply(this.v,arguments)},wp:function(){return this.v.wp.apply(this.v,arguments)},yc:function(){return this.v.yc.apply(this.v,arguments)},Lc:function(a){var b={};b.width=this.v.N[a].width;b.height=this.v.N[a].height;return b},yp:function(a,b,c){return this.v.yp.apply(this.v,arguments)},cu:function(a,b,c,d){return this.v.cu.apply(this.v,arguments)},Fp:function(a,b,c){return this.v.Fp.apply(this.v,arguments)},
gu:function(a,b,c){return this.v.gu.apply(this.v,arguments)},nk:function(){return this.v.nk.apply(this.v,arguments)},Lm:function(a){return this.v.Lm.apply(this.v,arguments)},sk:function(){return this.v.sk()},uh:function(a,b,c){var d=this;return this.v.uh.call(this.v,a,function(a){for(var c=d.sb(),h=c.length,e=d.wi(),g=0;g<h;++g)c[g].Df(e);b(a)},c)},kg:function(a,b,c,d,h,e){return this.v.kg.apply(this.v,arguments)},xu:function(a,b){return this.v.xu.apply(this.v,arguments)},lm:function(a){return this.v.lm.apply(this.v,
arguments)},Tm:function(a){return this.v.Tm.apply(this.v,arguments)},wk:function(a,b){return this.v.wk.apply(this.v,arguments)},lq:function(a){return this.v.lq.apply(this.v,arguments)},zq:function(a){return this.v.zq.apply(this.v,arguments)},gk:function(){return this.v.gk.apply(this.v,arguments)},Jq:function(a){return this.v.Jq.apply(this.v,arguments)},Oq:function(a,b){return this.v.Oq.apply(this.v,arguments)},Qe:function(){this.Gl.Kc();return this.v.Qe.apply(this.v,arguments)},uk:function(a,b){return this.v.uk.apply(this.v,
arguments)},Vp:function(a,b){return this.v.Vp.apply(this.v,arguments)},Pp:function(){return this.v.Pp.apply(this.v,arguments)},mi:function(a){return this.v.mi.apply(this.v,arguments)},UA:function(){var a=this.Bk.shift();this.v.N[a].text=null;delete this.vv[a]},mI:function(){for(var a=this.Bk.length-1;0<=a;--a)this.UA()},je:function(a,b){this.vv[a]?this.Bk.splice(this.Bk.indexOf(a),1):(this.Bk.length===this.kD&&this.UA(),this.vv[a]=!0);this.Bk.push(a);return this.v.je.apply(this.v,arguments)},Ce:function(a){return this.v.Ce.apply(this.v,
arguments)},qk:function(a,b,c){return this.v.qk.apply(this.v,arguments)},Um:function(a,b){return this.v.Um.apply(this.v,arguments)},Ek:function(a){return this.v.Ek.apply(this.v,arguments)},ak:function(){return this.v.ak.apply(this.v,arguments)},Jk:function(a,b){return this.v.Jk.apply(this.v,arguments)},bk:function(a,b){return this.v.bk.apply(this.v,arguments)},Yj:function(a,b,c,d,h){return this.v.Yj.apply(this.v,arguments)},fk:function(){return this.v.fk.apply(this.v,arguments)},Hq:function(a){return this.v.Hq.apply(this.v,
arguments)},Kq:function(a){return this.v.Kq.apply(this.v,arguments)},get numPages(){return this.v.N.length},Qb:function(a){return this.v.N[a].width},Pb:function(a){return this.v.N[a].height},De:function(a){return this.v.N[a].fd},zp:function(a){return this.v.zp.apply(this.v,arguments)},Am:function(){return this.v.Am.apply(this.v,arguments)},Bm:function(a){return this.v.N[a].rotation},Ez:function(a){return this.v.N[a].text},eJ:function(a,b){this.v.N[a].text=b},kG:function(a){return this.v.N[a].No},
sb:function(){var a=this;this.v.N.forEach(function(b){b.Df(a.wi())});return this.v.N},Mm:function(a,b,c){return this.v.Mm.apply(this.v,arguments)},Xi:function(a){this.v.Xi.apply(this.v,arguments)}};$.extend(k.Document.prototype,Object.create(a.Actions.Gf.prototype),a.utils.eventHandler);k.An=function(){throw Error("Cannot initialize BaseDocument");};k.An.prototype={Uj:b,Yf:b,sn:b,Uo:b,pm:b,sp:b,wp:b,yc:b,Lc:b,UI:function(a){this.Vy=a},jp:function(a){this.Vy&&this.Vy(a)},yp:function(a,b,c){b={x:b,
y:c};return this.N[a].fd.inverse().W(b)},cu:function(a,b,c,d){if(c<=b)return console.error("End index must be greater than start index");this.je(a,function(a){a=a.Od();var h=8*b,e=8*c;if(h>a.length||e>a.length)return console.error("Index out of bounds");for(var g=[];h<e;h+=8)g.push({x1:a[h],y1:a[h+1],x2:a[h+2],y2:a[h+3],x3:a[h+4],y3:a[h+5],x4:a[h+6],y4:a[h+7]});d(g)})},Fp:b,gu:function(a,b,c){return this.N[a].fd.W({x:b,y:c})},nk:b,Lm:b,sk:b,uh:b,kg:b,lm:b,Tm:b,xu:function(a,b){this.je(a,function(a){b(a.fb)})},
wk:b,lq:b,zq:b,Jq:b,Oq:b,Qe:b,uk:b,Vp:b,mi:b,Pp:function(){return!1},ft:function(b,c){var d=this.N[b],d=a.Dc(1,(4-d.rotation/90)%4,d,{x:0,y:0},!1);c.vE(d)},je:b,Ce:b,qk:b,Ek:b,Jk:b,ak:b,mn:b,bk:b,Yj:b,Xi:function(){},print:function(){},zp:function(a){return String(a)},Am:function(){return _.range(0,this.N.length).map(String)},gk:b,fk:b,Hq:b,Kq:b,Ls:function(){for(var b=1,c=this.N.length,d=a.utils.getCanvasMultiplier(),d=d*d,h=0;h<c;++h)var e=this.N[h],b=Math.max(b,e.width*e.height*d);return Math.sqrt(8E6/
b)},So:function(a){return 0===a.m_b&&0===a.m_c?0<a.m_a?0:180:0>a.m_b?270:90},Ks:function(a,b){var c=this.So(a),d=b.w,h=b.he;if(90===c||270===c)var e=d,d=h,h=e;switch(c){case 0:return c=-a.m_h,e=a.m_v,{x1:c,y1:e-h,x2:e-h,y2:e};case 90:return e=-a.m_h,c=-a.m_v,{x1:c,y1:e,x2:c+d,y2:e+h};case 180:return c=a.m_h,e=-a.m_v,{x1:c-d,y1:e,x2:c,y2:e+h};case 270:return e=a.m_h,c=a.m_v,{x1:c-d,y1:e-h,x2:c,y2:e}}return null}};k.vl=function(b){this.Aj=this.cb=null;this.os=new a.Ze.hw;this.id=b;this.gq=!1;this.Sd=
null;this.Xg={};this.Hu=_.bind(this.Hu,this);this.hp=null;this.xg=1};k.vl.prototype=Object.create(k.An.prototype);k.vl.prototype.constructor=k.vl;$.extend(k.vl.prototype,{We:"Document/FixedDocument.fdoc",Ef:"Document/DocProps/core.xml",Ue:"Document/Structure/DocStruct.struct",hC:"Struct/font.xml",mD:"Struct/",lD:"Text/",uh:function(b,c,d){this.cb=b;this.ki=[];this.$p=new m;this.N=[];this.Bc={};this.Bc[this.We]=0;this.Bc[this.Ef]=0;this.Bc[this.Ue]=0;this.cb.Ui()&&(this.yh={});var h=this,e;e=d&&d.annotsLoadedCallback?
d.annotsLoadedCallback:function(){};b.bind("partReady",this.Hu);this.bind("documentReady",function(a){1.2===h.xg?(h.WD(),c(a),e()):h.rb.tf("Annots.xfdf",function(b){b=b.data;var d="",g=0,f,q,k;for(2<=b.length&&"{"===b.charAt(0)&&"}"===b.charAt(1)&&(b=b.substr(2));g<b.length;)f=b.charCodeAt(g),9===f?(d+=String.fromCharCode(10),g++):128>f?(d+=String.fromCharCode(f),g++):191<f&&224>f?(q=b.charCodeAt(g+1),d+=String.fromCharCode((f&31)<<6|q&63),g+=2):(q=b.charCodeAt(g+1),k=b.charCodeAt(g+2),d+=String.fromCharCode((f&
15)<<12|(q&63)<<6|k&63),g+=3);b=d;h.N[0].No=b;h.XD(b);c(a);e(b)})});b instanceof a.o.V.tl?(this.gq=!0,this.Lm(function(){b.db=h.Sd;b.vq(c)})):b.vq(c)},Vp:function(b,c,d){var h=this;if(!this.rb)throw Error("Document is not initialized!");1.2===this.xg&&(this.rb.Gu=!0);this.rb.Dz(b,c,function(c,n){var e=new a.Ze.XC(h.N[b],n,h.os);d(c,e)})},uk:function(a,b){if(!this.rb)throw Error("Document is not initialized!");return this.rb.tf(a,b)},nH:function(a){var b=this;null===b.hp?b.uk(b.hC,function(c){if(c.error)throw Error("SELECT: Error getting part "+
c.na+": "+c.error);var d=new XODText.or;d.Su(c.data);b.hp=d.Gt;a(b.hp)}):a(b.hp)},je:function(a,b){var c=this;1.4>c.xg?null===c.N[a].text?c.uk(c.lD+(a+1)+".xml",function(d){if(d.error)throw Error("SELECT: Error getting part "+d.na+": "+d.error);var h=new XODTextOld.Kf;h.SG(d.data);d=new XODText.Kf;d.DA(h);c.ft(a,d);c.N[a].text=d;b(d)}):b(c.N[a].text):c.nH(function(d){null===c.N[a].text?c.uk(c.mD+(a+1)+".xml",function(h){var e=new XODText.Kf,g=new XODText.Na;g.Xa(1,0,0,1,0,0);var f=new XODText.xr(d);
c.rb.Dz(a,_.uniqueId(),function(d,k){var u=k.pf.clone(),l=!1;try{do l=u.run(f,g,!0);while(!l)}catch(m){console.warn("Custom Canvas has encountered an error: "+m.message);return}e.Su(h.data,f);c.ft(a,e);c.N[a].text=e;b(e)})}):b(c.N[a].text)})},Pp:function(){return 1.2>=this.xg},nk:function(){return this.Hm},kg:function(a,b,c,d,h,g){var f=this,k=e(a,b,c,d,h,g),l=_.uniqueId();f.Xg[l]={Hi:null,paused:!1,Nc:k.pageIndex};f.Vp(k.pageIndex,l,function(a,b){if(a)throw Error("Error loading page %d:",k.pageIndex);
_.isUndefined(f.Xg[l])||(f.Xg[l].Hi=b,f.Xg[l].paused&&b.pause(),k.finishedLoading(a,b)&&b.qH(function(){k.resourcesLoaded()&&b.TE(k.getZoom(),k.getPageRotation(),function(a){k.drawComplete(a,k.pageIndex)},function(a){k.drawProgressive(a,k.pageIndex)},k.canvasNum,k.getPageTransform(),k.renderRect)},void 0,k.acquireResources()))});return l},lq:function(a){if(a=this.Xg[a])a.paused=!0,a.Hi&&a.Hi.pause()},zq:function(a){if(a=this.Xg[a])a.paused=!1,a.Hi&&a.Hi.resume&&a.Hi.resume()},sn:function(a){this.Yf(a)},
Yf:function(a){var b=this.Xg[a];b&&(this.Os(b.Nc,a),b=b.Hi)&&(b.Qe(),b.abort&&b.abort());this.mi(a)},mi:function(a){delete this.Xg[a]},wk:function(a,b){if(!this.rb)throw Error("Document is not initialized!");var c=this,d;if(this.Hm)d=_.uniqueId(),this.rb.du(a,d,function(a){var d=new Image;a=g&&c.cb instanceof g?c.cb.path+a.data:"data:image/png;base64,"+btoa(a.data);d.onload=function(){b(d);d=d.onload=null};d.src=a},name);else{var h=this.N[a];d=this.kg({pageIndex:a,zoom:h.width>h.height?150/h.width:
150/h.height,drawComplete:function(a){a.style.backgroundColor="white";c.sn(d);b(a)}})}return d},Lm:function(b){if(null===this.Sd){if(_.isUndefined(this.id)||_.isNull(this.id)){this.id=a.top.location.href;for(var c=a.top.location.hash.substring(1).split("&"),d=0;d<c.length;d++){var h=c[d].split("=");if("d"===h[0]){this.id=h[1];break}}}var e=this;this.Sd=new a.o.HC(this.id);this.Sd.open(b,function(a){e.Sd=null;console.error(a)})}else console.warn("Offline DB is already initialized!"),b()},Oq:function(b,
c){function d(a){h.cb.Ps(a)}if(!this.rb)throw b(),Error("Document is not initialized!");if(!this.Sd)throw b(),Error("Offline DB is not initialized!");if(this.cb instanceof a.o.V.tl)throw b(),Error("Can't download file while in offline mode!");var h=this;h.cb.Fz(function(a){h.Sd.HJ(h.rb,a,!!h.cb.decrypt,b,c,d)})},sk:function(){if(!this.Sd)throw Error("Offline DB is not initialized!");return this.Sd.sk()},Uo:function(){if(!this.Sd)throw Error("Offline DB is not initialized!");this.Sd.IE()},wp:function(){return this.gq},
Jq:function(b){if(!this.Sd)throw Error("Offline DB is not initialized!");this.gq!==b&&(!(this.gq=b)||this.Aj instanceof a.o.V.tl||(this.Aj=new a.o.V.tl(this.Sd,this.cb.decrypt,this.cb.$l),this.Aj.bind("partReady",this.rb.iq)),this.KJ())},KJ:function(){if(null!==this.Aj){var a=this.Aj;this.Aj=this.cb;this.cb=a;this.rb.jd=this.cb}},Os:function(a,b){if(!this.rb)throw Error("Document is not initialized!");this.rb.JE(a,b)},Uj:function(a){this.Hm?this.rb.LE(a):this.Yf(a)},iK:function(a,b){if(!b)return a;
for(var c="",d=0,h,e,g;d<a.length;)h=a.charCodeAt(d),128>h?(c+=String.fromCharCode(h),d++):191<h&&224>h?(e=a.charCodeAt(d+1),c+=String.fromCharCode((h&31)<<6|e&63),d+=2):(e=a.charCodeAt(d+1),g=a.charCodeAt(d+2),c+=String.fromCharCode((h&15)<<12|(e&63)<<6|g&63),d+=3);return c},Hu:function(b){if(b.error)return this.Bc[b.na]=3,this.Tw();var c;c=this.cb.decrypt?this.cb.Dy?this.cb.decrypt(b.data,this.cb.$l,b.na):a.o.Hf.Hy(b.data,this.cb.$l,b.na):b.data;this.cb.Ui()&&(this.yh[b.na]={data:c,vb:b.vb},this.cb.decrypt&&
(this.yh[b.na].vF=b.data));b.vb&&(c=h.inflate(c));switch(b.na){case this.We:c=new a.Vd(c);c.ka();c.advance();b=c.J("JPGThumbs");this.tu="true"===b;b=c.J("IncludesThumbs");this.Hm=null===b||"false"!==b;b=c.J("Version");this.xg=parseFloat(b);if(1.2>this.xg)throw this.Bc[this.We]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");if(1.4<this.xg)throw Error("The XOD file version is too new for this client. Please update the WebViewer client version.");
for(b=this.Bc[this.We]=1;c.advance();++b){var d=new a.cw(parseFloat(c.J("Width")),parseFloat(c.J("Height")));d.xq=["Pages/"+b+".xaml","Annot/"+b+".xml","Pages/_rels/"+b+".xaml.rels"];this.N.push(d)}this.yu=this.Ls();break;case this.Ef:this.Bc[this.Ef]=1;c=new a.Vd(c);c.ka();for(this.$p=new m;c.advance();)b=c.ma().split(":"),this.$p.attributes[1===b.length?b[0]:b[1]]=c.ed();break;case this.Ue:this.Bc[this.Ue]=1;this.ki=[];c=new a.Vd(c);c.ka();c.advance();c.ka();c.advance();c.ka();for(var e=0,g=null;c.advance();){var d=
parseInt(c.J("OutlineLevel"),10),f=new a.CoreControls.Bookmark;f.children=[];f.name=this.iK(c.J("Description"),b.vb);if(e<d)f.parent=g;else for(f.parent=g.parent;e>d;)f.parent=f.parent.parent,--e;f.Yk=c.J("trn:Vpos");f.Yk=null===f.Yk?0:parseFloat(f.Yk);f.lk=c.J("trn:Hpos");f.lk=null===f.lk?0:parseFloat(f.lk);e=c.J("OutlineTarget").split("#");1===e.length||0===e[1].length?f.url=e[0]:f.Oi=parseInt(e[1],10);null!==f.parent?f.parent.children[f.parent.children.length]=f:this.ki[this.ki.length]=f;e=d;g=
f}break;default:if(this.Bc[this.We])return this.Bc[this.Ef]=this.Bc[this.Ef]||2,this.Bc[this.Ue]=this.Bc[this.Ue]||2,this.$w(b)}this.Tw()},pm:function(){return Promise.resolve(this.ki)},sp:function(a){return 1.2===this.xg?this.N[a].No:this.N[a].links},yc:function(){return this.N.length},Lc:function(a){var b={};b.width=this.N[a].width;b.height=this.N[a].height;return b},yp:function(a,b,c){b={x:b,y:c};return this.N[a].fd.inverse().W(b)},Fp:function(a,b,c){return this.N[a].fd.W({x:b,y:c})},Qe:function(){if(document.fonts)for(var b in a.Bg)a.Bg[b].remove();
a.ci={};a.Bg={};b=a.Ih.FontFace.prototype.uv;null!==b&&(document.head.removeChild(b),a.Ih.FontFace.prototype.styleSheet=null,a.Ih.FontFace.prototype.uv=null);this.os=new a.Ze.hw;this.cb instanceof a.o.V.mw&&this.cb.abort();this.Yw()},Yw:function(){this.cb.unbind("partReady");this.rb=new a.o.V.GC(this.cb,this.N,this.os);this.rb.tu=this.tu},Tw:function(){this.Bc[this.We]&&this.Bc[this.Ef]&&this.Bc[this.Ue]&&this.$w()},$w:function(a){this.Yw();if(this.cb.Ui()){for(var b in this.yh)this.rb.cache.setItem(b,
this.yh[b].data,this.yh[b].vb),this.cb.decrypt&&this.rb.ti.setItem(b,this.yh[b].vF,this.yh[b].vb);delete this.yh}this.trigger("documentReady",3===this.Bc[this.We]);a&&this.cb.trigger("partReady",a)},WD:function(){var a=new XODText.Na;a.Xa(4/3,0,0,-4/3,0,this.N[0].height);for(var b=this.N.length,c=0;c<b;++c)this.N[c].fd=a,this.N[c].rotation=0},XD:function(a){"string"===typeof a&&(a=(new DOMParser).parseFromString(a,"text/xml"));if(a&&a.querySelector("xfdf > pages")){var b=a.querySelector("xfdf > pages"),
c,d,h;for(a=0;a<b.childNodes.length;++a){var e=b.childNodes[a].localName;if(e&&(h=b.childNodes[a],"defmtx"===e&&(d=h.getAttribute("matrix").split(","),c=new XODText.Na,c.Xa(parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]),parseFloat(d[4]),parseFloat(d[5])),d=this.So(c)),"pgmtx"===e)){e=parseInt(h.getAttribute("page"),10);h=h.getAttribute("matrix").split(",");var g=new XODText.Na;g.Xa(parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3]),parseFloat(h[4]),parseFloat(h[5]));
var f=this.So(g);h=this.Ks(g,{w:this.N[e].width,he:this.N[e].height});this.N[e].rotation=f;g.Xa(4/3,0,0,-4/3,-h.x1,h.y2);this.N[e].fd=g}}b=this.N.length;for(a=0;a<b;++a)null===this.N[a].fd&&(e=new XODText.Na,h=this.Ks(c,{w:this.N[a].width,he:this.N[a].height}),e.Xa(4/3,0,0,-4/3,-h.x1,h.y2),this.N[a].fd=e,this.N[a].rotation=d)}}});k.ol=function(){this.ki=[];this.$p=new m;this.N=[];this.zA={};this.Hm=!1;this.mk={};this.qn={};this.Ra=null;this.Lu=2};k.ol.prototype=Object.create(k.An.prototype);k.ol.prototype.constructor=
k.ol;$.extend(k.ol.prototype,{DK:function(b){var c=new a.cw(b.width,b.height);c.fd=new XODText.Na;b=b.matrix;c.fd.Xa(b[0],b[1],b[2],b[3],b[4],b[5]);b=this.So(c.fd);c.fd=this.bB({w:c.width,he:c.height});c.rotation=b;return c},bB:function(a,b){var c=new XODText.Na;c.Xa.apply(c,a);var d=this.Ks(c,b);c.Xa(1,0,0,-1,-d.x1,d.y2);return c},$y:function(a,b,c){this.LH||this.jy({pageDimensions:a});this.yu=this.Ls();c&&(this.Gm||this.Ma.iA(this.Ra).then(function(a){c(a.xfdfString)}));this.Gm||this.trigger("documentComplete");
b()},hG:function(a){var b=createPromiseCapability(),c=new XMLHttpRequest;c.open("GET",a.url);if(a=a.customHeaders)for(var d in a)c.setRequestHeader(d,a[d]);c.setRequestHeader("Range","bytes=1-150");c.responseType="arraybuffer";c.onreadystatechange=function(){if(this.readyState===this.DONE){var a=c.response.byteLength;200===c.status?b.reject({message:"Byte ranges are not supported by the server.",data:new Uint8Array(c.response)}):206!==c.status?b.reject({message:"Received http error code "+c.status}):
150!==a&&b.reject({message:"Received incorrect number of bytes."});var a=new Uint8Array(c.response),d=[76,105,110,101,97,114,105,122,101,100],h=c.getResponseHeader("Content-Range");if(h){var h=h.split("/")[1],e=0;do{a:{for(var g=a.length;e<g;++e)if(a[e]===d[0])break a;e=-1}e+=1;for(g=1;10>g;++g)if(a[e]===d[g])++e;else break;if(10===g){b.resolve(parseInt(h));return}}while(0!==e);b.reject({message:"The file is not linearized."})}else b.reject({message:"Could not retrieve Content-Range header."})}};
c.onerror=function(){b.reject({message:"Network or Cross Domain Access Error."})};c.send();return b.promise},uh:function(b,c,d){function h(a){z.ki=[];z.$p=new m;z.N=[];z.Hm=!1;z.Gm=!1;z.bind("documentReady",c);var b,d;M.then(function(c){z.Ma=c;c=G&&a.url===G.url;z.Ma&&"ems"===z.Ma.getWorkerType()&&H&&(a=H);if(c)b="url",d=a,z.Gm=!0;else if("string"===typeof a)b="filepath",d=a;else if("object"===typeof a&&null!==a&&void 0!==a.byteLength)b="array",d=a.buffer;else{c=a;var n=Object.prototype.toString.call(c);
"object"!==typeof c||null===c||"[object File]"!==n&&"[object Blob]"!==n?console.warn("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"):(b="file",d=a)}l(b,d,E)})}function e(a,b){console.warn("Could not use incremental download for url "+a+". Reason: "+b)}function g(a){I=a;z.Ma.cK(z.Ra,a).then(function(a){a.success?k(a.pageDimensions):B(g)})}function f(){z.cm=new Promise(function(a){z.bind("documentComplete",function(){z.unbind("documentComplete");a()})});z.Ma.addEventListener(z.Ra,
function(a){z.aI(a)})}function k(a){z.Gm?z.Ma.ZG(z.Ra).then(function(d){d?z.$y(a,c,A):(e(G.url,"Linearization data is invalid."),z.Qe(),b.Ce(h))}):z.$y(a,c,A)}function l(a,b,d){z.Ma.AF(a,b,d).then(function(a){z.Ra=a.docId;f();k(a.pageDimensions)},function(a){"NeedsPassword"===a.type&&B?(z.Ra=a.docId,f(),I?g(I):B(g)):(z.cm=Promise.reject(a),c(a))})}var A=d.annotsLoadedCallback,B=d.getPassword,E=d.extension,M=d.workerTransportPromise,z=this,H=b.getFile(),G=b.qz();a.utils.isJSWorker&&a.jsworker?(H=a.jsworker.worker.getPlatformFormatFilePath(H),
h(H)):G?this.hG(G).then(function(a){G.size=a;h(G)},function(a){e(G.url,a.message);a.data?h(a.data):b.Ce(h)}):H&&!a.utils.isChrome?h(H):b.Ce(h);var I=null},jy:function(a){var b=this;b.LH=!0;a=a.pageDimensions;var c=Object.keys(a),h=this.N=[],e=this.zA,g=[],f={};c.forEach(function(c){var k=a[c],k={width:k.width,height:k.height,matrix:b.bB(k.matrix,{w:k.width,he:k.height}),rotation:90*k.rotation,id:k.id,pageNum:c,contentChanged:!!k.contentChanged};e[k.id]&&g.push({before:e[k.id],after:k});e[k.id]=new d(k.width,
k.height);var q=e[k.id];q.VI(k);h[c-1]=q;f[k.id]=!0});this.yu=this.Ls();Object.keys(e).forEach(function(a){a in f||delete e[a]});return g},aI:function(a){switch(a.type){case "pagesUpdated":a=this.jy(a.data);this.jp({type:"pagesDiff",data:a});this.jp({type:"pagesUpdated",data:a.map(function(a){return a.after})});break;case "bookmarksUpdated":this.jp({type:"bookmarksUpdated",data:a.data});break;case "documentComplete":this.trigger("documentComplete");this.jp({type:"documentComplete",data:a.data});break;
default:console.warn("Unknown event type: ",a.type)}},YM:function(){return this.cm},pm:function(){function a(b){var c=[];b.children.forEach(function(b){c.push(a(b))});return new k.qe(c,b.name,b.pageNumber,b.parent,b.verticalOffset,b.horizontalOffset,b.url)}return this.Ma.lH(this.Ra).then(function(b){var c=[];b.bookmarks.forEach(function(b){c.push(a(b))});return c})},je:function(a,b){var c=this;null!==c.N[a].text?b(c.N[a].text):a in c.qn?c.qn[a].push(b):(c.Ma.je(c.Ra,a).then(function(b){var d=new XODText.Kf;
d.DA({Sa:b.struct,fb:b.str,lc:b.offsets,Aa:b.quads,mc:!0});c.ft(a,d);c.N[a].text=d;c.qn[a].forEach(function(a){a(d)});delete c.qn[a]},function(a){console.warn("Text generation failed: "+(a&&a.message?a.message:a))}),c.qn[a]=[b])},lm:function(a){return this.Ma.iA(this.Ra,a)},Tm:function(a){return this.Ma.Tm(this.Ra,a)},Ce:function(a){var b=this,c=!1,d=!1,h,e;a&&("finishedWithDocument"in a&&(c=a.finishedWithDocument),"printDocument"in a&&(d=a.printDocument),"xfdfString"in a&&(h=a.xfdfString),"filePath"in
a&&(e=a.filePath));return e?b.cm.then(function(){return b.Ma.BI(b.Ra,e,h)}):b.cm.then(function(){return b.Ma.AI(b.Ra,h,c,d)}).then(function(a){return a.fileData})},yc:function(){return this.N.length},Uz:function(b,c,d,h,e,g,f){var k=this,l=a.o.dl===a.o.dl.Cr;if(l){c=a.innerWidth;d=a.innerHeight;var m=a.utils.getCanvasMultiplier(c,d,h.$m),B=h.$m,E={x:f.x,y:f.y};a.Dc(B,h.jq,{x1:h.page.x1,x2:h.page.x2,y1:h.page.y1,y2:h.page.y2,width:h.page.width,height:h.page.height},E,!0,m);E.x=E?Math.round(E.x):0;
E.y=E?Math.round(E.y):0;m=a.o.Ja.Rd;a.o.Ja.Nl(m,c,d,B);var M=E.x>=m.width/2;console.log("imagePathReceived for: "+b);console.log("tCanvas.width: "+m.width);console.log("translation.x: "+E.x);console.log("isRightPage: "+M);"undefined"===typeof k.Rm&&(k.Rm=!1);if(M&&!k.Rm){k.wt=function(){var c=a.o.Ja.nn(h.page,h.$m,h.jq,f,g).canvas,d=f?Math.round(f.x):0,n=f?Math.round(f.y):0;console.log("Drawing: "+b);var k=new Image;$(k).css("width",h.yA);$(k).css("height",h.vA);var q=b;0!==q.indexOf("file://")&&
(q="file://"+q);k.onload=function(){var b=c.getContext("2d");b.setTransform(1,0,0,1,0,0);b.drawImage(k,d,n);e||$(c).addClass("progressive");h.vt(c);e&&h.ut(c);k=null;a.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+q),a.jsworker.worker.deleteGeneratedImageRenderFile(q))};k.src=q};return}}var z=a.o.Ja.nn(h.page,h.$m,h.jq,f,g,h.Gk).canvas,H=f?Math.round(f.x):0,G=f?Math.round(f.y):0;console.log("Drawing: "+b);var I=new Image;$(I).css("width",h.yA);$(I).css("height",h.vA);var D=
b;0!==D.indexOf("file://")&&(D="file://"+D);I.onload=function(){var b=z.getContext("2d");b.setTransform(1,0,0,1,0,0);b.drawImage(I,H,G);e||$(z).addClass("progressive");h.vt(z);e&&h.ut(z);I=null;a.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+D),a.jsworker.worker.deleteGeneratedImageRenderFile(D));l&&(M?k.Rm=!1:(k.Rm=!0,"function"===typeof k.wt&&(k.wt(),k.wt=void 0,k.Rm=!1)))};I.src=D},py:function(b,c,d,h,e,g,f){function k(){var a=Math.min(H,G),b=d-G,g=a*c*4;I.data.set(M.subarray(D,
D+g));D+=g;z.putImageData(I,B,E+b,0,0,c,a);G-=a;0===G?(e||$(m).addClass("progressive"),h.vt(m),e&&h.ut(m),e&&delete l.mk[h.id]):(a=setTimeout(k,0),e&&(l.mk[h.id]=a))}var l=this,m=a.o.Ja.nn(h.page,h.$m,h.jq,f,g,h.Gk).canvas,B=f?Math.round(f.x):0,E=f?Math.round(f.y):0,M=new Uint8ClampedArray(b),z=m.getContext("2d"),H=Math.ceil(1E6/c),G=d,I=z.createImageData(c,Math.min(H,d)),D=0;k()},kg:function(b,c,d,h,g,f){var k=this,m=e(b,c,d,h,g,f);b=m.pageIndex;c=m.getZoom();d=m.getPageRotation();h=m.renderRect;
var y=d===a.o.sa.bd||d===a.o.sa.Ld,A=a.utils.getCanvasMultiplier();"undefined"===typeof h?(g=(y?k.N[b].height:k.N[b].width)*c,y=(y?k.N[b].width:k.N[b].height)*c):(g=(y?h.y2-h.y1:h.x2-h.x1)*c,y=(y?h.x2-h.x1:h.y2-h.y1)*c);g=Math.round(g);var y=Math.round(y),B=Math.floor(g*A),E=Math.floor(y*A);if(!B||!E)return d=k.Ma.xm(),this.mk[d]=setTimeout(function(){var a=document.createElement("canvas");a.width=B?B:1;a.height=E?E:1;m.drawComplete(a)},0),d;var M;a.utils.isJSWorker&&a.jsworker.worker.useFilePathForImageRenders()?
(M=a.jsworker.worker.generateImageRenderFilePath(b),M=a.jsworker.worker.getPlatformFormatFilePath(M),console.log("imageRenderFilePath for page "+b+' is: "'+M+'".'),A=k.Ma.OF(k.Ra,b,B,E,d,k.vu,k.Lu,h,M)):A=k.Ma.NF(k.Ra,b,B,E,d,k.vu,k.Lu,h);var z=A.ny,H={vt:m.drawProgressive,ut:m.drawComplete,yA:g,vA:y,$m:c,jq:d,page:k.N[b],Gk:h,id:z},G=1,I;m.useProgress&&(I=setInterval(function(){var b;a.utils.isJSWorker&&a.jsworker.worker.useFilePathForImageRenders?(b=a.jsworker.worker.generateNextImageRenderFilePath(M,
G++),b=a.jsworker.worker.getPlatformFormatFilePath(b),b=k.Ma.lz(z,b)):b=k.Ma.lz(z);b.then(function(a){"undefined"!==typeof a.filePath?k.Uz(a.filePath,a.pageWidth,a.pageHeight,H,!1,f):k.py(a.pageBuf,a.pageWidth,a.pageHeight,H,!1,f)},function(b){"type"in b&&"Queued"===b.type||(a.utils.log("Get canvas progressivegeneration failed: "+b.message+" CID "+z),clearInterval(I))})},l));A.promise.then(function(a){clearInterval(I);"undefined"!==typeof a.filePath?k.Uz(a.filePath,a.pageWidth,a.pageHeight,H,!0,f,
m.getPageTransform()):k.py(a.pageBuf,a.pageWidth,a.pageHeight,H,!0,f,m.getPageTransform())},function(b){"Cancelled"!==b.type&&a.utils.log("Canvas generation failed: "+b.message);clearInterval(I);m.onError(b)});return z},mi:function(){},Qe:function(){this.Ra&&(this.Ma.OE(this.Ra),this.Ma.eF(this.Ra),this.Ra=null)},Mm:function(a,b,c){return this.Ma.Mm(this.Ra,a,b||612,c||792)},qk:function(a,b,c){a instanceof k.Document&&(a=a.v.Ra);return this.Ma.qk(this.Ra,a,b,c,!0)},Um:function(a,b){return this.Ma.Um(this.Ra,
a,b)},Ek:function(a){a.sort(f);return this.Ma.Ek(this.Ra,a)},ak:function(){return this.Ma.ak(this.Ra,this.vu)},Jk:function(a,b){a.sort(f);return this.Ma.Jk(this.Ra,a,b)},bk:function(a,b){return this.Ma.bk(this.Ra,a,b).then(function(a){return a.fileData})},Yj:function(a,b,c,d,h){a.sort(f);return this.Ma.Yj(this.Ra,a,b,c,d,h)},zp:function(a){return this.N[a].id},Am:function(){return Object.keys(this.zA)},gk:function(){var b=this;if("undefined"===typeof a.PDFNet)throw Error("getPDFDoc called without PDFNet being loaded. Are you running a lean version of PDFNetJS?");
return b.Ma.gk(b.Ra).then(function(c){c=new a.PDFNet.PDFDoc(c);c.documentCompletePromise=b.cm;return c})},fk:function(){return this.Ma.fk(this.Ra).then(function(a){return a})},Hq:function(a){this.vu=a},Kq:function(a){this.Lu=a},wk:function(b,c,d){var h=this.N[b];d="page"===d?2E3:150;var e=a.utils.getCanvasMultiplier(),g=h.width>h.height?d/h.width:d/h.height,g=g/e;return this.kg({pageIndex:b,getZoom:function(){return g},getPageRotation:function(){return a.o.sa.Ae},drawComplete:function(a){c(a)},drawProgressive:function(){},
useProgress:!1})},Uj:c,Yf:c,nk:function(){return!1},Xi:function(a){this.Gm&&this.Ma.Xi(this.Ra,a)}});_(k.An.prototype).extend(Backbone.Events);a.cw=d})(window);
(function(a){a.Annotations=a.Annotations||{};var f=a.Annotations;f.Color=function(a,e,b,c){this.A=this.B=this.G=this.R=0;a instanceof f.Color?(this.R=a.R,this.G=a.G,this.B=a.B,this.A=a.A):_.isArray(a)?1===a.length?(this.B=this.G=this.R=a=Math.round(255*(a[0]||0)),this.A=1):3===a.length?(this.R=Math.round(255*(a[0]||0)),this.G=Math.round(255*(a[1]||0)),this.B=Math.round(255*(a[2]||0)),this.A=1):4===a.length&&(e=a[1]||0,b=a[2]||0,c=a[3]||0,this.R=Math.round(255*(1-(a[0]||0))*(1-c)),this.G=Math.round(255*
(1-e)*(1-c)),this.B=Math.round(255*(1-b)*(1-c)),this.A=1):_.isString(a)&&"#"===a[0]?(a=f.fa.pi(a),this.R=a.R,this.G=a.G,this.B=a.B,this.A=1):(_.isUndefined(a)||(this.R=Number(a)),_.isUndefined(e)||(this.G=Number(e)),_.isUndefined(b)||(this.B=Number(b)),_.isUndefined(c)?_.isUndefined(a)&&_.isUndefined(e)&&_.isUndefined(b)||(this.A=1):this.A=Number(c))};f.Color.prototype={toString:function(){var a=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+a+")":"rgba("+a+","+this.A+")"},
toHexString:function(){return f.fa.Yi(this)},OJ:function(){return f.fa.toFixed(this.R/255,3)+" "+f.fa.toFixed(this.G/255,3)+" "+f.fa.toFixed(this.B/255,3)+" rg"},Fi:function(){return 0===this.R&&0===this.G&&0===this.B&&1===this.A},fA:function(){return 0===this.A}};f.Point=function(a,e){this.x=a;this.y=e;"string"===typeof a&&(this.x=parseFloat(a));"string"===typeof e&&(this.y=parseFloat(e))};f.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};f.hb=function(a,e,b,c,f,
h,g,l){this.x1=a;this.y1=e;this.x2=b;this.y2=c;this.x3=f;this.y3=h;this.x4=g;this.y4=l};f.hb.prototype={normalize:function(){}};f.Rect=function(a,e,b,c){a instanceof f.Rect?(this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2):_.isArray(a)?(this.x1=a[0],this.y1=a[1],this.x2=a[2],this.y2=a[3]):_.isObject(a)?(this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2):(this.x1=a,this.y1=e,this.x2=b,this.y2=c)};f.Rect.prototype={xa:function(){return this.x2-this.x1},ua:function(){return this.y2-this.y1},translate:function(a,
e){this.x1+=a;this.y1+=e;this.x2+=a;this.y2+=e},Ct:function(a){var e=0,b=0;if(this.xa()<a.xa()){var c=a.x2-this.x2;0>c&&(e=c);c=a.x1-this.x1;0<c&&(e=c)}this.ua()<a.ua()&&(c=a.y2-this.y2,0>c&&(b=c),a=a.y1-this.y1,0<a&&(b=a));this.translate(e,b)},normalize:function(){var a;0>this.xa()&&(a=this.x1,this.x1=this.x2,this.x2=a);0>this.ua()&&(a=this.y1,this.y1=this.y2,this.y2=a)},Xy:function(){var a;this.x1>this.x2&&(a=this.x1,this.x1=this.x2,this.x2=a);this.y2>this.y1&&(a=this.y1,this.y1=this.y2,this.y2=
a)}};f.Math={};f.Math.yH=function(a,e){return a instanceof f.Point&&e instanceof f.Point?new f.Point((a.x+e.x)/2,(a.y+e.y)/2):null};f.Math.distance=function(a,e){if(!(a instanceof f.Point&&e instanceof f.Point))return null;var b=a.x-e.x,c=a.y-e.y;return Math.sqrt(b*b+c*c)};f.ControlHandle=function(a,e,b,c){this.x=a;this.y=e;this.width=b;this.height=c};f.ControlHandle.handleWidth=12;f.ControlHandle.handleHeight=12;f.ControlHandle.selectionAccuracyPadding=1;f.ControlHandle.prototype={testSelection:function(a,
e,b,c,k){a=this.getDimensions(a,e,b);e=0;1<f.ControlHandle.selectionAccuracyPadding&&(e=f.ControlHandle.selectionAccuracyPadding);return c>=a.x1-e&&c<=a.x1+a.xa()+e&&k>=a.y1-e&&k<=a.y1+a.ua()+e},draw:function(a,e,b,c){"undefined"===typeof c&&(c=1);this.Cc(a,c);var f=this.getDimensions(e,b,c);e=f.x1;b=f.y1;c=f.xa();f=f.ua();a.beginPath();a.arc(e+c/2,b+f/2,c/2,0,2*Math.PI);a.stroke();a.fill()},Cc:function(a,e){a.strokeStyle=f.SelectionModel.defaultSelectionOutlineColor.toString();a.fillStyle="rgb(255, 255, 255)";
a.lineWidth=f.SelectionModel.selectionOutlineThickness/e},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");return new f.Rect(0,0,0,0)}};f.Td=function(a,e,b,c){this.width=a;this.height=e;this.Km=b;this.tn=c};f.Td.prototype={getDimensions:function(a,e,b){a=e.x1;var c=e.y1,k=this.width/b;b=this.height/b;this.Km===f.va.Bd.left?a+=-(k/2):this.Km===f.va.Bd.Ss?a+=(e.xa()-k)/2:this.Km===f.va.Bd.right?
a+=e.xa()-k/2:console.warn("Invalid HorizonalAlignment");this.tn===f.va.Ed.top?c+=-(b/2):this.tn===f.va.Ed.zu?c+=(e.ua()-b)/2:this.tn===f.va.Ed.bottom?c+=e.ua()-b/2:console.warn("Invalid VerticalAlignment");return new f.Rect(a,c,a+k,c+b)},move:function(a,e,b,c,k){e=!1;b=a.ge();this.tn===f.va.Ed.bottom&&(e=b.y2!==k.y,b.y2=k.y);this.tn===f.va.Ed.top&&(e=b.y1!==k.y,b.y1=k.y);this.Km===f.va.Bd.right&&(e=b.x2!==k.x,b.x2=k.x);this.Km===f.va.Bd.left&&(e=b.x1!==k.x,b.x1=k.x);e&&a.resize(b);return e}};f.Td.prototype=
$.extend(!0,new f.ControlHandle,f.Td.prototype);f.vj=function(a,e,b,c,f){this.x=a;this.y=e;this.width=b;this.height=c;this.Gi=f};f.vj.prototype={getDimensions:function(a,e,b){a=this.width/b;b=this.height/b;return this.Gi?new f.Rect(this.x-.5*a,this.y,this.x+.5*a,this.y+b):new f.Rect(this.x-.5*a,this.y-b,this.x+.5*a,this.y)},move:function(a,e,b,c,f,h){b=a.Od();e=b[0];if("undefined"===typeof e)return!1;b=b[b.length-1];h=new window.Ca.rd(h);h.annotation=a;h.pageCoordinates[0]=f;c=Math.min(e.x1,e.x2,
e.x3,e.x4);a=Math.max(b.x1,b.x2,b.x3,b.x4);e=Math.min(e.y1,e.y2,e.y3,e.y4);b=Math.max(b.y1,b.y2,b.y3,b.y4);this.Gi?e={x:c+1,y:e,pageIndex:f.pageIndex}:(e=f,f={x:a-1,y:b,pageIndex:f.pageIndex});if(f.y<e.y)return!1;(e.x<f.x||e.y<f.y)&&h.select(e,f);return!0},draw:function(a,e,b,c){var k,h,g,l;this.Cc(a,c);k=e.Od();this.Gi?(l=k[k.length-1],k=l.x2,h=l.y2,g=l.x3,l=l.y3):(l=k[0],k=l.x1,h=l.y1,g=l.x4,l=l.y4);a.beginPath();a.moveTo(k,h);a.lineTo(g,l);a.stroke();f.ControlHandle.prototype.draw.call(this,a,
e,b,c)}};f.vj.prototype=$.extend(!0,new f.ControlHandle,f.vj.prototype);f.bf=function(a,e,b,c,f){this.x=a;this.y=e;this.width=b;this.height=c;this.Sb=f};f.bf.prototype={getDimensions:function(a,e,b){a=this.width/b;b=this.height/b;e=this.x-.5*a;var c=this.y-.5*b;return new f.Rect(e,c,e+a,c+b)},move:function(a,e,b){var c=a.fg(this.Sb);a.oe(this.Sb,c.x+e,c.y+b);return!0}};f.bf.prototype=$.extend(!0,new f.ControlHandle,f.bf.prototype);f.Nn=function(a,e,b,c,k){f.bf.apply(this,arguments)};f.Nn.prototype=
{move:function(a,e,b,c,k){f.bf.prototype.move.apply(this,arguments);if(0===this.Sb){var h=a.fg(0);a.oe(a.getPath().length-1,h.x,h.y)}return!0}};f.Nn.prototype=$.extend(!0,new f.bf,f.Nn.prototype);f.Bn=function(a,e,b,c,f){this.x=a;this.y=e;this.width=b;this.height=c;this.Sb=f};f.Bn.prototype={move:function(a,e,b){var c=a.fg(2),k=a.fg(3),h=a.fg(4);if(3===this.Sb){if(h.y<k.y+b||h.x<k.x+e)return}else if(4===this.Sb&&(h.y+b<k.y||h.x+e<k.x))return;e=f.bf.prototype.move.call(this,a,e,b);3===this.Sb&&(h.y<
k.y&&a.oe(3,k.x,h.y),h.x<k.x&&a.oe(3,h.x,k.y),a.oe(2,k.x,k.y+.5*(h.y-k.y)),e=!0);4===this.Sb&&(h.y<k.y&&a.oe(3,h.x,k.y),h.x<k.x&&a.oe(3,k.x,h.y),a.oe(2,c.x,k.y+.5*(h.y-k.y)),e=!0);var g=a.Kt()/2;b=a.fg(1);var l=f.Math.yH(k,h),k=[new f.Point(k.x+g,l.y),new f.Point(h.x-g,l.y),new f.Point(l.x,k.y+g),new f.Point(l.x,h.y-g)],h=[f.Math.distance(b,k[0]),f.Math.distance(b,k[1]),f.Math.distance(b,k[2]),f.Math.distance(b,k[3])],h=h.indexOf(Math.min.apply(Math,h));if(c.x!==k[h].x||c.y!==k[h].y)a.oe(2,k[h].x,
k[h].y),e=!0;return e}};f.Bn.prototype=$.extend(!0,new f.bf,f.Bn.prototype);f.nj=function(a,e,b,c,f){this.x=a;this.y=e;this.width=b;this.height=c;this.Gi=f};f.nj.prototype={getDimensions:function(a,e,b){a=this.width/b;b=this.height/b;e=this.x-.5*a;var c=this.y-.5*b;return new f.Rect(e,c,e+a,c+b)},move:function(a,e,b){this.Gi?(a.End.x+=e,a.End.y+=b):(a.Start.x+=e,a.Start.y+=b);a.adjustRect();return!0}};f.nj.prototype=$.extend(!0,new f.ControlHandle,f.nj.prototype);f.SelectionModel=function(a,e,b){this.ad=
[];this.Or=e;this.ds=b};f.SelectionModel.selectionOutlineThickness=2;f.SelectionModel.selectionAccuracyPadding=2;f.SelectionModel.defaultSelectionOutlineColor=new f.Color(0,0,255);f.SelectionModel.defaultNoPermissionSelectionOutlineColor=new f.Color(255,0,0);f.SelectionModel.selectionOutlineDashSize=4;f.SelectionModel.prototype={testSelection:function(a,e,b){return f.Xb.Tj(a,e,b)},Qq:function(a,e,b,c){for(var f=this.ad.length-1;0<=f;f--){var h=this.ad[f];if(h.testSelection(a,this.getDimensions(a),
e,b,c))return h}},QF:function(){return this.ad},getDimensions:function(a){return new f.Rect(a.X,a.Y,a.X+a.Width,a.Y+a.Height)},sc:function(){return this.Or},draw:function(a,e,b){a.save();this.drawSelectionOutline(a,e,b);a.restore();for(var c=0;c<this.ad.length;c++)this.ad[c]&&this.ad[c].draw(a,e,this.getDimensions(e),b)},drawSelectionOutline:function(a,e,b){a.save();e=this.getDimensions(e);"undefined"===typeof b&&(b=1);a.lineWidth=f.SelectionModel.selectionOutlineThickness/b;this.sc()?a.strokeStyle=
f.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=f.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(e.x1,e.y1);a.lineTo(e.x2,e.y1);a.lineTo(e.x2,e.y2);a.lineTo(e.x1,e.y2);a.closePath();a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=f.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(e.x1,
e.y1);a.lineTo(e.x2,e.y1);a.lineTo(e.x2,e.y2);a.lineTo(e.x1,e.y2);a.closePath();a.stroke();a.restore()},drawPopupTail:function(d,e,b,c,f){e=0;b=Math.abs(c.x1-c.x2);var h=Math.abs(c.y1-c.y2);f.x>=c.x1+.5*b&&f.y<c.y1+.5*h?e={x:c.x1+b,y:c.y1}:f.x<c.x1+.5*b&&f.y<c.y1+.5*h?e={x:c.x1,y:c.y1}:f.x<c.x1+.5*b&&f.y>=c.y1+.5*h?e={x:c.x1,y:c.y1+h}:f.x>=c.x1+.5*b&&f.y>=c.y1+.5*h&&(e={x:c.x1+b,y:c.y1+h});c=a.Ga.Math.lp(e,f);b=a.Ga.Math.Wt(e,f);f={x:e.x+b,y:e.y-5};b={x:e.x+b,y:e.y+5};f=a.Ga.Math.Ah(f,c,e);b=a.Ga.Math.Ah(b,
c,e);d.save();d.strokeStyle="rgba(0,0,0,0.8)";d.beginPath();d.moveTo(e.x,e.y);d.lineTo(f.x,f.y);d.lineTo(b.x,b.y);d.closePath();d.shadowColor="#bbb";d.shadowBlur=10;d.shadowOffsetX=5;d.shadowOffsetY=5;d.stroke();d.fillStyle="rgba(255, 255, 0, 0.7)";d.beginPath();d.moveTo(e.x,e.y);d.lineTo(f.x,f.y);d.lineTo(b.x,b.y);d.closePath();d.fill();d.restore()}};f.Kn=function(){f.SelectionModel.call(this,0,!1,!1)};f.Kn.prototype={testSelection:function(){return!1},getDimensions:function(){return new f.Rect(0,
0,0,0)},draw:function(){},drawSelectionOutline:function(){},drawPopupTail:function(){}};f.Kn.prototype=$.extend(!0,new f.SelectionModel,f.Kn.prototype);f.va=function(a,e,b){f.SelectionModel.call(this,0,e,b);a=f.ControlHandle.handleWidth;b=f.ControlHandle.handleHeight;this.ad=(this.Or=e)?[new f.Td(a,b,f.va.Bd.left,f.va.Ed.top),new f.Td(a,b,f.va.Bd.left,f.va.Ed.zu),new f.Td(a,b,f.va.Bd.left,f.va.Ed.bottom),new f.Td(a,b,f.va.Bd.Ss,f.va.Ed.top),new f.Td(a,b,f.va.Bd.Ss,f.va.Ed.bottom),new f.Td(a,b,f.va.Bd.right,
f.va.Ed.top),new f.Td(a,b,f.va.Bd.right,f.va.Ed.zu),new f.Td(a,b,f.va.Bd.right,f.va.Ed.bottom)]:[]};f.va.Bd={left:1,Ss:2,right:4};f.va.Ed={top:16,zu:32,bottom:64};f.va.prototype={testSelection:function(a,e,b){return this.ds?f.Xb.Tj(a,e,b):f.Xb.Zl(a,e,b)},getDimensions:function(a){return new f.Rect(a.X,a.Y,a.X+a.Width,a.Y+a.Height)}};f.va.prototype=$.extend(!0,new f.SelectionModel,f.va.prototype);f.qj=function(a,e,b){f.SelectionModel.call(this,0,e,b);if(e)for(a=a.getPath(),e=0;e<a.length;e++)b=a[e],
this.ad.push(new f.bf(b.x,b.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,e))};f.qj.prototype={testSelection:function(a,e,b){return this.ds?f.Xb.Tj(a,e,b):f.Xb.Zl(a,e,b)},draw:function(a,e,b){f.SelectionModel.prototype.draw.call(this,a,e,b)}};f.qj.prototype=$.extend(!0,new f.SelectionModel,f.qj.prototype);f.ur=function(a,e,b){f.SelectionModel.call(this,0,e,b);if(e)for(a=a.getPath(),e=0;e<a.length-1;e++)b=a[e],this.ad.push(new f.Nn(b.x,b.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,
e))};f.ur.prototype=$.extend(!0,new f.SelectionModel,f.ur.prototype);f.nl=function(a,e,b){f.SelectionModel.call(this,0,e,b);this.ad=e?[new f.nj(a.Start.x,a.Start.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,0),new f.nj(a.End.x,a.End.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,1)]:[]};f.nl.prototype={testSelection:function(a,e,b){return f.Xb.Zl(a,e,b)},drawSelectionOutline:function(a,e,b){"undefined"===typeof b&&(b=1);a.lineWidth=f.SelectionModel.selectionOutlineThickness/
b;var c=Math.atan((e.End.y-e.Start.y)/(e.End.x-e.Start.x)),k=Math.max(.5*e.StrokeThickness,1)*Math.sin(c),c=Math.max(.5*e.StrokeThickness,1)*Math.cos(c);this.sc()?a.strokeStyle=f.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=f.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(e.Start.x+k,e.Start.y-c);a.lineTo(e.End.x+k,e.End.y-c);a.stroke();a.beginPath();a.moveTo(e.Start.x-k,e.Start.y+c);a.lineTo(e.End.x-k,e.End.y+c);a.stroke();"undefined"!==
typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=f.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(e.Start.x+k,e.Start.y-c);a.lineTo(e.End.x+k,e.End.y-c);a.stroke();a.beginPath();a.moveTo(e.Start.x-k,e.Start.y+c);a.lineTo(e.End.x-k,e.End.y+c);a.stroke()},drawPopupTail:function(d,e,b,c,k){e=f.Math.distance(e.Start,k)>f.Math.distance(e.End,k)?e.End:e.Start;e={x:e.x,y:e.y};b=
a.Ga.Math.lp(e,k);c=a.Ga.Math.Wt(e,k);k={x:e.x+c,y:e.y-5};c={x:e.x+c,y:e.y+5};k=a.Ga.Math.Ah(k,b,e);c=a.Ga.Math.Ah(c,b,e);d.strokeStyle="rgba(0,0,0,0.8)";d.beginPath();d.moveTo(e.x,e.y);d.lineTo(k.x,k.y);d.lineTo(c.x,c.y);d.closePath();d.stroke();d.fillStyle="rgba(255, 255, 0, 0.7)";d.beginPath();d.moveTo(e.x,e.y);d.lineTo(k.x,k.y);d.lineTo(c.x,c.y);d.closePath();d.fill()}};f.nl.prototype=$.extend(!0,new f.va,f.nl.prototype);f.jl=function(a,e,b){f.va.apply(this,arguments)};f.jl.prototype={getDimensions:function(a){return f.SelectionModel.prototype.getDimensions.apply(this,
arguments)},testSelection:function(a,e,b){return f.Xb.Tj(a,e,b)}};f.jl.prototype=$.extend(!0,new f.va,f.jl.prototype);f.Cn=function(a,e,b){f.SelectionModel.call(this,0,e,b);if(e)for(a=a.getPath(),e=0;e<a.length;e++)2!==e&&(b=a[e],this.ad.push(new f.Bn(b.x,b.y,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,e)))};f.Cn.prototype={testSelection:function(a,e,b){if(this.ds)return f.Xb.Tj(a,e,b);var c=a.getPath(),k=c[3],c=c[4];return e<k.x||e>c.x||b<k.y||b>c.y?f.Xb.Zl(a,e,b):!0}};f.Cn.prototype=
$.extend(!0,new f.SelectionModel,f.Cn.prototype);f.Qh=function(a,e,b,c,k){f.SelectionModel.call(this,0,e,b);this.Or=e;if(a=a.Od())_.isUndefined(c)&&(c=!0),_.isUndefined(k)&&(k=!0),this.ad=[],e&&(e=a[0],a=a[a.length-1],e&&(this.ad=[],c&&this.ad.push(new f.vj(e.x1,e.y3,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,!1)),k&&this.ad.push(new f.vj(a.x3,a.y1,f.ControlHandle.handleWidth,f.ControlHandle.handleHeight,!0))))};f.Qh.prototype={testSelection:function(a,e,b){return f.Xb.EB(a,e,b)},getDimensions:function(a){var e=
a.X-2,b=a.Y-2;return new f.Rect(e,b,e+(a.Width+4),b+(a.Height+4))}};f.Qh.prototype=$.extend(!0,new f.SelectionModel,f.Qh.prototype);f.Qn=function(a,e,b){f.SelectionModel.call(this,0,e,b)};f.Qn.prototype={testSelection:function(a,e,b,c){c=a.NoZoom?c:1;a=new f.Rect(a.jh(),a.mh(),a.jh()+a.xa()/c,a.mh()+a.ua()/c);return e>=a.x1&&e<=a.x2&&b>=a.y1&&b<=a.y2}};f.Qn.prototype=$.extend(!0,new f.SelectionModel,f.Qn.prototype);f.Xb={Tj:function(a,e,b){a=a.ge();return e>=a.x1&&e<=a.x2&&b>=a.y1&&b<=a.y2},Zl:function(a,
e,b){var c;f.Xb.Tz?c=f.Xb.Tz:(c=document.createElement("canvas"),f.Xb.Tz=c);var k=c.getContext("2d");c.width=100;c.height=100;k.setTransform(1,0,0,1,-(e-a.Ci()),-(b-a.Di()));e=a.StrokeThickness;a.Vh=e+f.Xb.canvasVisibilityPadding;k.translate(-1*a.Ci(),-1*a.Di());a.draw(k);b=1<k.getImageData(0,0,1,1).data[3];k.setTransform(1,0,0,1,0,0);k.clearRect(0,0,2,2);a.Vh=e;return b},EB:function(a,e,b){a=a.Quads;for(var c=0;c<a.length;c++){var f=a[c],h=Math.min(f.y1,f.y2,f.y3,f.y4),g=Math.max(f.y1,f.y2,f.y3,
f.y4),l=Math.max(f.x1,f.x2,f.x3,f.x4);if(e>=Math.min(f.x1,f.x2,f.x3,f.x4)&&e<=l&&b>=h&&b<=g)return!0}return!1}};f.Xb.canvasVisibilityPadding=5})(window);
(function(a){var f=XODText;a.Ca=function(){};var d=a.Ca;d.RK={};d.Tool=function(a){this.wb=this.Mc=null;this.u=this.docViewer=a;this.pageCoordinates=[]};d.Tool.prototype={kh:function(a){var c={},d=this.u.Rb();a.originalEvent&&a.originalEvent.touches?(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0],c.x=d.scrollLeft()+a.clientX,c.y=d.scrollTop()+a.clientY):(c.x=d.scrollLeft()+a.pageX,c.y=d.scrollTop()+a.pageY);return c},mouseLeftDown:function(a){var c=
this.kh(a);this.Mc={x:c.x,y:c.y};this.wb={x:c.x,y:c.y};this.pageCoordinates[0]=this.fe(this.Mc);this.pageCoordinates[1]=this.pageCoordinates[0];a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[0]}},mouseLeftUp:function(a){var c=this.kh(a);this.wb=c;this.pageCoordinates[1]=this.fe(this.wb);a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[1]}},mouseMove:function(a){var c=this.kh(a);this.wb=c;if(null!==this.Mc){var d=this.fe(this.Mc);if(null===d)return;
var h=d.pageIndex,d=this.u.Qb(h),e=this.u.Pb(h),h=this.fe(this.wb,h);0>h.x&&(h.x=0);0>h.y&&(h.y=0);h.x>d&&(h.x=d);h.y>e&&(h.y=e);this.pageCoordinates[1]=h}else this.pageCoordinates[1]=this.fe(this.wb);a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[1]}},mouseDoubleClick:function(a){var c=this.kh(a);this.Mc={x:c.x,y:c.y};this.wb={x:c.x,y:c.y};var c=this.u.pa,d=this.fe(this.wb);d&&(this.Oj=d.x,this.Pj=d.y,!(a=c.Mt(a))||a.Le()||a.Hidden||(d=c.Sq(a),c.trigger("annotationDoubleClicked",
a),d&&c.Et(a)))},mouseLeave:function(){},tap:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){this.u.el.css("cursor","default");this.u.pa.de()},wi:function(){return this.u},fe:function(a,c){var d=this.docViewer.rm().Bp(a,a);if("undefined"===typeof c){if(d=null===d.first?d.last:d.first,null===d)return null}else d=c;d=this.docViewer.rm().dj(a,d);return{pageIndex:d.pageIndex,x:d.x,y:d.y}}};var e=d.Tool;d.AnnotationSelectTool=function(a){e.call(this,
a);this.Pj=this.Oj=0;this.Sg={x:0,y:0};this.Zg=this.Nb=null;this.state=d.AnnotationSelectTool.pb.NONE;this.Kd=NaN;this.mousedown=!1;this.cursor="default";this.overrideSelection=!1};d.AnnotationSelectTool.pb={NONE:0,ir:1,fw:2,In:3,hr:4};d.AnnotationSelectTool.PAGE_PADDING=new Annotations.Rect(2,2,2,2);d.AnnotationSelectTool.prototype=$.extend(new e,{mouseLeftDown:function(a){e.prototype.mouseLeftDown.call(this,a);if(this.overrideSelection)this.state=d.AnnotationSelectTool.pb.NONE;else{this.mousedown=
!0;this.state=d.AnnotationSelectTool.pb.NONE;var c=this.u.pa,f=this.fe(this.wb);if(f){this.Kd=f.pageIndex;this.Oj=f.x;this.Pj=f.y;this.Sg.x=this.Oj;this.Sg.y=this.Pj;for(var h=c.Ee(),g=0;g<h.length;g++){var l=h[g];if("undefined"!==typeof l.selectionModel){var m=(new l.selectionModel(l,c.sc(l))).Qq(l,this.u.mb(l.Va()),f.x,f.y);if(m){this.Nb=l;this.Zg=m;!this.Nb.NoResize&&c.sc(this.Nb)?this.state=d.AnnotationSelectTool.pb.hr:(this.state=d.AnnotationSelectTool.pb.NONE,c.de());return}}else if(console.warn("no selection model for annotation"),
this.Zg=c.nz(this.Kd,f)){this.Nb=this.Zg.kb;!this.Nb.NoResize&&c.sc(this.Nb)?this.state=d.AnnotationSelectTool.pb.fw:(this.state=d.AnnotationSelectTool.pb.NONE,c.de());return}}if(0<c.Ee().length&&(f=c.hz(a),0<f.length)){this.Nb=null;for(h=0;h<f.length;++h)if(c.rk(f[h])){this.Nb=f[h];break}this.Nb||(this.Nb=f[0]);f=c.rk(this.Nb);!this.Nb.NoMove&&c.sc(this.Nb)&&f?this.state=d.AnnotationSelectTool.pb.ir:a.ctrlKey?this.state=d.AnnotationSelectTool.pb.In:(this.state=d.AnnotationSelectTool.pb.NONE,c.de());
return}}c.de()}},mouseMove:function(a){e.prototype.mouseMove.call(this,a);!this.isSelecting()&&this instanceof d.sr||a.preventDefault();if(!this.overrideSelection&&this.state!==d.AnnotationSelectTool.pb.NONE){a=this.u.pa;var c=this.pageCoordinates[1];if(c&&this.Kd===c.pageIndex){var f=c.x-this.Sg.x,h=c.y-this.Sg.y;if(this.state===d.AnnotationSelectTool.pb.ir&&this.Nb){"move"!==this.u.el.css("cursor")&&this.u.el.css("cursor","move");var g=a.Ee(),l,m,p,n,q,u,r,w=!1;for(l=0;l<g.length;l++)p=g[l],a.sc(p)&&
!p.NoMove&&(m=p.ge(),w?(m.x1<n&&(n=m.x1),m.y1<q&&(q=m.y1),m.x2>u&&(u=m.x2),m.y2>r&&(r=m.y2)):(n=m.x1,q=m.y1,u=m.x2,r=m.y2,w=!0));m=this.u.Qb(this.Kd);p=this.u.Pb(this.Kd);l=new Annotations.Rect;this.u.mb(this.Nb.Va());l.x1=1*d.AnnotationSelectTool.PAGE_PADDING.x1;l.y1=1*d.AnnotationSelectTool.PAGE_PADDING.y1;l.x2=m-1*d.AnnotationSelectTool.PAGE_PADDING.x2;l.y2=p-1*d.AnnotationSelectTool.PAGE_PADDING.y2;n=Math.max(0+d.AnnotationSelectTool.PAGE_PADDING.x1,n);q=Math.max(0+d.AnnotationSelectTool.PAGE_PADDING.y1,
q);u=Math.min(u,m-d.AnnotationSelectTool.PAGE_PADDING.x2);r=Math.min(r,p-d.AnnotationSelectTool.PAGE_PADDING.y2);if(w){n=n+f>=l.x1?f:l.x1-n;q=q+h>=l.y1?h:l.y1-q;u=u+f<=l.x2?f:l.x2-u;r=r+h<=l.y2?h:l.y2-r;f=0<=f?Math.min(n,u):Math.max(n,u);h=0<=h?Math.min(q,r):Math.max(q,r);this.Sg.x=c.x;this.Sg.y=c.y;c={};for(l=0;l<g.length;l++)if(p=g[l],a.sc(p)&&!p.NoMove&&(m=p.ge(),m.x1+=f,m.y1+=h,m.x2+=f,m.y2+=h,0!==f||0!==h))p.resize(m),p.gy=!0,c[p.Jb()]=!0;for(var v in c)this.u.pa.bc(v)}}else this.state===d.AnnotationSelectTool.pb.hr&&
this.Zg&&this.Nb&&(v=this.Zg.move(this.Nb,f,h,this.fe(new Annotations.Point(this.Mc.x,this.Mc.y)),c,this.u),this.Sg.x=c.x,this.Sg.y=c.y,v&&this.u.pa.Tb(this.Nb))}}},mouseLeftUp:function(){if(!this.overrideSelection){this.mousedown=!1;var a=this.u.pa,c=a.Ee();if(this.state===d.AnnotationSelectTool.pb.ir)for(var e=0;e<c.length;e++){var h=c[e];h.gy&&(h.gy=void 0,a.trigger("annotationChanged",[[h],"modify"]))}else this.state===d.AnnotationSelectTool.pb.fw?(e=this.Zg.kb,this.Zg&&a.trigger("annotationChanged",
[[e],"modify"])):this.state===d.AnnotationSelectTool.pb.hr&&this.Nb&&a.trigger("annotationChanged",[[this.Nb],"modify"]);0<c.length?this.u.el.css("cursor","default"):this.u.el.css("cursor",this.cursor);this.state=d.AnnotationSelectTool.pb.NONE}},Xu:function(){this.u.pa.oi(this.annotation);this.annotation=null},keyDown:function(b){27===b.which&&void 0!==this.annotation&&null!==this.annotation&&this.Xu();46!==b.which&&8!==b.which||a.utils.isEditableElement($(b.target))||(b=this.u.cd().Ee(),this.u.cd().mt(b))},
tap:function(a){if(!this.overrideSelection){var c=this.u.cd(),d=c.Mt(a);if(d){var h=c.rk(d);a.originalEvent.ctrlKey?h?c.am(d):c.Mk(d):h||(c.de(),c.Mk(d));a.preventDefault()}}},isSelecting:function(){return this.state!==d.AnnotationSelectTool.pb.NONE}});d.sr=function(a){d.AnnotationSelectTool.call(this,a);this.us={x:0,y:0};this.ko=!1;this.cursor="url(Resources/hand.png), url(Resources/hand.cur), pointer"};d.sr.prototype=$.extend(new d.AnnotationSelectTool,{switchIn:function(){this.u.el.css("cursor",
this.cursor)},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(this.us=this.kh(a),this.ko=!0,this.u.el.css("cursor","url(Resources/dragginghand.png),url(Resources/dragginghand.cur), pointer"))},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(this.ko=!1)},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.ko){var c=this.u.Rb(),e=this.kh(a);
a=this.us.x-e.x;e=this.us.y-e.y;this.u.scrollTo(c.scrollLeft()+a,c.scrollTop()+e)}},mouseLeave:function(){this.ko=!1;this.u.el.css("cursor",this.cursor)}});d.Db=function(a){e.call(this,a);this.ke=!1;this.cursor="text"};d.Db.SELECTION_MODE="structural";d.Db.prototype={switchIn:function(){this.qy(null,this.u.rf());this.u.on("rotationUpdated.textTool",_.bind(this.qy,this))},switchOut:function(a){e.prototype.switchOut.call(this,a);this.u.off("rotationUpdated.textTool")},qy:function(b,c){this.cursor=c===
a.o.sa.bd||c===a.o.sa.Ld?"vertical-text":"text";this.u.el.css("cursor",this.cursor)},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(a.altKey&&(d.Db.SELECTION_MODE="rectangular"),this.ke=!0,this.u.bt())},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);this.isSelecting()||!0!==this.ke||(1!==a.which&&0!==a.which?this.ke=!1:(a.data&&(this.pageCoordinates[1]=this.fe(a.data.mouseCoordinate)),this.select(this.pageCoordinates[0],
this.pageCoordinates[1])))},select:function(a,c){var d=this.u;if(a&&c){var h,e;c.pageIndex>=a.pageIndex?(h=a,e=c):(h=c,e=a);var l=h.pageIndex,m=e.pageIndex;if(null!==l&&null!==m){var p=new f.Ba,n=d.v.Lc(l);1<=m-l?p.Xa(h.x,h.y,n.width,n.height):p.Xa(h.x,h.y,e.x,e.y);this.u.Nk(l,p,_.bind(this.textSelected,this));for(h=l+1;h<m;h++)n=d.v.Lc(h),p=new f.Ba,p.Xa(0,0,n.width,n.height),d.Nk(h,p,_.bind(this.textSelected,this));l!==m&&(p=new f.Ba,p.Xa(0,0,e.x,e.y),d.Nk(m,p,_.bind(this.textSelected,this)))}}},
textSelected:function(){},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(a.altKey&&"rectangular"===d.Db.SELECTION_MODE&&(d.Db.SELECTION_MODE="structural"),this.ke=!1)}};d.Db.prototype=$.extend(new d.AnnotationSelectTool,d.Db.prototype);d.qw=function(a){d.Db.call(this,a);this.xe={};this.ex=this.Rx=this.Bj=null};d.qw.prototype=$.extend(new d.Db,{select:function(){this.u.sy();this.xe={};d.Db.prototype.select.apply(this,arguments)},mouseLeftDown:function(a){a.preventDefault();
this.Bj=null;var c=this.fe(this.kh(a));if(c){var e=c.pageIndex,h=this.OD(e),g=this;h.Od=function(){return g.xe[e]};var f=!1,m=!1,p=this.Zr();0<p.length&&(e===p[0]&&(f=!0),e===p[p.length-1]&&(m=!0));if(c=(new Annotations.Qh(h,!0,!1,f,m)).Qq(h,this.u.mb(e),c.x,c.y))this.Bj=c,this.Bj.Gi?this.Rx=this.QD():this.ex=this.PD()}this.Bj||(d.Db.prototype.mouseLeftDown.apply(this,arguments),this.xe={});this.ke=!0},mouseMove:function(a){a.preventDefault();if(this.ke&&this.Bj){var c=this.fe(this.kh(a));if(c){var e;
this.Bj.Gi?e=this.Rx:(e=c,c=this.ex);this.xe={};this.select(e,c)}}else d.Db.prototype.mouseMove.apply(this,arguments)},mouseLeftUp:function(){d.Db.prototype.mouseLeftUp.apply(this,arguments);0<Object.keys(this.xe).length?(this.u.el.css("cursor","default"),this.xs()):0===this.u.cd().Ee().length&&this.u.el.css("cursor",this.cursor)},textSelected:function(a,c,d){this.u.oq(a,c,d);0<c.length&&(this.u.el.css("cursor","default"),this.xe[a]=c.map(function(a){return a.uf()}));this.ke||this.xs()},mouseDoubleClick:function(){var a=
this.pageCoordinates[0];if(a){var c=this;this.u.GI(a.pageIndex,a,function(){c.textSelected.apply(c,arguments);c.xs()})}},xs:function(){var a=this.px();a.quad&&this.trigger("selectionComplete",[a,this.xe])},Zr:function(){return Object.keys(this.xe).map(function(a){return parseInt(a,10)}).sort(function(a,c){return a-c})},px:function(){var a=this.Zr()[0],c=this.xe[a];return{quad:c?c[0]:null,pageIndex:a}},QD:function(){var a=this.px(),c=a.quad;return{x:c.x1,y:(c.y1+c.y3)/2,pageIndex:a.pageIndex}},PD:function(){var a=
this.Zr(),a=a[a.length-1],c=this.xe[a],c=c[c.length-1];return{x:c.x3,y:(c.y1+c.y3)/2,pageIndex:a}},OD:function(a){var c=Infinity,d=Infinity,h=0,e=0;if(a=this.xe[a])for(var f=0;f<a.length;++f)var m=a[f],c=Math.min(c,m.x1,m.x2,m.x3,m.x4),d=Math.min(d,m.y1,m.y2,m.y3,m.y4),h=Math.max(h,m.x1,m.x2,m.x3,m.x4),e=Math.max(e,m.y1,m.y2,m.y3,m.y4);return{X:c,Y:d,Width:h-c,Height:e-d}}},a.utils.eventHandler);d.ob=function(a,c,e){d.AnnotationSelectTool.call(this,a);this.annotation=null;this.Ds=c;this.UE=e;this.cursor=
"crosshair";this.defaults={StrokeColor:new Annotations.Color(0,0,0),FillColor:new Annotations.Color(0,0,0,0),StrokeThickness:1,Opacity:1}};d.ob.prototype=$.extend(new d.AnnotationSelectTool,{switchIn:function(){this.u.el.css("cursor",this.cursor);this.u.kd({annotMode:!0})},switchOut:function(a){null!==this.annotation&&void 0!==this.annotation&&(this.u.pa.oi(this.annotation),this.annotation=null);d.AnnotationSelectTool.prototype.switchOut.call(this,a);this.u.kd({annotMode:!1})},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,
a);if(!this.isSelecting()&&!this.annotation&&(a=this.pageCoordinates[0])){var c=this.u.pa;this.annotation=new this.Ds(this.UE);this.annotation.X=a.x;this.annotation.Y=a.y;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=c.dk();null!==this.annotation.StrokeColor&&(a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness);null!==this.annotation.FillColor&&
(a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A));this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation])}},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||this.finish()},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){a=this.pageCoordinates[0];var c=
this.pageCoordinates[1];null!==c&&null!==a&&a.pageIndex===c.pageIndex&&(a=new Annotations.Rect(a.x,a.y,c.x,c.y),a.normalize(),this.annotation.sg(a),this.u.pa.Tb(this.annotation))}},finish:function(){if(this.annotation){var a=this.annotation.xa(),c=this.annotation.ua(),d=2*(this.annotation.getRectPadding()+1);a<=d&&c<=d?this.u.pa.oi(this.annotation):(this.u.pa.Ug(this.annotation),this.trigger("annotationAdded",[this.annotation]));this.annotation=null}}},a.utils.eventHandler);new d.ob;d.Lv=function(a){d.AnnotationSelectTool.call(this,
a);this.vh=this.Bu=null};d.Lv.prototype=$.extend(new d.AnnotationSelectTool,{switchIn:function(){this.u.el.css("cursor","default")},switchOut:function(a){e.prototype.switchOut.call(this,a)},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()){this.mousedown=!0;this.state=d.AnnotationSelectTool.pb.NONE;a=this.u.pa;var c=this.fe(this.wb);c&&(this.Kd=c.pageIndex,a.de(),this.state=(this.Bu=this.u.eh(this.Kd))?d.AnnotationSelectTool.pb.In:d.AnnotationSelectTool.pb.NONE)}},
mouseMove:function(b){d.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(this.state===d.AnnotationSelectTool.pb.In&&(b=this.pageCoordinates[1])&&this.Kd===b.pageIndex){var c=b.x,e=b.y;b=0>c-this.Oj?c:this.Oj;var h=0>e-this.Pj?e:this.Pj,c=Math.abs(c-this.Oj),e=Math.abs(e-this.Pj),g=$("#annoteditselectrect");0===g.length&&(g=$("<div id='annoteditselectrect' class='ui-selectable-helper'></div>").appendTo(this.u.el));var f=this.wb.x-this.Mc.x,m=this.wb.y-this.Mc.y,p=this.u.Rb(),n=this.Mc.x-p.scrollLeft(),
q=this.Mc.y-p.scrollTop(),u=this.wb.x-p.scrollLeft(),r=this.wb.y-p.scrollTop(),w=this.u.Qb(this.Kd),v=this.u.Pb(this.Kd),q=Math.min(r,q),n=Math.min(u,n),u=this.docViewer.rm().gd({x:0,y:0},this.Kd),x=this.docViewer.rm().gd({x:w,y:v},this.Kd),w=Math.min(u.x,x.x),v=Math.min(u.y,x.y),r=Math.max(u.x,x.x),u=Math.max(u.y,x.y),w=w-p.scrollLeft(),v=v-p.scrollTop();v>q&&(m+=v-q,q=v);w>n&&(f+=w-n,n=w);r-=p.scrollLeft();u-=p.scrollTop();g.css({width:a.Ga.Math.Wo(Math.abs(f),0,r-n),height:a.Ga.Math.Wo(Math.abs(m),
0,u-q),top:q,left:n,"z-index":"44",position:"absolute",border:"1px dotted black",display:"inline"});this.vh=a.Ga.nA(b,h,c,e)}},mouseLeftUp:function(a){this.state!==d.AnnotationSelectTool.pb.In?d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a):(this.mousedown=!1,this.vh&&(this.vh.x1===this.vh.x2&&this.vh.y1===this.vh.y2?d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a):(a=this.MD(this.Kd,this.vh),this.u.cd().Zu(a))),this.vh=this.Bu=null,this.state=d.AnnotationSelectTool.pb.NONE,$("#annoteditselectrect").css("display",
"none"))},MD:function(b,c){for(var d,h=[],e=this.u.cd().Hb.filter(function(a){return a.Va()===b&&!a.Le()&&!a.Hidden}),f=0;f<e.length;f++){d=e[f];var m=1;!0===d.NoZoom&&(m=this.u.mb(d.Va()));a.Ga.jI(c,a.Ga.nA(d.jh(),d.mh(),d.xa()/m,d.ua()/m))&&h.push(d)}return h}});d.ml=function(b){d.ob.call(this,b,a.Annotations.qd)};d.ml.prototype=$.extend(new d.ob,{mouseLeftDown:function(a){d.ob.prototype.mouseLeftDown.call(this,a);this.isSelecting()||this.annotation&&(this.annotation.Start={x:this.pageCoordinates[0].x,
y:this.pageCoordinates[0].y})},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){a=this.pageCoordinates[0];var c=this.pageCoordinates[1];null!==c&&null!==a&&a.pageIndex===c.pageIndex&&(this.annotation.End={x:c.x,y:c.y},this.annotation.adjustRect(),this.u.pa.Tb(this.annotation))}}});d.Mv=function(a){d.ml.call(this,a)};d.Mv.prototype=$.extend(new d.ml,{mouseLeftDown:function(a){d.ml.prototype.mouseLeftDown.call(this,
a);this.annotation&&this.annotation.tg("OpenArrow")}});d.gw=function(b){d.ob.call(this,b,a.Annotations.Hg)};d.gw.prototype=new d.ob;d.Qv=function(b){d.ob.call(this,b,a.Annotations.hj)};d.Qv.prototype=new d.ob;d.FreeHandCreateTool=function(b){d.ob.call(this,b,a.Annotations.FreeHandAnnotation);this.Sb=0;this.Yo=null;this.ke=!1;this.pointerType=null};d.FreeHandCreateTool.prototype=$.extend(new d.ob,{createDelay:1500,simplifyPen:!1,mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,
a);if(!this.isSelecting()&&this.pageCoordinates[0]){this.ke=!0;if(this.annotation)if(this.pageCoordinates[0].pageIndex===this.annotation.PageNumber-1){a=this.pageCoordinates[0].x;var c=this.pageCoordinates[0].y,e=!1,h=this.annotation.getPath(this.Sb);h&&0<h.length&&(h=h[h.length-1],h.x===a&&h.y===c&&(e=!0));e||this.annotation.Gb(a,c,this.Sb)}else this.complete(),d.FreeHandCreateTool.prototype.mouseLeftDown.call(this,a);else d.ob.prototype.mouseLeftDown.call(this,a);clearTimeout(this.Yo)}},complete:function(){this.annotation&&
0<this.annotation.Ai().length?(this.u.pa.Tb(this.annotation),this.annotation.finish(),d.ob.prototype.mouseLeftUp.call(this,null),this.Kx()):this.annotation=null},aq:function(){this.complete()},switchOut:function(a){this.complete();d.ob.prototype.switchOut.call(this,a)},mouseLeftUp:function(){d.AnnotationSelectTool.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()&&(this.ke=!1,this.annotation)){var a=this.u.pa,c=this.annotation.getPath(this.Sb);if(c){if(4>c.length)this.annotation.Ai().pop(),
this.annotation.adjustRect(),a.Tb(this.annotation);else{if("pen"!==this.pointerType||this.simplifyPen)this.annotation.CJ(.75),a.Tb(this.annotation);this.Sb++}this.Yo=setTimeout(_.bind(this.complete,this),this.createDelay)}0===this.annotation.Ai().length&&(this.complete(),clearTimeout(this.Yo))}},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);!this.isSelecting()&&!1!==this.ke&&this.annotation&&null!==this.pageCoordinates&&null!==this.pageCoordinates[1]&&this.pageCoordinates[0].pageIndex===
this.pageCoordinates[1].pageIndex&&(this.annotation.Gb(this.pageCoordinates[1].x,this.pageCoordinates[1].y,this.Sb),this.u.pa.Tb(this.annotation))},Kx:function(){this.Sb=0;this.ke=!1;clearTimeout(this.Yo)},Xu:function(){this.Kx();d.AnnotationSelectTool.prototype.Xu.call(this)},contextMenu:function(a){a.preventDefault()},IA:function(a){this.pointerType=a.originalEvent.pointerType}});d.SignatureCreateTool=function(a){d.Tool.call(this,a);this.Ig=100;this.location=null;this.em=!1;this.Tq=this.Sb=0;this.visible=
!1;this.jt=null;var c=this;$(document).on("mouseup",function(){c.em&&(c.visible=!0);c.ix()})};d.SignatureCreateTool.prototype={switchIn:function(){this.u.el.css("cursor","crosshair");this.initAnnot()},mx:function(a){var c,d=this.canvas[0].getBoundingClientRect();a.originalEvent&&a.originalEvent.touches&&(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0]);c=a.clientX;a=a.clientY;return{x:c-d.left,y:a-d.top}},Uw:function(){this.ctx.setTransform(1,0,0,
1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},RE:function(){this.Uw();this.drawBackground();this.freeHandAnnot.tF();this.Tq=this.Sb=0},ix:function(){this.em&&(this.Sb++,this.visible&&(this.Tq++,this.visible=!1));this.em=!1},drawBackground:function(){var a=window.utils.getCanvasMultiplier();this.ctx.scale(a,a);this.ctx.save();var c=2/3*this.ctx.canvas.height/a;this.ctx.strokeStyle="#000";this.ctx.lineCap="square";this.ctx.lineWidth=1;this.ctx.beginPath();this.ctx.moveTo(10,
c);this.ctx.lineTo(this.ctx.canvas.width/a-10,c);this.ctx.stroke();this.ctx.fillStyle="#000";var d=i18n.t("signatureDialog.signHere");this.ctx.textAlign="center";this.ctx.textBaseline="top";this.ctx.font="15px Verdana,Arial,sans-serif";this.ctx.fillText(d,this.ctx.canvas.width/a/2,c-20);this.ctx.restore()},ax:function(){this.Uw();this.drawBackground();this.freeHandAnnot.draw(this.ctx)},initAnnot:function(){var a=this.u.cd();this.freeHandAnnot=new Annotations.FreeHandAnnotation;this.freeHandAnnot.Author=
a.dk();this.freeHandAnnot.StrokeColor=new Annotations.Color(0,0,0);this.freeHandAnnot.StrokeThickness=3;this.freeHandAnnot.Subject=i18n.t("annotations.types.signature")},Vz:function(a){this.jt=a=$.extend(!0,[],a)},gE:function(a){this.Vz(a);this.trigger("saveDefault",[a])},HG:function(){return this.jt?!0:!1},KH:function(){this.drawBackground()},mE:function(){var a=this.jt;if(a){for(var a=$.extend(!0,[],a),c=0;c<a.length;++c)this.freeHandAnnot.setPath(a[c],c);this.Tq=a.length;this.ey()}},ey:function(b){if(this.$z())return!1;
b&&this.gE(this.freeHandAnnot.Ai());b=this.u.cd();var c=this.location.pageIndex+1;this.freeHandAnnot.PageNumber=c;this.freeHandAnnot.StrokeThickness=1;c=this.u.rf(c);c!==a.o.sa.Ae&&this.freeHandAnnot.rotate(c*-Math.PI/2,this.location);var d=this.freeHandAnnot.Width,h=this.freeHandAnnot.Height,e,f;d>h?(c=this.location.x-this.Ig,e=this.location.y-h/d*this.Ig,f=this.location.x+this.Ig,h=this.location.y+h/d*this.Ig):(c=this.location.x-d/h*this.Ig,e=this.location.y-this.Ig,f=this.location.x+d/h*this.Ig,
h=this.location.y+this.Ig);d=this.u.getDocument().Lc(this.location.pageIndex);c=new Annotations.Rect(c,e,f,h);c.Ct(new Annotations.Rect(0,0,d.width,d.height));this.freeHandAnnot.resize(c);b.Ug(this.freeHandAnnot);b.Tb(this.freeHandAnnot);this.trigger("annotationAdded",[this.freeHandAnnot]);this.initAnnot();return!0},$z:function(){return 0===this.Tq},nJ:function(a){var c=this;this.canvas=a;this.ctx=a[0].getContext("2d");this.canvas.on("mousedown touchstart",function(a){if(1===a.which||0===a.which)a=
c.mx(a),c.freeHandAnnot.Gb(a.x,a.y,c.Sb),c.ax(),c.em=!0});this.canvas.on("touchmove",function(a){a.preventDefault()});this.canvas.on("mousemove touchmove",_.throttle(function(a){c.em&&(a=c.mx(a),c.freeHandAnnot.Gb(a.x,a.y,c.Sb),c.ax(),c.visible=!0)},20));this.canvas.on("mouseup touchend",function(){c.ix()})},mouseLeftUp:function(a){a.preventDefault();d.Tool.prototype.mouseLeftUp.apply(this,arguments);var c=this.pageCoordinates[1];c&&(this.location=c,this.trigger("locationSelected",c))}};d.SignatureCreateTool.prototype=
$.extend(new d.Tool,d.SignatureCreateTool.prototype,a.utils.eventHandler);d.rd=function(a,c){d.Db.call(this,a);this.text=this.annotation=null;this.Ds=c;this.defaults={StrokeColor:new Annotations.Color(255,0,0)}};d.rd.AUTO_SET_TEXT=!0;d.rd.prototype=$.extend(new d.Db,{switchIn:function(a){d.Db.prototype.switchIn.call(this,a);this.u.kd({annotMode:!0})},switchOut:function(a){d.Db.prototype.switchOut.call(this,a);this.u.kd({annotMode:!1})},mouseLeftDown:function(a){d.Db.prototype.mouseLeftDown.call(this,
a);this.isSelecting()||this.annotation||!this.pageCoordinates||(a=this.u.pa,this.annotation=new this.Ds,this.annotation.Author=a.dk(),a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.trigger("annotationCreated",[this.annotation]))},textSelected:function(a,c,e){this.annotation&&this.pageCoordinates[0].pageIndex===a&&0<c.length&&(this.annotation.mv(c.map(function(a){return a.uf()})),this.annotation.PageNumber=a+1,this.text=e,d.rd.AUTO_SET_TEXT&&this.annotation.Zi(this.text),
this.u.pa.Tb(this.annotation))},mouseLeftUp:function(a){d.Db.prototype.mouseLeftUp.call(this,a);!this.isSelecting()&&this.annotation&&(a=this.u.pa,!this.text||1>this.text.length?a.oi(this.annotation):(a.Ug(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=this.text=null)}},a.utils.eventHandler);d.pw=function(b){d.rd.call(this,b,a.Annotations.Mf);this.defaults.StrokeColor=new Annotations.Color(255,255,0)};d.pw.prototype=new d.rd;d.uw=function(b){d.rd.call(this,b,a.Annotations.xj)};
d.uw.prototype=new d.rd;d.tw=function(b){d.rd.call(this,b,a.Annotations.Rh)};d.tw.prototype=$.extend(new d.rd,{mouseLeftUp:function(){d.rd.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()){var a=this.annotation,c=this.u.pa;a&&c.nh(a)&&(c.Et(a),c.Tb(a))}}});d.rw=function(b){d.rd.call(this,b,a.Annotations.wj)};d.rw.prototype=new d.rd;d.kw=function(a){e.call(this,a);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,255,0),Opacity:1}};d.kw.prototype=$.extend(new d.Tool,
{switchIn:function(){this.u.el.css("cursor","crosshair")},mouseLeftDown:function(a){if(!this.annotation){e.prototype.mouseLeftDown.call(this,a);var c=this.pageCoordinates[0];if(c){var d=this.u.pa;this.annotation=new Annotations.Lf;this.annotation.X=c.x;this.annotation.Y=c.y;this.annotation.PageNumber=c.pageIndex+1;this.annotation.Author=d.dk();c=this.defaults.StrokeColor;this.annotation.StrokeColor=new Annotations.Color(c.R,c.G,c.B,c.A);this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",
[this.annotation]);d.Ug(this.annotation);this.trigger("annotationAdded",[this.annotation]);d.Tb(this.annotation);var h=this.annotation;setTimeout(function(){d.Et(h)},500);this.annotation=null;a.preventDefault()}}}},a.utils.eventHandler);d.rl=function(b){d.ob.call(this,b,a.Annotations.sj);this.annotation=null;this.Si=!1};d.rl.prototype=$.extend(new d.ob,{mouseLeftDown:function(a){var c;d.ob.prototype.mouseLeftDown.call(this,a);!this.isSelecting()&&this.annotation&&((c=a.data.pageCoordinate,c&&c.pageIndex===
this.annotation.Va())?null!==c.x&&null!==c.y&&(0===this.annotation.aa.length?this.annotation.Gb(c.x,c.y):this.Si||(this.annotation.Ck(),this.annotation.Gb(c.x,c.y)),this.Si=!0):this.mouseDoubleClick(a))},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a)},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(this.annotation&&!this.isSelecting()&&a.data&&(a=a.data.pageCoordinate,null!==a&&null!==a.x&&null!==a.y&&a.pageIndex===this.annotation.Va())){this.Si||
this.annotation.Ck();var c=this.annotation.getPath();0===c.length?(this.annotation.Gb(a.x,a.y),this.Si=!1):0<c.length&&(c[c.length-1].x!==a.x||c[c.length-1].y!==a.y)&&(this.annotation.Gb(a.x,a.y),this.Si=!1);this.annotation.X=this.annotation.Oa.x;this.annotation.Y=this.annotation.Oa.y;this.u.pa.Tb(this.annotation)}},mouseDoubleClick:function(){this.annotation&&(this.annotation.finish(),this.finish())},aq:function(a){this.annotation&&this.mouseDoubleClick(a)},contextMenu:function(a){a.preventDefault()},
tap:function(){}});d.rj=function(b){d.ob.call(this,b,a.Annotations.Eg);this.annotation=null;this.Si=!1};d.rj.prototype={};d.rj.prototype=$.extend(new d.rl,d.rj.prototype);d.Mn=function(b){d.ob.call(this,b,a.Annotations.Eg);this.annotation=null;this.Si=!1};d.Mn.prototype={mouseLeftDown:function(){d.rj.prototype.mouseLeftDown.apply(this,arguments);this.annotation&&(this.annotation.Style="cloudy",this.annotation.Intent="PolygonCloud")}};d.Mn.prototype=$.extend(new d.rj,d.Mn.prototype);d.er=function(b){d.ob.call(this,
b,a.Annotations.La,Annotations.La.Cd.FreeTextCallout);this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};d.er.prototype={};$.extend(d.er.prototype,d.rl.prototype,{mouseLeftDown:function(a){d.rl.prototype.mouseLeftDown.call(this,a);if(null!==this.annotation&&3<=this.annotation.getPath().length){4===this.annotation.getPath().length&&this.annotation.Ck();var c=this.annotation.getPath()[2],e=90*this.u.rf(this.annotation.PageNumber),h=this.u.Qb(this.annotation.Va()),f=
this.u.Pb(this.annotation.Va());c.x+150>h&&(c.x-=150);c.y+15>f?c.y-=15:0>c.y-15&&(c.y+=15);90===e||270===e?(this.annotation.Gb(c.x-15,c.y),this.annotation.Gb(c.x+15,c.y+150)):(this.annotation.Gb(c.x,c.y-15),this.annotation.Gb(c.x+150,c.y+15));this.annotation.Rotation=e;c=this.defaults.TextColor;this.annotation.TextColor=new Annotations.Color(c.R,c.G,c.B,c.A);this.annotation.FontSize=this.defaults.FontSize;this.u.pa.Tb(this.annotation);this.finish();a.preventDefault()}},mouseDoubleClick:function(a){this.annotation||
d.Tool.prototype.mouseDoubleClick.call(this,a)},aq:function(){if(null!==this.annotation){var a=this.annotation.Jb();this.annotation=null;this.u.pa.bc(a)}},contextMenu:function(a){a.preventDefault()}});d.Uv=function(b){d.ob.call(this,b,a.Annotations.La);this.defaults.StrokeThickness=0;this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};d.Uv.prototype=$.extend(new d.ob,{initialText:"Insert text here",mouseLeftDown:function(a){d.ob.prototype.mouseLeftDown.call(this,a);
!this.isSelecting()&&this.annotation&&(this.annotation.StrokeThickness=Math.max(this.annotation.StrokeThickness,1),this.annotation.FillColor=new Annotations.Color(200,220,250,.2),this.annotation.Pk(Annotations.La.Cd.FreeText),this.annotation.Zi(this.initialText),this.annotation.Rotation=90*this.u.rf(this.annotation.PageNumber),a=this.defaults.TextColor,this.annotation.TextColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.annotation.FontSize=this.defaults.FontSize)},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,
a);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){a=this.pageCoordinates[0];var c=this.pageCoordinates[1];null!==c&&null!==a&&a.pageIndex===c.pageIndex&&(a=new Annotations.Rect(a.x,a.y,c.x,c.y),a.normalize(),this.annotation.sg(a),this.annotation.Rk(new Annotations.Rect(0,0,0,0)),this.u.pa.Tb(this.annotation))}},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);!this.isSelecting()&&this.annotation&&(this.annotation.StrokeThickness=
this.defaults.StrokeThickness,a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A),a=this.annotation.getRectPadding(),this.annotation.Rk(new Annotations.Rect(a,a,a,a)),this.u.pa.Tb(this.annotation),this.finish())}})})(window);
(function(a){function f(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function d(a,b,c){var d=$("#text-width-tester");a=a.split("\n").join("<br>&nbsp;").split(" ").join("&nbsp;");d.length?d.css({"font-family":c,"font-size":b}).html(a):(d="display:none;",_.isString(c)&&(d+="font-family:"+c+";"),_.isUndefined(b)||(d+="font-size:"+b+";"),d=$('<span id="text-width-tester" style="'+d+'">'+a+"</span>"),$("body").append(d));
return{width:d.width(),height:d.height()}}function e(a,b){var c=(e.canvas||(e.canvas=document.createElement("canvas"))).getContext("2d");c.font=b;return c.measureText(a).width}function b(b,c){if(a.utils.disableFormCharacterProcessing)b.on("change",function(){c({change:this.value,aA:!0})});else b.on("input",function(a){a.change=this.value;c(a)})}function c(){m=$("<span>Hg</span>");p=$('<div style="display: inline-block; width: 1px; height: 0px;"></div>');var a=$("<div></div>").css({visibility:"hidden",
position:"absolute",top:"-9001px"});a.append(m,p);$("body").append(a)}var k;if(!(k=!Object.defineProperty)){var h;try{Object.defineProperty({},"x",{}),h=!0}catch(n){h=!1}k=!h}k&&(Object.defineProperty=function(a,b,c){if(a!==Object(a))throw new TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&"get"in c&&Object.prototype.__defineGetter__.call(a,b,c.get);Object.prototype.__defineSetter__&&"set"in c&&Object.prototype.__defineSetter__.call(a,b,c.set);"value"in
c&&(a[b]=c.value);return a});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,b){if(a!==Object(a))throw new TypeError("Object.defineProperties called on non-object");for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&Object.defineProperty(a,c,b[c]);return a});a.Annotations=a.Annotations||{};var g=a.Annotations,l=1;g.Annotation=function(){this.Subject="Annotation";this.Hw=1;this.Er=this.Hr=this.Jr=this.Ir=0;this.zw=void 0;this.QK=this.PK=!1;this.Pw=void 0;this.Ur=
new Date;this.rx=f();this.as=!0;this.Fj=this.wx=this.di=!1;this.yx=this.ps=!0;this.xo=[]};g.Annotation.prototype={elementName:"annotation",selectionModel:g.Kn,oh:!1,vf:function(){return null},draw:function(){},render:function(){},Bv:function(){},qh:function(){return!1},bA:function(){return!1},sg:function(a){var b=this.ge();a=new g.Rect(a.x1,a.y1,a.x2,a.y2);0>a.xa()&&(a.x1=b.x1,a.x2=b.x2);0>a.ua()&&(a.y1=b.y1,a.y2=b.y2);this.X=a.x1;this.Y=a.y1;this.Width=a.xa();this.Height=a.ua()},adjustRect:function(){},
resize:function(a){this.sg(a)},Ci:function(){return this.X},uJ:function(a){this.X=parseFloat(a)},Di:function(){return this.Y},vJ:function(a){this.Y=parseFloat(a)},xa:function(){return this.Width},sJ:function(a){this.Width=parseFloat(a)},ua:function(){return this.Height},gv:function(a){this.Height=parseFloat(a)},ge:function(){return new g.Rect(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},Jb:function(){return this.PageNumber},Va:function(){return"undefined"===
typeof this.PageNumber?void 0:this.PageNumber-1},hB:function(a){this.PageNumber=parseInt(a,10)},jh:function(){return this.Ci()},Jz:function(){return this.jh()+this.Width},mh:function(){return this.Di()},jz:function(){return this.mh()+this.Height},RF:function(){return this.Custom},QI:function(a){this.Custom=a},fh:function(){return this.WH},Zi:function(a){this.WH=a;this.xb()},ji:function(a){this.xo.push(a)},nt:function(a){a=this.xo.indexOf(a);-1<a&&this.xo.splice(a,1)},Cm:function(){return this.xo},
Le:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))},vI:function(){return this.ps},xb:function(){this.isImporting||(this.Ur=new Date);this.as||(this.di=!0)},serialize:function(b,c){var d=$(b),h=g.fa,e=this.ge();e.Xy();e={subject:this.Subject,page:this.Va(),rect:h.Dq(e,c),flags:"print"};this.Hidden&&(e.flags+=",hidden");this.Id&&(e.name=this.Id);this.Author&&(e.title=this.Author);this.Rotation&&(e.rotation=this.Rotation);this.DateModified&&(e.date=h.yv(this.DateModified));
d.attr(e);if(h=this.fh()){var e=document.createElementNS("","contents-richtext"),f;if(a.utils.xmlSerializerNamespaceSupported){f=document.createElementNS("http://www.w3.org/1999/xhtml","body");var k=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");k.nodeValue="2.0.2";f.setAttributeNodeNS(k);k=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");k.nodeValue="Acrobat:10.1.3";f.setAttributeNodeNS(k);f=$(f)}else f=$("<body>").attr({xmlns:"http://www.w3.org/1999/xhtml",
"xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});f.appendTo($(e));f=$('<p dir="ltr"></p>').appendTo(f);k=";font-weight:normal;font-style:normal";k=this instanceof g.La?g.fa.II(this,c)+k:"font-size:10.0pt;text-align:left;color:#000000"+k;$('<span dir="ltr"></span>').attr("style",k).text(h).appendTo(f);d.append(e);h=$(document.createElementNS("","contents")).text(h);d.append(h)}return b},Xf:function(a){return(a=$(a).prop("nodeName"))&&this.elementName?
a.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(a,b){var c=$(a),d=g.fa,e=$(a).attr("page"),e=parseInt(e,10);this.PageNumber=e+1;e=c.attr("rect")||"0,0,100,100";e=d.qt(e,b);e.normalize();this.sg(e);this.Id=c.attr("name");this.Author=c.attr("title");"undefined"!==typeof c.attr("subject")&&(this.Subject=c.attr("subject"));e=c.attr("flags");"undefined"!==typeof e&&(this.NoZoom=-1!==e.indexOf("nozoom"),this.NoRotate=-1!==e.indexOf("norotate"),this.Hidden=-1!==e.indexOf("hidden"));
(e=c.attr("rotation"))&&(this.Rotation=e);(c=c.attr("date"))&&(this.DateModified=d.pt(c));d="";c=a.getElementsByTagName("contents");if(0<c.length)d=$(c[0]).text();else if(e=a.getElementsByTagName("contents-richtext"),0<e.length)if(c=e[0].getElementsByTagName("body"),0<c.length)if(e=c[0].getElementsByTagName("span"),0<e.length)for(c=0;c<e.length;++c)d+=$(e[c]).text();else d=$(c[0]).text();else d=$(e[0]).text();this.Zi(d)}};g.Annotation.prototype=$.extend(Object.create(a.utils.eventHandler),g.Annotation.prototype);
Object.defineProperties(g.Annotation.prototype,{X:{get:function(){return this.Ir},set:function(a){this.Ir=parseFloat(a);this.xb()}},Y:{get:function(){return this.Jr},set:function(a){this.Jr=parseFloat(a);this.xb()}},Width:{get:function(){return this.Hr},set:function(a){this.Hr=parseFloat(a);this.xb()}},Height:{get:function(){return this.Er},set:function(a){this.Er=parseFloat(a);this.xb()}},NoMove:{get:function(){return this.Fw},set:function(a){this.Fw=!0===a||"true"===a}},NoResize:{get:function(){return this.Gw},
set:function(a){this.Gw=!0===a||"true"===a}},PageNumber:{get:function(){return this.Hw},set:function(a){this.Hw=parseInt(a,10)}},DateModified:{get:function(){return this.Ur},set:function(a){this.Ur=a instanceof Date?a:new Date(a)}},Id:{get:function(){return this.rx},set:function(a){this.rx=a}},Author:{get:function(){return this.Pw},set:function(a){this.Pw=a}},IsAdded:{get:function(){return this.as},set:function(a){this.as=a}},IsModified:{get:function(){return this.di},set:function(a){this.di=a}},
IsDeleted:{get:function(){return this.wx},set:function(a){this.wx=a}},Filtered:{get:function(){return this.Fj},set:function(a){this.Fj=a}},Custom:{get:function(){return this.zw},set:function(a){this.zw=a}},Listable:{get:function(){return this.yx},set:function(a){this.yx=a?!0:!1}}});g.cl=function(a){this.Nf=new g.Color;this.gi=this.ai=this.Qj=0;this.Zc=null;this.set(a)};g.cl.prototype={set:function(a){a instanceof g.cl?(this.Nf=new g.Color(a.Nf),this.Qj=a.Qj,this.ai=a.ai,this.gi=a.gi,this.Zc=a.Zc):
_.isArray(a)?3===a.length||4===a.length?(_.isUndefined(a[0])||(this.ai=Number(a[0])),_.isUndefined(a[1])||(this.gi=Number(a[1])),_.isUndefined(a[2])||(this.Qj=Number(a[2])),4===a.length&&_.isArray(a[3])&&console.warn("dashed borders are currently unsupported")):console.warn("Invalid border specification ",a," should be 3 or 4 elements long"):_.isObject(a)&&(_.isArray(a.border)&&this.set(a.border),_.isUndefined(a.color)||(this.Nf=new g.Color(a.color)),_.isUndefined(a.width)||(this.Qj=Number(a.width)),
_.isUndefined(a.cornerRadius)?_.isArray(a.cornerRadius)&&(this.ai=a.cornerRadius[0]||0,this.gi=a.cornerRadius[1]||0):this.gi=this.ai=Number(a.cornerRadius),_.isString(a.style)&&(this.Zc=a.style))},serialize:function(a){var b=$(a),c=g.fa;this.AD&&b.attr("width",this.AD);this.Zc&&b.attr("style",this.Zc);b=this.color;a.setAttribute("BC",[b.R/255,b.G/255,b.B/255].map(c.toFixed).join(","))},deserialize:function(a){var b=g.fa,c={};b.getAttribute(a,"width")?c.width=parseInt(b.getAttribute(a,"width"),10):
c.width=1;b.getAttribute(a,"style")&&(c.style=b.getAttribute(a,"style"),"bevelled"===c.style&&(c.style="beveled"));b.getAttribute(a,"BC")&&(c.color=b.getAttribute(a,"BC").split(",").map(Number));this.set(c)},xv:function(){var a=_.isNull(this.Zc)?"solid":this.Zc,b=this.Qj,c=this.ai.toFixed(6)+"px "+this.gi.toFixed(6)+"px",d={};"underline"===a?(d["border-bottom-style"]="solid",d["border-top-style"]="hidden",d["border-left-style"]="hidden",d["border-right-style"]="hidden"):(a={solid:"solid",beveled:"outset",
inset:"inset"}[a],_.isUndefined(a)&&(a="solid"),d["border-style"]=a);d["border-color"]=this.Nf.toString();d["border-width"]=b;d["border-top-left-radius"]=c;d["border-top-right-radius"]=c;d["border-bottom-left-radius"]=c;d["border-bottom-right-radius"]=c;return d}};Object.defineProperties(g.cl.prototype,{color:{get:function(){return this.Nf},set:function(a){this.set({color:a})}},width:{get:function(){return this.Qj},set:function(a){this.set({width:a})}},style:{get:function(){return this.Zc},set:function(a){this.set({style:a})}},
cornerRadius:{get:function(){return[this.ai,this.gi]},set:function(a){this.set({cornerRadius:a})}}});g.Ta=function(b){g.Annotation.call(this);a.Actions.Gf.call(this,b);this.Nf=new g.Color(0,0,0,1);this.Wn=new g.Color;this.Xn=new g.cl;this.eo=!1;this.Uf=0;this.Lg=this.Xd=null;this.on("contentRemoved",function(){this.Lg=this.Xd=null;this.Nr=!1});this.Do=!0;_.isObject(b)&&(_.isUndefined(b.border)||this.Xn.set(b.border),_.isUndefined(b.backgroundColor)||(this.Wn=new g.Color(b.backgroundColor)),_.isUndefined(b.color)||
(this.Nf=new g.Color(b.color)),_.isUndefined(b.rect)||(this.rect=new g.Rect(b.rect)));var c=this.Em(),d=this;Object.keys(c).forEach(function(a){var b=c[a];$(d).on(b.internal_name,function(c){d.zd(a,b.getEvent(d,c))})})};g.Ta.prototype={Zj:"",fu:function(a){return(this.xa()-(this.Do?2*this.border.width:0))*a},Dp:function(a){return(this.ua()-(this.Do?2*this.border.width:0))*a},uB:function(a){this.Do=!!a},serialize:function(){this.Hidden=this.hidden;g.Annotation.prototype.serialize.apply(this,arguments)},
deserialize:function(){g.Annotation.prototype.deserialize.apply(this,arguments);this.Hidden&&(this.hidden=!0,this.Hidden=!1)},Em:function(){return{}},Yl:function(){},He:function(b){var c=this.Uf,d=a.utils.getRotationOffsets(c,this.xa(),this.ua()),e=d.dx*b,d=d.dy*b;return $.extend({left:this.X*b,top:this.Y*b,width:this.fu(b),height:this.Dp(b),position:"absolute",padding:"0",margin:"0","background-color":this.Wn.toString(),"z-index":"35",display:this.eo?"none":"",transform:"translate("+e+"px,"+d+"px) rotate("+
-c+"deg)","transform-origin":"top left","-webkit-transform":"translate("+e+"px,"+d+"px) rotate("+-c+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+e+"px,"+d+"px) rotate("+-c+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+e+"px,"+d+"px) rotate("+-c+"deg)","-moz-transform-origin":"top left","-webkit-appearance":"none"},this.Do?this.Xn.xv(b):{})},Ob:function(a){if(!a)throw"no zoom?";return{position:"absolute","font-size":"inherit","font-family":"inherit",
color:"inherit",width:this.fu(a),height:this.Dp(a),border:0,padding:0,margin:0,"background-color":"transparent","vertical-align":"top"}},pe:function(a){this.eo=!a;this.Xd&&this.Xd.css("display",this.eo?"none":"")},bg:function(){console.warn("missing inner element");return null},wz:function(){return this.Lg},rz:function(){return this.Xd},render:function(a,b,c){this.Xd=this.Xd||$('<div class="'+this.Zj+'" />');this.Xd.css(this.He(c));if(this.Lg=this.Lg||this.bg())this.Lg.trigger("focusout"),this.Lg.css(this.Ob(c)),
this.Nr||(this.Yl(b),this.Nr=!0);this.Xd[0].parentNode!==a[0]&&(a.append(this.Xd),this.Xd.append(this.Lg))},Bv:function(){this.Xd&&(this.Xd.remove(),this.Nr=!1)}};g.Ta.prototype=$.extend(Object.create(g.Annotation.prototype),g.Ta.prototype,a.Actions.Gf.prototype);Object.defineProperties(g.Ta.prototype,{rect:{get:function(){return this.ge()},set:function(a){this.sg(a)}},element:{get:function(){return this.rz()}},innerElement:{get:function(){return this.wz()}},hidden:{get:function(){return this.eo},
set:function(a){this.pe(!a)}},color:{get:function(){return this.Nf},set:function(a){this.Nf=new g.Color(a)}},border:{get:function(){return this.Xn},set:function(a){this.Xn.set(a)}},backgroundColor:{get:function(){return this.Wn},set:function(a){this.Wn=new g.Color(a)}},actions:{get:function(){return this.vi()}},rotation:{get:function(){return this.Uf},set:function(a){this.Uf=Number(a)}}});g.If=function(a){this.Zh=this.ve="";this._size=0;this.Zn=new g.Color([0,0,0]);this.ws=new g.Color([0,0,0]);this.Eo=
"Type1";this.Xh=0;this.set(a)};g.If.prototype={set:function(a){_.isObject(a)?(a.name&&(this.ve=String(a.name),this.Zh=g.fa.bn(this.ve)),a.size&&(this._size=Number(a.size)),a.fillColor&&(this.Zn=new g.Color(a.fillColor)),a.strokeColor&&(this.ws=new g.Color(a.strokeColor)),a.type&&(this.Eo=a.type)):_.isString(a)&&(this.ve=a,this.Zh=g.fa.bn(this.ve))},FF:function(a,b,c){if(0===this._size){var e=b.Dp(1);if(0===a.replace(/\s/g,"").length)return this.Xh=e/2;var h=20;c?h=this.EF(a,b,e):(b=.95*b.fu(1),e*=
.95,a=d(a,h,this.Zh?this.Zh:void 0),h*=Math.min(b/a.width,e/a.height));return this.Xh=Math.min(h,12)}},EF:function(a,b,c){if(a=b.innerElement){a.css("font-size",c+"px");b=0;for(var d;b<=c;)d=Math.floor((b+c)/2),a.css("font-size",d+"px"),a[0].scrollHeight>a.outerHeight()?c=d-1:b=d+1;a[0].scrollHeight>a.outerHeight()&&a.css("font-size","-=2");return parseFloat(a.css("font-size"))}return c/2},deserialize:function(a,b){var c=g.fa;if(c.getAttribute(a,"FontName")){var d=c.getAttribute(a,"FontName");this.ve=
d;this.Zh=g.fa.bn(d)}if(c.getAttribute(a,"FontSize")){var d=parseFloat(c.getAttribute(a,"FontSize")),c=b.W({x:0,y:0}),e=b.W({x:d,y:0}),d=c.x-e.x,c=c.y-e.y;this._size=Math.sqrt(d*d+c*c)}},Fi:function(){return this.Zn.Fi()&&this.ws.Fi()},xv:function(a){var b={};""!==this.Zh&&(b["font-family"]=this.Zh);b["font-size"]=0===this._size&&0!==this.Xh?String(this.Xh*a)+"px":String(this._size*a)+"px";b.color=this.Zn.toString();return b}};Object.defineProperties(g.If.prototype,{name:{get:function(){return this.ve},
set:function(a){this.set({name:a})}},size:{get:function(){return this._size},set:function(a){this.set({size:a})}},type:{get:function(){return this.Eo}},strokeColor:{get:function(){return this.ws},set:function(a){this.set({strokeColor:a})}},fillColor:{get:function(){return this.Zn},set:function(a){this.set({fillColor:a})}},calculatedSize:{get:function(){return 0===this._size?this.Xh:this._size}}});g.Jg=function(a){this.Wf={};this.Mj=null;this.Ol=0;_.isObject(a)&&_.isArray(a.mask)&&this.jm(a.mask)};
g.Jg.prototype={Ag:{ReadOnly:1,Required:2,NoExport:4,Multiline:4096,Password:8192,NoToggleToOff:16384,Radio:32768,PushButton:65536,Combo:131072,Edit:262144,DoNotScroll:8388608,RadiosInUnison:33554432},clear:function(){this.Wf={}},jm:function(a){_.isNull(this.Mj)&&(this.Mj={});for(var b=a.length,c=0;c<b;++c){var d=a[c];this.Mj[d]=this.Ag[d]||0}},aF:function(a){var b=[],c=this.Mj||this.Ag;Object.keys(c).forEach(function(d){0!==(a&c[d])&&(a&=~c[d],b.push(d))});return{result:b,WJ:a}},get:function(a){return!!this.Wf[a]},
PJ:function(){var a=0,b;for(b in this.Wf)this.Wf.hasOwnProperty(b)&&!0===this.Wf[b]&&(a|=this.Ag[b]);return a|this.Ol},toArray:function(){var a=this;return Object.keys(this.Wf).filter(function(b){return a.Wf[b]})},deserialize:function(a){a=g.fa.getAttribute(a,"Ff");this.set(parseInt(a,10))},serialize:function(a){a.setAttribute("Ff",String(this.PJ()))},set:function(a,b){if(_.isArray(a))for(var c=a.length,d=0;d<c;++d)this.set(a[d]);else _.isNumber(a)?(c=this.aF(a),this.Ol|=c.WJ,this.set(c.result)):
_.isString(a)&&(c=!0,_.isUndefined(b)||(c=!!b),this.Mj?_.isUndefined(this.Mj[a])?this.Ol|=this.Ag[a]||0:this.Wf[a]=c:this.Wf[a]=c)}};g.qa=function(a,b){g.Ta.call(this,b);if(!a)throw Error("Please set the field properly in the widget constructor");this._value=null;this.Da=a;this.Gj=null;a.qE(this,b?b.index:void 0);this.IsAdded=!1;this.FK=new Date;this.Ix="Left-justified";this.Listable=!1;this.Nw="";this.Mr={};this.Qw={Normal:"",Rollover:"",Down:""};this.Yn=!1;this.Eb=new g.Jg({mask:"Invisible Hidden NoPrint NoZoom NoRotate NoView ReadOnly Locked ToggleNoView LockedContents".split(" ")});
this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"];this.set(b);var c=this;this.on("commit",_.bind(this.dt,this));this.on("change",function(a,b){c.fB();c.Oe(b);c.trigger("commit")});this.on("blur",function(){c.fieldFlags.get("ReadOnly")||c.nb(c.Da.value);c.refresh()});this.on("focus",function(){c.fieldFlags.get("ReadOnly")||c.Oe(c.Da.value);c.refresh()})};g.qa.prototype={elementName:"widget",cj:null,Xf:function(a){if(!g.Annotation.prototype.Xf.call(this,a)||!this.cj)return!1;a=g.fa.getAttribute(a,
"FT");return this.cj===a},dg:function(){var a="";Object.keys(this.appearances).forEach(function(b){"Off"!==b&&(a=b)});return a},Je:function(a){this.Oe(a)},fB:function(){this.Yn=!0},set:function(a){if(_.isObject(a)){_.isUndefined(a.value)||(this.value=String(a.value));_.isUndefined(a.flags)||(this.Eb.set(a.flags),this.Eb.get("Hidden")&&this.pe(!1),this.Eb.get("NoView")&&this.pe(!1));if(!_.isUndefined(a.captions)){var b=a.captions,c=this.Qw;Object.keys(b).forEach(function(a){c[a]=b[a]})}_.isUndefined(a.page)||
(this.PageNumber=a.page);_.isUndefined(a.quadding)||(this.quadding=a.quadding);_.isUndefined(a.appearances)||(this.Mr=a.appearances);_.isUndefined(a.appearance)||(this.appearance=a.appearance);_.isUndefined(a.rotation)||(this.rotation=a.rotation);_.isUndefined(a.font)||(this.font=a.font)}},He:function(a){var b=g.Ta.prototype.He.apply(this,arguments);return $.extend(b,this.font.xv(a))},Ob:function(){var a=g.Ta.prototype.Ob.apply(this,arguments);return $.extend(a,{"text-align":{"Left-justified":"left",
Centered:"center","Right-justified":"right"}[this.quadding]})},qh:function(){return!0},Ka:function(){return this._value},nb:function(b){b=a.Annotations.K.ib.Events.ca.create("Format",this.Da,{value:b});this.Da.zd("F",b);this.Oe(b.value)},pe:function(a){this.Eb.set("Hidden",!a);g.Ta.prototype.pe.call(this,a)},render:function(a,b,c){l=c;var d=!1;this.innerElement&&this.element||(d=!0);g.Ta.prototype.render.apply(this,arguments);d&&(this.element.attr("id",this.$K),this.refresh())},Oe:function(a){this._value=
a;this.refresh()},refresh:function(){var a=this.fieldFlags.get("Multiline");this.font.FF(this._value?String(this._value):"",this,a);if(a=this.element)if(a.attr("id",this.Da.name),a.css(this.He(l)),a=this.innerElement)this.Da&&this.Da.userName&&a.attr("title",this.Da.userName),a.css(this.Ob(l))},gg:function(){return null},deserialize:function(a,b,c){g.Ta.prototype.deserialize.call(this,a,b);var d=g.fa;this.Da.nB(d.getAttribute(a,"FT"));d.getAttribute(a,"creationdate")&&(this.DateCreated=d.pt(d.getAttribute(a,
"creationdate")));this.border.deserialize(a);this.fieldFlags.deserialize(a);this.font.deserialize(a,b);var e=d.mp(a,"V","value");this.Je(e);this.Da.Je(e);this.defaultValue=d.mp(a,"DV","defaultvalue");e=d.CA(a);d.getAttribute(a,"color")?this.color=d.getAttribute(a,"color").split(","):e.color&&(this.color=e.color);d.getAttribute(a,"BG")&&(this.backgroundColor=d.getAttribute(a,"BG").split(","));this.rotation=d=(d=d.getAttribute(a,"rotation"))?parseInt(d,10):0;if(90===d||270===d)d=this.Width,this.Width=
this.Height,this.Height=d;this.Xx(a,b,c)},serialize:function(){},lb:function(){return this.Da},gB:function(a){this.Da=a;this.Oe(this.Da.value)},Df:function(a){g.Ta.prototype.Df.call(this,a);this.Da&&this.Da.Df(a)},nE:function(a,b){this.Da.ii(a,b)},ii:function(a,b){-1!==["K","V","F","C"].indexOf(a)?this.nE(a,b):g.Ta.prototype.ii.call(this,a,b)},dt:function(){this.Da.trigger("commit",this.Ka(),this)},Em:function(){var b=a.Annotations.K.ib.Events,c=this;return $.extend(g.Ta.prototype.Em.call(this),{E:{triggers:"mouseenter",
internal_name:"mouseenter",getEvent:function(){return b.ca.create("Mouse Enter",c.lb())}},X:{triggers:"mouseleave",internal_name:"mouseleave",getEvent:function(){return b.ca.create("Mouse Leave",c.lb())}},D:{triggers:"mousedown",internal_name:"mousedown",getEvent:function(){return b.ca.create("Mouse Down",c.lb())}},U:{triggers:a.utils.mouseUpEventBug?"touchend":"mouseup",internal_name:"mouseup",getEvent:function(){return b.ca.create("Mouse Up",c.lb())}},Bl:{triggers:"focusout",internal_name:"blur",
getEvent:function(){var a=c.lb();return b.ca.create("Blur",a,{value:a.value})}},Fo:{triggers:"focusin",internal_name:"focus",getEvent:function(){return b.ca.create("Focus",c.lb())}}})},IG:function(){return!!this.Gj},Yl:function(){g.Ta.prototype.Yl.apply(this,arguments);var b=this,c=this.innerElement;c&&(c.on("focusout",function(){b.Yn&&(b.Yn=!1,b.trigger("commit"));b.trigger("blur")}),c.on("focusin",function(){b.trigger("focus")}),c.on("mouseenter",function(){b.trigger("mouseenter")}),c.on("mouseleave",
function(){b.trigger("mouseleave")}),c.on("mousedown",function(){b.trigger("mousedown")}),c.on(b.NB?"click":a.utils.mouseUpEventBug?"touchend":"mouseup",function(){b.trigger("mouseup")}))}};g.qa.prototype=$.extend(!0,Object.create(g.Ta.prototype),g.qa.prototype);Object.defineProperties(g.qa.prototype,{fieldName:{get:function(){return this.Da.name}},value:{get:function(){return this.Ka()},set:function(a){this.nb(a)}},defaultValue:{get:function(){return this.Da.defaultValue},set:function(a){this.Da.defaultValue=
a}},fieldFlags:{get:function(){return this.Da.flags}},flags:{get:function(){return this.Eb}},font:{get:function(){return this.Gj||this.Da.font},set:function(b){this.Gj=new a.Annotations.If(b)}},fieldActions:{get:function(){return this.Da.actions}},appearance:{get:function(){return this.Nw},set:function(a){this.Mr[a]?this.Nw=a:console.log("Unknown appearance: "+a)}},quadding:{get:function(){return this.Ix},set:function(a){this.Ix=a}},appearances:{get:function(){return this.Mr}},captions:{get:function(){return this.Qw}}});
g.Tc=function(a){g.Ta.call(this,a);this.Listable=!1};g.Tc.prototype=Object.create(g.Ta.prototype);g.Tc.prototype.elementName="link";g.Tc.prototype.bg=function(){return $('<span class="link" tabindex="0" />')};g.Tc.prototype.Yl=function(){g.Ta.prototype.Yl.apply(this,arguments);var a=this;this.innerElement.on("tap",function(){a.trigger("mouseup")})};g.Tc.prototype.bA=function(){return!0};g.Tc.prototype.Em=function(){var b=a.Annotations.K.ib.Events;return $.extend(g.Ta.prototype.Em.call(this),{U:{triggers:"tap",
internal_name:"mouseup",getEvent:function(){return b.Tc.create("Mouse Up")}}})};g.Tc.prototype.deserialize=function(a,b,c){g.Ta.prototype.deserialize.call(this,a,b,c);var d=g.fa.getAttribute(a,"color");d&&(this.color=d);this.Xx(a,b,c)};g.Tc.prototype.serialize=function(a,b){g.Ta.prototype.serialize.call(this,a,b);a.setAttribute("color",this.color.toHexString());this.zI(a,b);return a};g.Sh=function(a,b){g.qa.call(this,a,b);this.fieldFlags.jm(["Multiline","DoNotScroll","Password"]);this.Yn=!1;this.$d=
this.Da.maxLen};g.Sh.prototype={cj:"Tx",Zj:"text",refresh:function(){g.qa.prototype.refresh.call(this);var a=this.innerElement;a&&(this.fieldFlags.get("ReadOnly")?a.text(this.value):this.innerElement.val(this.value))},He:function(){var a=g.qa.prototype.He.apply(this,arguments);return $.extend(a,{})},Ob:function(){var a=g.qa.prototype.Ob.apply(this,arguments),b={"word-wrap":"break-word",resize:"none","background-color":"transparent","overflow-y":this.fieldFlags.get("Multiline")?"auto":"hidden","overflow-x":"hidden"};
if(this.fieldFlags.get("Comb")){var c=g.qa.prototype.He.apply(this,arguments),c=e("1",c["font-size"]+" "+c["font-family"]),d=a.width/this.$d;b["margin-left"]=.2*d+"px";b["letter-spacing"]=d-c+"px"}return $.extend(a,b)},gg:function(){var a=this.innerElement;if(a)return this.fieldFlags.get("ReadOnly")?a.text():a.val()},aG:function(a,b){if(a!==b){for(var c=0;a.charAt(c)===b.charAt(c);)c++;for(var d=0;a.charAt(a.length-1-d)===b.charAt(b.length-1-d)&&d+c<a.length&&d+c<b.length;)d++;var e,h=0;a.length!==
c+d&&(h=a.length-d-c,e="");b.length!==c+d&&(e=b.slice(c,b.length-d));return{result:e,start:c,end:c+h}}},bg:function(){var c=this,e=this.fieldFlags,h=e.get("Multiline"),f=e.get("ReadOnly"),k=e.get("DoNotScroll"),l;f?l=$('<div class="text" />'):(l=h?$("<textarea />"):$('<input type="text" />'),-1!==this.$d&&l.attr("maxlength",this.$d));b(l,function(b){var e=0,f=0,q=b.change,m=c.Ka()||"";if(!b.aA){f=c.aG(m,q);if(!f)return;b.change=f.result;e=f.start;f=f.end}q=a.Annotations.K.ib.Events;e=q.ca.create("Keystroke",
c.lb(),{value:b.aA?"":m,change:b.change,selStart:e,selEnd:f,willCommit:!1});c.Da.zd("K",e);e.rc?(e=q.ek(e),m=!0,k&&!h&&(m=e.length<c._value.length?!0:d(e||"",l.css("font-size"),l.css("font-family")).width<g.K.getUsableInputWidth(l.width())),-1!==c.$d&&(m=e.length<=c.$d),m?(c._value=e,document.activeElement===l[0]?c.fB():c.trigger("commit")):(l.val(c.Ka()),b.preventDefault())):(l.val(c.Ka()),b.preventDefault())});return l}};g.Sh.prototype=$.extend(Object.create(g.qa.prototype),g.Sh.prototype);g.zg=
function(b,c){var d=this;d.on("change",function(b,c){var e=a.Annotations.K.ib.Events.ca.create("Keystroke",d.Da,{value:c,change:"",willCommit:!1,selStart:-1,selEnd:-1});d.Da.zd("K",e)});g.qa.call(this,b,c)};g.zg.prototype={cj:"Ch",Xf:function(a){if(g.qa.prototype.Xf.call(this,a)){var b=new g.Jg({mask:["Combo"]});b.deserialize(a);if(b.get("Combo"))return!0}return!1},deserialize:function(a,b,c){g.qa.prototype.deserialize.call(this,a,b,c);b=g.fa;b.getAttribute(a,"Opt")&&(a=b.getAttribute(a,"Opt"),this.Da.options=
a.split(",").map(function(a){return{value:a,displayValue:a}}),this.lb().Je(this.Ka()),this.Je(this.lb().Ka()))},He:function(){return $.extend(g.qa.prototype.He.apply(this,arguments),{"overflow-y":"visible","overflow-x":"hide","z-index":"36"})},Ob:function(a){return $.extend(g.qa.prototype.Ob.apply(this,arguments),{resize:"none","min-height":"",height:this.Dp(a)})},refresh:function(){g.qa.prototype.refresh.apply(this,arguments);var a=this.innerElement,b=this.Ka();a&&a.val(b)},gg:function(){var a=this.innerElement;
if(a)return a.val()},bg:function(){var a,b;this.fieldFlags.get("Edit")?(b='<input list="'+this.fieldName+'_list" /><datalist id="'+this.fieldName+'_list">',this.options.forEach(function(a){b+='<option value="'+a.value+'">'+(_.isUndefined(a.displayValue)?a.value:a.displayValue)+"</option>"}),b+="</datalist>",a=$(b)):(a=$("<select />"),b="",this.options.forEach(function(a){b+='<option value="'+a.value+'">'+(_.isUndefined(a.displayValue)?a.value:a.displayValue)+"</option>"}),a.append(b));var c=this;
a.on("change",function(){c.trigger("change",[c.gg()])});return a}};g.zg.prototype=$.extend(Object.create(g.qa.prototype),g.zg.prototype);Object.defineProperties(g.zg.prototype,{options:{get:function(){return this.Da.options}}});g.Cg=function(a,b){g.qa.call(this,a,b)};g.Cg.prototype={cj:"Ch",refresh:function(){g.qa.prototype.refresh.apply(this,arguments);var a=this.innerElement;a&&a.val(this.Ka())},Xf:function(a){if(g.qa.prototype.Xf.call(this,a)){var b=new g.Jg({mask:"Combo"});b.deserialize(a);if(!b.get("Combo"))return!0}return!1},
deserialize:function(a,b,c){g.qa.prototype.deserialize.call(this,a,b,c);b=g.fa;b.getAttribute(a,"Opt")&&(a=b.getAttribute(a,"Opt"),this.Da.options=a.split(",").map(function(a){return{value:a,displayValue:a}}),this.lb().Je(this.Ka()),this.Je(this.lb().Ka()))},He:function(){return $.extend(g.qa.prototype.He.apply(this,arguments),{"overflow-y":"auto","overflow-x":"hidden"})},gg:function(){var a=this.innerElement;return a?a.val():null},Ob:function(){return $.extend(g.qa.prototype.Ob.apply(this,arguments),
{"overflow-y":"scroll","overflow-x":"hidden"})},bg:function(){var a=$('<select name="'+this.fieldName.replace(/\.|\s/g,"_")+'" size="'+this.options.length+'" />'),b="";this.options.forEach(function(a){b+='<option value="'+a.value+'">'+(_.isUndefined(a.displayValue)?a.value:a.displayValue)+"</option>"});a.append(b);var c=this;a.on("change",function(){c.trigger("change",[c.gg()])});return a}};g.Cg.prototype=$.extend(Object.create(g.qa.prototype),g.Cg.prototype);Object.defineProperties(g.Cg.prototype,
{options:{get:function(){return this.Da.options}}});g.Lb=function(a,b){g.qa.call(this,a,b)};g.Lb.prototype={cj:"Btn",Qo:null,Xf:function(a){if(g.qa.prototype.Xf.call(this,a)){var b=new g.Jg({mask:["PushButton","Radio"]}),c="C";b.deserialize(a);b.get("PushButton")?c="P":b.get("Radio")&&(c="R");return c===this.Qo}return!1}};g.Lb.prototype=$.extend(Object.create(g.qa.prototype),g.Lb.prototype);g.Kh=function(a,b){g.Lb.call(this,a,b)};g.Kh.prototype={Qo:"P",Zj:"pButton",Ob:function(){return $.extend(g.Lb.prototype.Ob.apply(this,
arguments),{"background-color":"transparent"})},deserialize:function(a,b,c){var d=g.fa;g.Lb.prototype.deserialize.call(this,a,b,c);(a=d.getAttribute(a,"ButtonLabel"))&&(this.captions.Normal=a)},gg:function(){return null},bg:function(){var a=$('<button tabindex="0" />');a.append(this.captions.Normal);return a}};g.Kh.prototype=$.extend(!0,Object.create(g.Lb.prototype),g.Kh.prototype);g.yg=function(a,b){g.Lb.call(this,a,b);this.uB(!1);var c=this;this.NB=!0;this.on("click",function(){"Off"===this.Ka()?
c.trigger("change",c.dg()):c.trigger("change","Off")})};g.yg.prototype={Qo:"C",Zj:"checkBox",refresh:function(){g.qa.prototype.refresh.call(this);var a=this.innerElement;a&&(a.prop("checked",this.Ka()===this.dg()),a.css(this.Ob(l)))},Oe:function(a){a===this.dg()?(this.appearance=a,g.Lb.prototype.Oe.call(this,a)):(this.appearance="Off",g.Lb.prototype.Oe.call(this,"Off"))},Ob:function(){var a=g.Lb.prototype.Ob.apply(this,arguments);a.left=Math.round(a.left);a.top=Math.round(a.top);return $.extend(a,
{border:"none","-moz-appearance":"none",margin:0})},gg:function(){var a=this.innerElement;if(a)return a.prop("checked")?this.dg():"Off"},bg:function(){var a=$('<input type="checkbox" tabindex="0" />');this.fieldFlags.get("ReadOnly")&&a.prop("disabled",!0);var b=this;a.on("click",function(){b.trigger("click")});return a},deserialize:function(a,b,c){var d=g.fa.getAttribute(a,"N");d&&(this.appearances.Off={},this.appearances[d]={});g.Lb.prototype.deserialize.call(this,a,b,c)}};g.yg.prototype=$.extend(!0,
Object.create(g.Lb.prototype),g.yg.prototype);Object.defineProperties(g.yg.prototype,{buttonName:{set:function(a){this.BD=a},get:function(){return this.BD}}});g.Lh=function(a,b){g.Lb.call(this,a,b);this.uB(!1);var c=this;this.NB=!0;this.on("click",function(){"Off"===this.Ka()?c.trigger("change",c.dg()):c.trigger("change","Off")})};g.Lh.prototype={Qo:"R",Zj:"radioButton",gg:function(){return this.dg()},refresh:function(){var a=this.innerElement;a&&(a.prop("checked",this.Da.Ka()===this.gg()),a.css(this.Ob(l)))},
Ob:function(){var a=g.Lb.prototype.Ob.apply(this,arguments);a.left=Math.round(a.left);a.top=Math.round(a.top);return $.extend(a,{border:"none","-moz-appearance":"none",margin:0})},Oe:function(a){"Off"!==a&&-1!==Object.keys(this.appearances).indexOf(a)?(this.appearance=a,g.Lb.prototype.Oe.call(this,a)):(this.appearance="Off",g.Lb.prototype.Oe.call(this,"Off"))},bg:function(){var a=$('<input type="radio" tabindex="0" />');this.fieldFlags.get("ReadOnly")&&a.prop("disabled",!0);var b=this;a.on("click",
function(){b.trigger("click")});return a},deserialize:function(a,b,c){var d=g.fa.getAttribute(a,"N");d&&(this.appearances.Off={},this.appearances[d]={});g.Lb.prototype.deserialize.call(this,a,b,c)}};g.Lh.prototype=$.extend(!0,Object.create(g.Lb.prototype),g.Lh.prototype);g.Oh=function(a,b){g.qa.call(this,a,b)};g.Oh.prototype={cj:"Sig",Zj:"signature",deserialize:function(a,b,c){g.qa.prototype.deserialize.call(this,a,b,c);if(a=a.querySelector("imagedata"))this.appearances._DEFAULT={Normal:a.textContent},
this.appearance="_DEFAULT"},Ob:function(){var b=g.qa.prototype.Ob.apply(this,arguments),c=b.width,d=b.height,e=this.rotation;if(90===e||270===e)var h=c,c=d,d=h;var f=a.utils.getRotationOffsets((360-e)%360,c,d),h=f.dx,f=f.dy;return $.extend(b,{transform:"translate("+h+"px,"+f+"px) rotate("+e+"deg)","transform-origin":"top left","-webkit-transform":"translate("+h+"px,"+f+"px) rotate("+e+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+h+"px,"+f+"px) rotate("+e+"deg)","-ms-transform-origin":"top left",
"-moz-transform":"translate("+h+"px,"+f+"px) rotate("+e+"deg)","-moz-transform-origin":"top left",width:c,height:d})},bg:function(){var a=new Image,b=this.appearances[this.appearance];b&&(a.src=b.Normal||"");return $(a)}};g.Oh.prototype=$.extend(Object.create(g.qa.prototype),g.Oh.prototype);g.Fg=function(){g.Annotation.call(this);this._isOpen=!1};g.Fg.prototype={isOpen:function(){return this._isOpen},Qk:function(a){this._isOpen=a},deserialize:function(a,b){g.Annotation.prototype.deserialize.apply(this,
arguments);var c=a.getAttribute("open");this.Qk(c&&"yes"===c)}};g.Fg.prototype=$.extend(new g.Annotation,g.Fg.prototype);g.la=function(){g.Annotation.call(this);this.Wc=new g.Color(0,0,0,0);this.Uh=new g.Color(0,0,0);this._opacity=this.Vh=1;this.Zw=new Date;this.Ml=null};g.la.prototype={Cc:function(a){null!==this.Opacity&&(a.globalAlpha=this.Opacity);null!==this.FillColor&&(a.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(a.strokeStyle=this.StrokeColor.toString());a.lineWidth=0===
this.StrokeThickness?.001:this.Kt()},vf:function(){return this.Ml},lv:function(a){this.Ml=a},Kt:function(){return this.StrokeThickness},serialize:function(a,b){var c=g.Annotation.prototype.serialize.apply(this,arguments),d=g.fa,e={},h=d.Yi(this.StrokeColor);null!==h&&(e.color=h);d=d.Yi(this.FillColor);null!==d&&(e["interior-color"]=d);_.isUndefined(this.StrokeThickness)||_.isNull(this.StrokeThickness)||(e.width=g.Dd.Sj(b,this.StrokeThickness));_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||
(e.opacity=this.Opacity);this.fringe&&(e.fringe=g.fa.av(this.fringe,b));this.DateCreated&&(e.creationdate=g.fa.yv(this.DateCreated));$(c).attr(e);this.Ml&&(e=this.Ml.isOpen()?"yes":"no",d=$(document.createElementNS("","popup")),h=this.Ml.ge(),h.Xy(),d.attr({flags:"print,nozoom,norotate",page:this.Va(),rect:g.fa.Dq(h,b)}).appendTo($(c)),d[0].setAttribute("open",e));return c},deserialize:function(a,b){g.Annotation.prototype.deserialize.apply(this,arguments);var c=$(a),d=g.fa,e=c.attr("opacity");"undefined"!==
typeof e&&(this.Opacity=parseFloat(e));e=c.attr("width");"undefined"!==typeof e&&(this.Vh=g.Dd.Sj(b,parseFloat(e)));e=c.attr("fringe");"undefined"!==typeof e&&(this.fringe=d.Jy(e,b));e=d.pi(c.attr("color"));null!==e&&(this.StrokeColor=e);e=d.pi(c.attr("interior-color"));this.FillColor=null!==e?e:new g.Color(0,0,0,0);(e=c.attr("creationdate"))&&(this.DateCreated=d.pt(e));c=c.find("popup");d=this.vf()||new g.Fg;0<c.length?d.deserialize(c[0],b):(d.PageNumber=this.PageNumber,d.sg(new g.Rect(0,0,150,100)));
this.lv(d)},selectionModel:g.va,oh:!0};g.la.prototype=$.extend(!0,new g.Annotation,g.la.prototype);Object.defineProperties(g.la.prototype,{FillColor:{get:function(){return this.Wc},set:function(a){a instanceof g.Color&&(this.Wc=a,this.xb())}},StrokeColor:{get:function(){return this.Uh},set:function(a){a instanceof g.Color&&(this.Uh=a,this.xb())}},StrokeThickness:{get:function(){return this.Vh},set:function(a){this.Vh=parseFloat(a);this.xb();this.adjustRect()}},Opacity:{get:function(){return this._opacity},
set:function(a){this._opacity=parseFloat(a);this.xb()}},DateCreated:{get:function(){return this.Zw},set:function(a){this.Zw=a instanceof Date?a:new Date(a)}}});g.qd=function(){g.la.call(this);this["_xsi:type"]="Line";this.Subject=i18n.t("annotations.types.line");this.Tg=this.Ej=this.End=this.Start=this.Wc=null};g.qd.prototype={elementName:"line",resize:function(a){var b=a.x1;a=a.y1;var c=b-this.X,d=a-this.Y;if(0!==c||0!==d)this.Start.x+=c,this.Start.y+=d,this.End.x+=c,this.End.y+=d,this.X=b,this.Y=
a},adjustRect:function(){if(!_.isNull(this.Start)||!_.isNull(this.End)){var a=this.getRectPadding();this.X=Math.min(this.Start.x,this.End.x)-a;this.Y=Math.min(this.Start.y,this.End.y)-a;this.Width=Math.abs(this.Start.x-this.End.x)+2*a;this.Height=Math.abs(this.Start.y-this.End.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},mB:function(a,b){this.Start=new g.Point(a,b)},zG:function(){return this.Start},setEndPoint:function(a,b){this.End=new g.Point(a,b)},TF:function(){return this.End},
tg:function(a){this.Tg=a},Bi:function(){return this.Tg||"None"},Gq:function(a){this.Ej=a},pp:function(){return this.Ej||"None"},draw:function(a){this.Cc(a);if(this.Start&&this.End){a.beginPath();a.moveTo(this.Start.x,this.Start.y);a.lineTo(this.End.x,this.End.y);var b=!1;_.isNull(this.Tg)||"None"===this.Tg||(g.Dd.st(a,this.Start,this.End,this.StrokeThickness),b=!0);_.isNull(this.Ej)||"None"===this.Ej||(g.Dd.st(a,this.End,this.Start,this.StrokeThickness),b=!0);b||a.stroke()}else a.beginPath(),a.moveTo(0,
0),a.lineTo(this.xa(),this.ua()),a.stroke()},serialize:function(a,b){a=g.la.prototype.serialize.apply(this,arguments);var c=new g.Point(this.Start.x,this.Start.y),d=new g.Point(this.End.x,this.End.y),e=g.fa;$(a).attr({start:e.Cq(c,b),end:e.Cq(d,b),head:this.Bi(),tail:this.pp()});return a},deserialize:function(a,b){g.la.prototype.deserialize.apply(this,arguments);var c=g.fa,d=$(a),e=c.Ky(d.attr("start"),b);null!==e&&this.mB(e.x,e.y);c=c.Ky(d.attr("end"),b);null!==c&&this.setEndPoint(c.x,c.y);this.tg(d.attr("head")||
"None");this.Gq(d.attr("tail")||"None");this.adjustRect();this.Wc=null},selectionModel:g.nl};g.qd.prototype=$.extend(new g.la,g.qd.prototype);g.Hg=function(){g.la.call(this);this["_xsi:type"]="Rectangle";this.Subject=i18n.t("annotations.types.rectangle");var a=this.getRectPadding();this.fringe=new g.Rect(a,a,a,a)};g.Hg.prototype={elementName:"square",draw:function(a){this.Cc(a);var b=this.ge();b.x1+=this.fringe.x1;b.y1+=this.fringe.y1;b.x2-=this.fringe.x2;b.y2-=this.fringe.y2;if(b.x1!==b.x2||b.y1!==
b.y2)"cloudy"===this.Style?(this.Mg=2,this.aa=[new g.Point(b.x1,b.y1),new g.Point(b.x2,b.y1),new g.Point(b.x2,b.y2),new g.Point(b.x1,b.y2),{x:b.x1,y:b.y1}],g.Dd.Oy.call(this,a),a.closePath(),a.lineJoin="round"):(a.lineWidth*=2,a.beginPath(),a.moveTo(b.x1,b.y1),a.lineTo(b.x2,b.y1),a.lineTo(b.x2,b.y2),a.lineTo(b.x1,b.y2),a.closePath(),a.clip()),a.fill(),a.stroke()},getRectPadding:function(){return 0},serialize:function(){var a=g.la.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(a.setAttribute("style",
this.Style),a.setAttribute("intensity",this.Intensity));return a},deserialize:function(a){g.la.prototype.deserialize.apply(this,arguments);var b=$(a);this.Zc=b.attr("style");this.Mg=b.attr("intensity")}};g.Hg.prototype=$.extend(new g.la,g.Hg.prototype);Object.defineProperties(g.Hg.prototype,{Intensity:{get:function(){return this.Mg},set:function(a){this.Mg=a;this.xb()}},Style:{get:function(){return this.Zc},set:function(a){this.Zc=a;this.xb()}}});g.fl=function(){g.la.call(this);this["_xsi:type"]=
"Caret";this.Subject=i18n.t("annotations.types.caret");this.StrokeThickness=0;this.Wc=null};g.fl.prototype={elementName:"caret",draw:function(b){this.Cc(b);var c=this.Width,d=this.Height,e=Number(this.Rotation);if(90===e||270===e)e=c,c=d,d=e;b.translate(this.X,this.Y);b.rotate(-this.Rotation*Math.PI/180);e=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);b.translate(-e.dx,-e.dy);b.translate(-this.X,-this.Y);b.beginPath();b.fillStyle=this.StrokeColor.toString();c=new g.Rect(this.X,
this.Y,this.X+c,this.Y+d);e=(c.x1+c.x2)/2;d=c.y1+3*d/4;b.moveTo(e,c.y1);b.quadraticCurveTo(e,d,c.x1,c.y2);b.lineTo(c.x2,c.y2);b.quadraticCurveTo(e,d,e,c.y1);b.closePath();b.fill();b.stroke()},selectionModel:g.va,deserialize:function(a,b){g.la.prototype.deserialize.apply(this,arguments);var c=Number(this.Rotation);if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c},serialize:function(a,b){var c=Number(this.Rotation),d;if(90===c||270===c)d=this.Width,this.Width=this.Height,this.Height=
d;g.la.prototype.serialize.apply(this,arguments);if(90===c||270===c)d=this.Width,this.Width=this.Height,this.Height=d;return a}};g.fl.prototype=$.extend(new g.la,g.fl.prototype);g.hj=function(){g.la.call(this);this["_xsi:type"]="Ellipse";this.Subject=i18n.t("annotations.types.ellipse");var a=this.getRectPadding();this.fringe=new g.Rect(a,a,a,a)};g.hj.prototype={elementName:"circle",draw:function(a){this.Cc(a);var b=this.X+this.fringe.x1,c=this.Y+this.fringe.y1,d=this.xa()-this.fringe.x1-this.fringe.x2,
e=this.ua()-this.fringe.y1-this.fringe.y2,h=Math.min(d,e);a.lineWidth>=h&&(a.lineWidth=h-1);h=(d-a.lineWidth)/(e-a.lineWidth);isNaN(h)||Infinity===h||(a.save(),a.translate(b+(1-h)*d/2,c),a.scale(h,1),a.beginPath(),a.arc(.5*d,.5*e,Math.max(.5*e-a.lineWidth/2,0),0,2*Math.PI,!1),a.restore(),a.fill(),a.stroke())},getRectPadding:function(){return 0},selectionModel:g.va};g.hj.prototype=$.extend(new g.la,g.hj.prototype);g.uj=function(){g.la.call(this);this["_xsi:type"]="Stamp";this.Subject=i18n.t("annotations.types.stamp");
this.Icon="Draft";this.Uh=this.Wc=null;this.dF="bold italic "+this.BB+"px Verdana"};g.uj.prototype={elementName:"stamp",padding:20,BB:30,it:10,draw:function(b){this.Cc(b);b.translate(this.X,this.Y);b.rotate(-this.Rotation*Math.PI/180);var c=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);b.translate(-c.dx,-c.dy);if(this.image){var c=this.Width,d=this.Height;if(this.Rotation&&(90===Number(this.Rotation)||270===Number(this.Rotation)))var e=c,c=d,d=e;b.drawImage(this.image,
0,0,c,d)}else if("SHAccepted"===this.Icon)b.lineWidth=.2*Math.min(this.Width,this.Height),b.strokeStyle="#426922",b.beginPath(),b.moveTo(.05*this.Width,.5*this.Height),b.lineTo(.4*this.Width,.85*this.Height),b.lineTo(.95*this.Width,.05*this.Height),b.stroke();else if("SBRejected"===this.Icon)b.lineWidth=.2*Math.min(this.Width,this.Height),b.strokeStyle="#8F110F",b.beginPath(),b.moveTo(.05*this.Width,.05*this.Height),b.lineTo(.95*this.Width,.95*this.Height),b.moveTo(.95*this.Width,.05*this.Height),
b.lineTo(.05*this.Width,.95*this.Height),b.stroke();else{c=this.PF();b.fillStyle=c.fill;b.strokeStyle=c.Xp;b.lineWidth=1;d=this.it;if(this.xa()<=2*this.it||this.ua()<=2*this.it)d=Math.min(this.xa()/2,this.ua()/2);this.rF(b,0,0,this.xa(),this.ua(),d);b.font=this.dF;b.fillStyle=c.Xp;c=this.xB.toUpperCase();d=b.measureText(c).width+2*this.padding;b.save();d=this.xa()/d;e=this.ua()/(1.5*this.BB);b.scale(d,e);b.textBaseline="middle";b.textAlign="center";b.fillText(c,this.xa()/(2*d),this.ua()/(2*e));b.restore()}},
DG:function(){var a=this.Icon;if(this.dc[a])return this.dc[a];if(0===a.indexOf("SB")||0===a.indexOf("SH")){var b=this.dc[a.substring(2)];if(b)return b}return a},PF:function(){var a=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),b={Xp:"rgba(145, 15, 5, "+a+")",fill:"rgba(242, 230, 227, "+.7*a+")"},c={Xp:"rgba(65, 106, 28, "+a+")",fill:"rgba(215, 226, 207, "+.7*a+")"},a={Xp:"rgba(24, 37, 100, "+a+")",fill:"rgba(224, 235, 246, "+.7*a+")"};switch(this.xB){case this.dc.Approved:case this.dc.Completed:case this.dc.Final:return c;
case this.dc.Asis:case this.dc.Confidential:case this.dc.Departmental:case this.dc.Draft:case this.dc.Experimental:case this.dc.ForComment:case this.dc.ForPublicRelease:case this.dc.NotForPublicRelease:case this.dc.Sold:case this.dc.TopSecret:return a;case this.dc.Expired:case this.dc.NotApproved:case this.dc.Void:return b;default:return a}},dc:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",
Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",TopSecret:"Top Secret",Void:"Void"},rF:function(a,b,c,d,e,h){a.beginPath();a.moveTo(b+h,c);a.lineTo(b+d-h,c);a.quadraticCurveTo(b+d,c,b+d,c+h);a.lineTo(b+d,c+e-h);a.quadraticCurveTo(b+d,c+e,b+d-h,c+e);a.lineTo(b+h,c+e);a.quadraticCurveTo(b,c+e,b,
c+e-h);a.lineTo(b,c+h);a.quadraticCurveTo(b,c,b+h,c);a.closePath();a.fill();a.stroke()},serialize:function(a,b){var c=g.la.prototype.serialize.apply(this,arguments),d=$(c);d.attr("icon",this.Icon);this.image&&$(document.createElementNS("","imagedata")).text(this.image.src).appendTo(d);return c},deserialize:function(a,b){g.la.prototype.deserialize.apply(this,arguments);var c=$(a),d=c.attr("icon");d?this.Icon=d:this.Subject&&(this.Icon=this.Subject);c=c.find("imagedata");0<c.length&&(this.ImageData=
c.text())}};g.uj.prototype=$.extend(new g.la,g.uj.prototype,a.utils.eventHandler);Object.defineProperties(g.uj.prototype,{Icon:{get:function(){return this.xD},set:function(a){this.xD=a;this.xB=this.DG();this.xb()}},ImageData:{get:function(){return this.image.src},set:function(a){this.image||(this.image=new Image);this.ps=!1;this.image.src=a;var b=this;this.image.onload=function(){b.ps=!0;b.trigger("resourcesLoaded")};this.xb()}},FillColor:{get:function(){return this.Wc},set:function(){}},StrokeColor:{get:function(){return this.Uh},
set:function(){}}});g.Sc=function(){g.la.call(this);this.aa=[];this.Oa={x:0,y:0};this.jb={x:0,y:0}};g.Sc.prototype={Gb:function(a,b){var c=this.getRectPadding();this.aa.push(new g.Point(a,b));1===this.aa.length?(this.Oa={x:a,y:b},this.jb={x:a,y:b},this.X=a-c,this.Y=b-c):(a>this.jb.x&&(this.Width=a-this.Oa.x+2*c,this.jb.x=a),b>this.jb.y&&(this.Height=b-this.Oa.y+2*c,this.jb.y=b),a<this.Oa.x&&(this.Width=this.jb.x-a+2*c,this.X=a-c,this.Oa.x=a),b<this.Oa.y&&(this.Height=this.jb.y-b+2*c,this.Y=b-c,this.Oa.y=
b))},oe:function(a,b,c){this.aa&&this.aa.length>a?(this.aa[a].x=b,this.aa[a].y=c,this.adjustRect()):this.aa&&this.aa.length===a&&this.Gb(b,c)},fg:function(a){return this.aa&&this.aa.length>a?this.aa[a]:null},Ck:function(){var a=this.aa.pop();this.adjustRect();return a},getPath:function(){return this.aa},setPath:function(a){this.aa=a;this.adjustRect()},getRectPadding:function(){return this.StrokeThickness},adjustRect:function(){if(0!==this.aa.length){this.Oa={x:Number.MAX_VALUE,y:Number.MAX_VALUE};
this.jb={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var a=0;a<this.aa.length;a++)if(null!==this.aa[a]){var b=this.aa[a].x,c=this.aa[a].y;b>this.jb.x&&(this.jb.x=b);c>this.jb.y&&(this.jb.y=c);b<this.Oa.x&&(this.Oa.x=b);c<this.Oa.y&&(this.Oa.y=c)}a=this.getRectPadding();this.X=this.Oa.x-a;this.Y=this.Oa.y-a;this.Width=Math.max(0,this.jb.x-this.Oa.x)+2*a;this.Height=Math.max(0,this.jb.y-this.Oa.y)+2*a}},selectionModel:g.qj};g.Sc.prototype=$.extend(new g.la,g.Sc.prototype);g.FreeHandAnnotation=function(){g.la.call(this);
this.za=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.Oa={x:0,y:0};this.jb={x:0,y:0};this.jo=!1;this["_xsi:type"]="Free Hand";this.Subject=i18n.t("annotations.types.freeHand");this.Wc=null};g.FreeHandAnnotation.prototype={elementName:"ink",shouldSimplifyPath:!0,Gb:function(a,b,c){"undefined"===typeof c&&(c=0);if(c===this.za.length)this.za.push([]);else if(c>this.za.length){console.warn("FreeHandAnnotation addPathPoint: pathIndex out of bounds.");return}this.LeftMost=
Math.min(this.LeftMost,a);this.RightMost=Math.max(this.RightMost,a);this.TopMost=Math.min(this.TopMost,b);this.BottomMost=Math.max(this.BottomMost,b);var d=this.getRectPadding();this.Ir=this.LeftMost-d;this.Jr=this.TopMost-d;this.Hr=this.RightMost-this.LeftMost+2*d;this.Er=this.BottomMost-this.TopMost+2*d;this.za[c].push(new g.Point(a,b))},oe:function(a,b,c,d){"undefined"===typeof d&&(d=0);var e;this.za.length>d?(e=this.za[d],e.length>a?(e[a].x=b,e[a].y=c,this.adjustRect()):e.length===a&&this.Gb(b,
c,d)):this.za.length===d?this.Gb(b,c,d):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},fg:function(a,b){"undefined"===typeof b&&(b=0);return this.za&&this.za.length>b&&this.za[b].length>a?this.za[b][a]:null},Ck:function(a){"undefined"===typeof a&&(a=0);var b=null;this.za.length>a&&(b=this.za[a].pop(),this.adjustRect());return b},getPath:function(a){"undefined"===typeof a&&(a=0);return this.za.length>a?this.za[a]:null},setPath:function(a,b){"undefined"===typeof b&&(b=0);
this.za.length<b?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.za.length>b?this.za[b]=a:this.za.length===b&&this.za.push(a);this.adjustRect()},tF:function(){this.za=[]},finish:function(){this.jo||(this.xb(),this.jo=!0)},resize:function(a){var b=a.x1,c=a.y1,d=a.xa(),e=a.ua();a=c-this.Y;if(!(0===b-this.X&&0===a&&d===this.Width&&e===this.Height||1>d||1>e)){var h=a=1;"undefined"!==typeof d&&"undefined"!==typeof e&&(a=e/this.Height,h=d/this.Width,this.Width=d,this.Height=e);
for(d=0;d<this.za.length;d++)for(e=0;e<this.za[d].length;e++)this.za[d][e].x=(this.za[d][e].x-this.X)*h+b,this.za[d][e].y=(this.za[d][e].y-this.Y)*a+c;this.X=b;this.Y=c}},draw:function(a){this.Cc(a);a.beginPath();for(var b=this.Ai(),c=0;c<b.length;c++)this.qF(a,b[c]);a.lineCap="round";a.lineJoin="round";a.stroke()},Ai:function(){return this.za},CJ:function(a,b){if(this.shouldSimplifyPath)for(var c=0;c<this.za.length;c++){var d=window.simplify(this.getPath(c),a,b);this.setPath(d,c)}},qF:function(a,
b){var c="undefined"===typeof b?0:b.length;if(3<=c){a.moveTo(b[0].x,b[0].y);for(c=1;c<b.length-2;c++)a.quadraticCurveTo(b[c].x,b[c].y,(b[c].x+b[c+1].x)/2,(b[c].y+b[c+1].y)/2);c+1<b.length&&a.quadraticCurveTo(b[c].x,b[c].y,b[c+1].x,b[c+1].y)}else 2===c&&(a.moveTo(b[0].x,b[0].y),a.lineTo(b[1].x,b[1].y))},rotate:function(b,c){this.za.forEach(function(d){for(var e=0;e<d.length;++e)d[e]=a.Ga.Math.Ah(d[e],b,c)});this.adjustRect()},adjustRect:function(){if(0!==this.za.length){this.Oa={x:Number.MAX_VALUE,
y:Number.MAX_VALUE};this.jb={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var a,b;for(a=0;a<this.za.length;a++)for(b=0;b<this.za[a].length;b++)if(null!==this.za[a][b]){var c=this.za[a][b].x,d=this.za[a][b].y;c>this.jb.x&&(this.jb.x=c);d>this.jb.y&&(this.jb.y=d);c<this.Oa.x&&(this.Oa.x=c);d<this.Oa.y&&(this.Oa.y=d)}a=this.getRectPadding();this.X=this.Oa.x-a;this.Y=this.Oa.y-a;this.Width=Math.max(0,this.jb.x-this.Oa.x)+2*a;this.Height=Math.max(0,this.jb.y-this.Oa.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},
serialize:function(a,b){for(var c=g.la.prototype.serialize.apply(this,arguments),d=$(document.createElementNS("","inklist")),e=this.Ai(),h=0;h<e.length;h++)if(!(1>e[h].length)){var f=g.fa.Ok(e[h],b);$(document.createElementNS("","gesture")).text(f).appendTo(d)}$(c).append(d);return c},deserialize:function(a,b){g.la.prototype.deserialize.apply(this,arguments);var c=this;c.za=[];$(a).find("inklist gesture").each(function(){var a=$(this).text(),a=g.fa.ri(a,b),a=this.shouldSimplifyPath?window.simplify(a,
.5):a;c.za.push(a)});this.adjustRect();this.Wc=null},selectionModel:g.va};g.FreeHandAnnotation.prototype=$.extend(new g.la,g.FreeHandAnnotation.prototype);g.Eg=function(){g.la.call(this);this.aa=[];this.jo=!1;this.Zc="solid";this.Mg=2;this["_xsi:type"]="Polygon";this.Subject=i18n.t("annotations.types.polygon");this.Oa={x:0,y:0};this.jb={x:0,y:0}};g.Eg.prototype={elementName:"polygon",resize:function(a){var b=a.x1;a=a.y1;var c=b-this.X,d=a-this.Y;if(0!==c||0!==d){for(var e=0;e<this.aa.length;e++)this.aa[e].x+=
c,this.aa[e].y+=d;this.X=b;this.Y=a}},finish:function(){a.Ga.Math.Pu(this.aa)&&(this.aa[this.aa.length]={x:this.aa[0].x,y:this.aa[0].y});this.adjustRect()},draw:function(a){this.Cc(a);if("cloudy"===this.Style)g.Dd.Oy.call(this,a);else for(var b=0;b<this.aa.length;b++){var c=this.aa[b];0===b?(a.beginPath(),a.moveTo(c.x,c.y)):a.lineTo(c.x,c.y)}1<this.aa.length&&(a.closePath(),a.lineJoin="round",a.fill(),a.stroke())},Pk:function(a){this.Intent=a},yi:function(){return this.Intent},serialize:function(a,
b){var c=g.la.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&(c.setAttribute("style",this.Style),c.setAttribute("intensity",this.Intensity),c.setAttribute("IT","PolygonCloud"));var d=this.getPath();d&&0<d.length&&$(document.createElementNS("","vertices")).text(g.fa.Ok(d,b)).appendTo($(c));return c},deserialize:function(b,c){g.la.prototype.deserialize.apply(this,arguments);var d=$(b),e=d.find("vertices");0<e.length&&(e=e.text(),this.aa=g.fa.ri(e,c));a.Ga.Math.Pu(this.aa)&&(this.aa[this.aa.length]=
{x:this.aa[0].x,y:this.aa[0].y});this.Zc=d.attr("style");this.Mg=d.attr("intensity");this.tx=d.attr("IT");this.adjustRect()},selectionModel:g.ur};g.Eg.prototype=$.extend(new g.Sc,g.Eg.prototype);Object.defineProperties(g.Eg.prototype,{Intensity:{get:function(){return this.Mg},set:function(a){this.Mg=a;this.xb()}},Style:{get:function(){return this.Zc},set:function(a){this.Zc=a;this.xb()}},Intent:{get:function(){return this.tx},set:function(a){this.tx=a;this.xb()}}});g.sj=function(){g.la.call(this);
this.aa=[];this.jo=!1;this["_xsi:type"]="Polyline";this.Subject=i18n.t("annotations.types.polyline");this.Oa={x:0,y:0};this.jb={x:0,y:0};this.Wc=null};g.sj.prototype={elementName:"polyline",resize:function(a){var b=a.x1;a=a.y1;var c=b-this.X,d=a-this.Y;if(0!==c||0!==d){for(var e=0;e<this.aa.length;e++)this.aa[e].x+=c,this.aa[e].y+=d;this.X=b;this.Y=a}},finish:function(){this.adjustRect()},draw:function(a){this.Cc(a);for(var b=0;b<this.aa.length;b++){var c=this.aa[b];0===b?(a.beginPath(),a.moveTo(c.x,
c.y)):a.lineTo(c.x,c.y)}1<this.aa.length&&(a.lineJoin="round",a.stroke())},tg:function(a){this.Tg=a},Bi:function(){return this.Tg||"None"},Gq:function(a){this.Ej=a},pp:function(){return this.Ej||"None"},serialize:function(a,b){var c=g.la.prototype.serialize.apply(this,arguments),d=$(c),e=this.getPath();e&&0<e.length&&$(document.createElementNS("","vertices")).text(g.fa.Ok(e,b)).appendTo(d);$(c).attr({head:this.Bi(),tail:this.pp()});return c},deserialize:function(a,b){g.la.prototype.deserialize.apply(this,
arguments);var c=$(a),d=c.find("vertices");0<d.length&&(d=d.text(),this.aa=g.fa.ri(d,b));this.tg(c.attr("head")||"None");this.Gq(c.attr("tail")||"None");this.adjustRect();this.Wc=null},selectionModel:g.qj};g.sj.prototype=$.extend(new g.Sc,g.sj.prototype);var m,p;g.La=function(a){g.Sc.call(this);this.aa=[];this.Oa={x:0,y:0};this.jb={x:0,y:0};this["_xsi:type"]="FreeText";this.Subject=i18n.t("annotations.types.freetext");this.StrokeThickness=1;this.Pk(a);this.Rp="left";this.Mw=new g.Color(255,0,0);this.Bw=
"Verdana";this.Cw="9pt";this.Lw="left";this.Jw=0};g.La.Cd={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",FreeTextTypeWriter:"FreeTextTypeWriter"};g.La.prototype={elementName:"freetext",yi:function(){return this.intent},Pk:function(a){this.intent=a||g.La.Cd.FreeText;a!==g.La.Cd.FreeTextCallout?(this.selectionModel=g.jl,this.Subject=i18n.t("annotations.types.freetext")):(this.tg("OpenArrow"),this.selectionModel=g.Cn,this.Subject=i18n.t("annotations.types.callout"))},tg:function(a){this.Tg=a},
Bi:function(){return this.Tg},Gb:function(a,b){5>this.aa.length&&g.Sc.prototype.Gb.call(this,a,b)},adjustRect:function(){this.yi()===g.La.Cd.FreeTextCallout&&g.Sc.prototype.adjustRect.apply(this,arguments)},resize:function(a){if(this.yi()===g.La.Cd.FreeTextCallout){var b=a.y1-this.Y,c=a.xa()/this.Width,d=a.ua()/this.Height;if(0!==a.x1-this.X||0!==b||1!==c||1!==d){for(b=0;b<this.aa.length;b++)null!==this.aa[b]&&(this.aa[b].x=(this.aa[b].x-this.X)*c+a.x1,this.aa[b].y=(this.aa[b].y-this.Y)*d+a.y1);this.adjustRect()}}else this.sg(a),
a=this.getRectPadding(),this.Rk(new g.Rect(a,a,a,a))},getRectPadding:function(){return this.yi()===g.La.Cd.FreeTextCallout?this.StrokeThickness/2:0},Rk:function(a){for(var b=this.getPath();5>b.length;)b.push(null);5<=b.length&&(b[3]=new g.Point(this.X+a.x1,this.Y+a.y2),b[4]=new g.Point(this.X+this.Width-a.x2,this.Y+this.Height-a.y1))},Cz:function(){var a=this.aa[3],b=this.aa[4];return new g.Rect(a.x-this.X,this.Y+this.Height-b.y,this.X+this.Width-b.x,a.y-this.Y)},St:function(){return this.FontSize.slice(-2)||
"px"},Rt:function(){var a=parseFloat(this.FontSize);"px"===this.St(a)&&(a*=.75);return a},oK:function(a,b,c,d,e,h,f){for(var g,k=d,l=a.measureText(".").width,l=2*Math.ceil(e/l),m=b.split("\n"),p=0;p<m.length;p++){for(var z=m[p].split(" "),H="",G=0;G<z.length;G++){b=z[G];g=a.measureText(b);if(g.width>e){for(var I=1,D=l,J;I<=D;)if(J=Math.floor((D+I)/2),g=a.measureText(b.slice(0,J),a),g.width<e)I=J+1;else if(g.width>e)D=J-1;else break;b=b.slice(0,Math.max(1,D))}z[G]!==b&&(z.splice(G+1,0,z[G].substr(b.length)),
z[G]=b);b=H+z[G];g=a.measureText(b);if(g.width>e&&0<G){a.fillText(H,c,d);H=z[G]+" ";if(d-k>=h)return;d+=f}else H=b+" "}a.fillText(H.slice(0,-1),c,d);if(d-k>=h)break;d+=f}},draw:function(b){m||c();var d;this.Cc(b);if(this.yi()===g.La.Cd.FreeTextCallout){b.lineJoin="miter";for(var e=Math.min(3,this.aa.length),h=0;h<e;h++)d=this.aa[h],0===h?(b.beginPath(),b.moveTo(d.x,d.y)):b.lineTo(d.x,d.y);2<=this.aa.length&&g.Dd.st(b,this.aa[0],this.aa[1],this.StrokeThickness)}if(5===this.aa.length){d=this.aa[3];
var f=this.aa[4],e=d.x,h=d.y,k=f.x-d.x,l=f.y-d.y;b.save();b.beginPath();b.rect(e,h,k,l);b.closePath();b.fill();0<this.StrokeThickness&&(b.clip(),b.lineWidth*=2,b.strokeRect(e,h,k,l));b.restore();d=this.fh();if("undefined"!==typeof d){b.textBaseline="top";b.fillStyle=this.TextColor.toString();var y=b.lineWidth,f=0+y;b.save();b.beginPath();b.rect(e+y,h+y,Math.max(k-2*y,0),Math.max(l-2*y));b.closePath();b.clip();b.textAlign=this.TextAlign;if(this.Rotation){b.translate(e,h);b.rotate(-(Math.PI/180*this.Rotation));
b.translate(-e,-h);if(90===this.Rotation||270===this.Rotation)y=k,k=l,l=y;90===this.Rotation?b.translate(-k,0):270===this.Rotation?b.translate(0,-l):180===this.Rotation&&b.translate(-k,-l)}var y=k-2*f,l=l-2*f,A=parseFloat(this.FontSize),B=this.St();"pt"===B&&(A*=.75);if(0===A){var A=y,E=d.split("\n").reduce(function(a,b){return b.length>a.length?b:a}),M=function(a){m.css({font:a});a={};p.css({verticalAlign:"baseline"});a.BE=p.offset().top-m.offset().top;p.css({verticalAlign:"bottom"});a.height=p.offset().top-
m.offset().top;a.DL=a.height-a.BE;return a};do A--,b.font=A+"px "+this.Font;while((b.measureText(E).width>y||M(b.font).height>l)&&0<A)}E=A+4;a.utils.ie&&(E=A);M=e+f;"center"===this.TextAlign?M=e+k/2:"right"===this.TextAlign&&(M=e+k-f);b.font=A+B+" "+this.Font;this.oK(b,d,M,h+f,y,l,E);b.restore()}}},serialize:function(a,b){var c=g.la.prototype.serialize.apply(this,arguments),d=$(c),e=this.getPath(),h={},f=this.Cz(),f=g.fa.av(f,b);h.fringe=f;f=g.fa.Yi(this.FillColor);null!==f?h.color=f:d.removeAttr("color");
d.removeAttr("interior-color");var f=g.Dd.Sj(b,this.Rt()),k=$(document.createElementNS("","defaultappearance"));k.text(this.StrokeColor.OJ()+" "+g.fa.KI(this.Font,f));d.append(k);var k=$(document.createElementNS("","defaultstyle")),l=g.fa.JI(this,b);k.text(l);d.append(k);this.Rp&&"left"!==this.Rp&&(h.justification=this.Rp);k=g.fa.Yi(this.TextColor);null!==k&&c.setAttribute("TextColor",k);c.setAttribute("FontSize",f);c.setAttribute("rotation",this.Rotation);f=this.yi();f===g.La.Cd.FreeTextCallout&&
(e=g.fa.Ok(e.slice(0,3),b,",",","),h.callout=e,h.head=this.Bi(),c.setAttribute("IT",f));d.attr(h);return c},deserialize:function(a,b){function c(a){var d=a.slice(-2);a=parseFloat(a);return String(g.Dd.Sj(b,a))+d}this.TextColor=new g.Color(0,0,0);var d=g.fa,e=$(a);g.la.prototype.deserialize.apply(this,arguments);null!==d.pi(e.attr("color"))?this.FillColor=this.StrokeColor:this.FillColor=new g.Color(0,0,0,0);var h=d.CA(a);h.color&&(this.StrokeColor=d.pi(h.color));h.font&&(this.Font=h.font.name,this.FontSize=
c(h.font.size));h=d.NH(a);h.font&&(this.Font=h.font.name,this.FontSize=c(h.font.size));h.textAlign&&(this.TextAlign=h.textAlign);h.color&&(this.TextColor=d.pi(h.color));var f;if((h=e.attr("IT")||e.attr("it")||a.getAttribute("IT"))&&h===g.La.Cd.FreeTextCallout){if(this.Pk(g.La.Cd.FreeTextCallout),this.tg(e.attr("head")||"OpenArrow"),f=e.attr("callout")){h=d.ri(f,b);3>h.length&&(f=d.ri(f,b,",",","),3===f.length&&(h=f));f=this.getPath();for(var k=0;k<h.length;k++)f[k]=new g.Point(parseFloat(h[k].x),
parseFloat(h[k].y))}}else this.Pk(g.La.Cd.FreeText),f=this.getPath(),f[0]=null,f[1]=null,f[2]=null;this.fringe?this.Rk(this.fringe):this.Rk(new g.Rect(0,0,0,0));if(h=e.attr("justification"))this.Rp=h;d=d.pi(e.attr("TextColor")||a.getAttribute("TextColor"));null!==d&&(this.TextColor=d);d=e.attr("FontSize")||a.getAttribute("FontSize");_.isUndefined(d)||_.isNull(d)||(this.FontSize=c(d+"pt"));(e=e.attr("rotation"))&&(this.Rotation=parseInt(e,10));this.adjustRect()},selectionModel:g.jl};g.La.prototype=
$.extend(new g.Sc,g.La.prototype);Object.defineProperties(g.La.prototype,{TextColor:{get:function(){return this.Mw},set:function(a){this.Mw=a;this.xb()}},FontSize:{get:function(){return this.Cw},set:function(a){this.Cw=a;this.xb()}},Font:{get:function(){return this.Bw},set:function(a){this.Bw=a;this.xb()}},TextAlign:{get:function(){return this.Lw},set:function(a){this.Lw=a;this.xb()}},Rotation:{get:function(){return this.Jw},set:function(a){this.Jw=a;this.xb()}}});g.Vc=function(){g.la.call(this);
this.Wc=null;this.Uh=new g.Color(255,0,0);this.Vh=null;this.Fw=!0;this.Gw=!1;this.Hd=[];this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};g.Vc.prototype={mv:function(a){if(!a||"undefined"===typeof a.length||0===a.length)throw Error("Argument quads requires an array of at least one element");this.Hd=a;for(var b=Infinity,c=Infinity,d=0,e=0,h=0;h<this.Hd.length;h++)a=this.Hd[h],b=Math.min(b,a.x1,a.x2,a.x3,a.x4),c=Math.min(c,a.y1,a.y2,a.y3,a.y4),d=Math.max(d,a.x1,a.x2,a.x3,a.x4),e=Math.max(e,
a.y1,a.y2,a.y3,a.y4);this.X=b;this.Y=c;this.Width=d-b;this.Height=e-c},Od:function(){return this.Hd},serialize:function(a,b){var c=g.la.prototype.serialize.apply(this,arguments),d;d=[];for(var e=0;e<this.Quads.length;e++){var h=this.Quads[e];d.push(new g.Point(h.x4,h.y4));d.push(new g.Point(h.x3,h.y3));d.push(new g.Point(h.x1,h.y1));d.push(new g.Point(h.x2,h.y2))}0<this.Quads.length&&(d=g.fa.Ok(d,b,",",","),$(c).attr("coords",d));return c},deserialize:function(b,c){g.la.prototype.deserialize.apply(this,
arguments);this.Wc=null;this.Hd=[];for(var d=$(b).attr("coords"),d=g.fa.ri(d,c,",",","),e=0;e+3<d.length;e+=4){if(a.Ga.Math.kH(d[e],d[e+3],d[e+1],d[e+2])){var h=d[e+2];d[e+2]=d[e+3];d[e+3]=h}this.Hd.push(new g.hb(d[e+3].x,d[e+3].y,d[e+2].x,d[e+2].y,d[e+1].x,d[e+1].y,d[e].x,d[e].y))}},selectionModel:g.Qh};g.Vc.prototype=$.extend(new g.la,g.Vc.prototype);Object.defineProperties(g.Vc.prototype,{Quads:{get:function(){return this.Hd},set:function(a){this.mv(a)}}});g.Mf=function(){g.Vc.call(this);this.Uh=
new g.Color(255,255,0);this["_xsi:type"]="Highlight";this.Subject=i18n.t("annotations.types.highlight");this.Opacity=.25};g.Mf.opacityCap=.3;g.Mf.prototype={elementName:"highlight",draw:function(a){this.Cc(a);if(_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||this.Opacity>g.Mf.opacityCap)a.globalAlpha=g.Mf.opacityCap;a.fillStyle=this.StrokeColor.toString();for(var b,c=0;c<this.Quads.length;c++)b=this.Quads[c],a.beginPath(),a.moveTo(b.x1,b.y1),a.lineTo(b.x2,b.y2),a.lineTo(b.x3,b.y3),a.lineTo(b.x4,
b.y4),a.closePath(),a.fill()}};g.Mf.prototype=$.extend(new g.Vc,g.Mf.prototype);g.xj=function(){g.Vc.call(this);this["_xsi:type"]="Underline";this.Subject=i18n.t("annotations.types.underline")};g.xj.prototype={elementName:"underline",draw:function(a){this.Cc(a);for(var b,c=0;c<this.Hd.length;c++)b=this.Hd[c],a.beginPath(),a.moveTo(b.x1,b.y1),a.lineTo(b.x2,b.y2),a.closePath(),a.stroke()}};g.xj.prototype=$.extend(new g.Vc,g.xj.prototype);g.Rh=function(){g.Vc.call(this);this["_xsi:type"]="Strikeout";
this.Subject=i18n.t("annotations.types.strikeout")};g.Rh.prototype={elementName:"strikeout",draw:function(a){this.Cc(a);for(var b,c=0;c<this.Hd.length;c++){b=this.Hd[c];var d=(b.x1+b.x4)/2,e=(b.y1+b.y4)/2,h=(b.x2+b.x3)/2;b=(b.y2+b.y3)/2;a.beginPath();a.moveTo(d,e);a.lineTo(h,b);a.stroke()}}};g.Rh.prototype=$.extend(new g.Vc,g.Rh.prototype);g.wj=function(){g.Vc.call(this);this["_xsi:type"]="Squiggly";this.Subject=i18n.t("annotations.types.squiggly")};g.wj.prototype={elementName:"squiggly",draw:function(a){var b,
c,d,e,h,f,g;this.Cc(a);for(var k=0;k<this.Hd.length;k++){c=this.Hd[k];b=Math.sqrt((c.x1-c.x2)*(c.x1-c.x2)+(c.y1-c.y2)*(c.y1-c.y2));var l=5/3,m=b/10;a.save();a.translate(c.x1,c.y1-1.25);a.rotate(Math.atan2(c.y2-c.y1,c.x2-c.x1));c=Math.abs(c.y1-c.y4);a.beginPath();a.rect(0,-c,b,c+1.25+1);a.clip();a.beginPath();for(var p=0;p<2*m;p+=2)g=5*p,h=5*p+l/2,f=l,d=5*(p+1)-l/2,e=l,b=5*(p+1),c=0,a.moveTo(g,0),a.bezierCurveTo(h,f,d,e,b,c),h=5*(p+1)+l/2,f=-l,d=5*(p+2)-l/2,e=-l,b=5*(p+2),c=0,a.bezierCurveTo(h,f,d,
e,b,c);a.stroke();a.restore()}}};g.wj.prototype=$.extend(new g.Vc,g.wj.prototype);g.Lf=function(){g.la.call(this);this["_xsi:type"]="Sticky";this.Subject=i18n.t("annotations.types.stickyNote");this.Height=this.Width=31;this.NoZoom=this.NoResize=!0;this.Wc=this.Vh=null;this.Uh=new g.Color(255,255,0);this.Icon="Comment";this.Dw=null};g.Lf.prototype={elementName:"text",draw:function(b,c){if(!this.Le()){var d=this.Width<this.Height?this.Width:this.Height,e=.75*d,h=.48*d,f=.29*d,g=.19*d,k=d-g;b.strokeStyle=
"rgb(0, 0, 0)";b.fillStyle=this.StrokeColor.toString();b.globalAlpha=0===this.Opacity?0:this.Opacity||1;c=c||0;b.rotate(-c*Math.PI/180);var l=a.utils.getRotationOffsets((360-c)%360,this.Width,this.Height);b.translate(-l.dx,-l.dy);b.beginPath();b.moveTo(7,2);b.lineTo(d-5-2,2);b.quadraticCurveTo(d-2,2,d-2,7);b.lineTo(d-2,e-5);b.quadraticCurveTo(d-2,e,d-5-2,e);b.lineTo(h,e);b.lineTo(f,d-2);b.lineTo(f,e);b.lineTo(7,e);b.quadraticCurveTo(2,e,2,e-5);b.lineTo(2,7);b.quadraticCurveTo(2,2,7,2);b.fill();b.moveTo(g,
.25*d);b.lineTo(k,.25*d);b.moveTo(g,.41*d);b.lineTo(k,.41*d);b.moveTo(g,.57*d);b.lineTo(.68*d,.57*d);b.stroke()}},serialize:function(a,b){var c=g.la.prototype.serialize.apply(this,arguments),d={icon:this.Icon};null!==this.InReplyTo&&(d.inreplyto=this.InReplyTo);$(c).attr(d);return c},deserialize:function(a,b){g.la.prototype.deserialize.apply(this,arguments);this.Wc=null;var c=$(a),d=c.attr("icon");d&&(this.Icon=d);(c=c.attr("inreplyto"))&&(this.InReplyTo=c);this.NoZoom=this.NoResize=!0},selectionModel:g.Qn};
g.Lf.prototype=$.extend(!0,new g.la,g.Lf.prototype);Object.defineProperties(g.Lf.prototype,{InReplyTo:{get:function(){return this.Dw},set:function(a){this.Dw=a;this.xb()}}});g.Dd={st:function(b,c,d,e){b.save();b.translate(c.x,c.y);b.rotate(a.Ga.Math.lp(c,d));b.moveTo(0,0);d=5*e+2;c=Math.cos(.2*Math.PI)*d;d*=Math.sin(.2*Math.PI);b.moveTo(c,-d);b.lineTo(0,0);b.lineTo(c,d);b.stroke();b.restore()},Sj:function(a,b){var c=a.W({x:0,y:0}),d=a.W({x:Number(b),y:0}),e=c.x-d.x,c=c.y-d.y;return Math.sqrt(e*e+
c*c)},Oy:function(b){b.beginPath();var c=a.Ga.Math.SE(this.aa);a.Ga.Math.Pu(this.aa)&&(c[c.length]={x:c[0].x,y:c[0].y});if(!(2>=c.length)){var d=this.Mg;0===d&&(d=2);for(var e=1/8092,h=a.Ga.Math.qG(c),f=1!==Math.round(h),k=0,l=6.5*d,m=c[0],p=l,E=l,M={x:c[1].x-c[0].x,y:c[1].y-c[0].y},z={x:c[0].x-c[c.length-2].x,y:c[0].y-c[c.length-2].y},d=!0,H=!1,G=0,I,D=0;D<c.length-1;++D){var J=c[D],K=c[D+1],K={x:K.x-J.x,y:K.y-J.y},L=Math.sqrt(K.x*K.x+K.y*K.y);if(!(L<=e)){var P={x:K.x/L,y:K.y/L},F=Math.max(Math.floor(L/
l),1),L=L/F,k=a.Ga.Math.KF(P.x,P.y);if(0===D&&3>=c.length){var N=Math.sqrt(M.x*M.x+M.y*M.y);if(N<l){b.arc(c[0].x,c[0].y,N,0,2*Math.PI);return}if(N<2*L){f=N/2;b.arc(c[0].x,c[0].y,f,0,2*Math.PI);b.moveTo(c[1].x+f,c[1].y);b.arc(c[1].x,c[1].y,f,0,2*Math.PI);b.moveTo(c[0].x+f,c[0].y);return}b.arc(c[0].x,c[0].y,L/2,0,2*Math.PI);b.moveTo(c[1].x+L/2,c[1].y);b.arc(c[1].x,c[1].y,L/2,0,2*Math.PI);b.moveTo(c[0].x+L/2,c[0].y)}0===D&&(G=L,I={x:P.x,y:P.y});J.x-=P.x*L*.5;J.y-=P.y*L*.5;z=a.Ga.Math.ZE(z,K);N=0;H||
(++N,E=L,d=0>z*h,J.x+=P.x*L,J.y+=P.y*L,m=J,b.moveTo(m.x,m.y),this.Mq=m.x,this.Nq=m.y,H=!0);for(p=.25*(p+L);N<F;++N)1===N&&(p=.5*L),J.x+=P.x*L,J.y+=P.y*L,g.Dd.arcTo.call(this,b,p,p,k,0===N&&0>z*h,f,J.x,J.y);z=K;p=L}}H||(b.moveTo(m.x,m.y),this.Mq=m.x,this.Nq=m.y);e=.25*(E+p);g.Dd.arcTo.call(this,b,e,e,k,d,f,c[c.length-1].x+.5*G*I.x,c[c.length-1].y+.5*G*I.y)}},arcTo:function(b,c,d,e,h,f,g,k){var l=[],m=[];a.Ga.Math.yE(this.Mq,this.Nq,l,m,c,d,e,h,f,g,k);for(d=c=0;d<m.length;++d)"c"===m[d]?(b.bezierCurveTo(l[c],
l[c+1],l[c+2],l[c+3],l[c+4],l[c+5]),this.Mq=l[c+4],this.Nq=l[c+5],c+=6):(b.lineTo(l[c],l[c+1]),this.Mq=l[c],this.Nq=l[c+1],c+=2)}}})(window);
(function(a){function f(a){this.u=a.u;this.wa=a}function d(a,b){this.Zm=this.Ym=this.Xm=0;a&&b&&this.set(a,b)}function e(a){this.kb=a;this.el=null;this.Ij=!0;new d;this.Uf=this.vd=null}function b(a){var b=this;this.wa=a;this.Rz=!1;this.wa.on("annotationChanged.editbox",function(a,c,d){for(var e=0;e<c.length;++e){var h=c[e];"add"===d&&b.ju(h)?(b.TG(h),a.imported||(b.az(h),h.Pc.select())):"delete"===d&&h.Pc&&(h.Pc.remove(),delete h.Pc)}});this.wa.on("annotationDoubleClicked.editbox",function(a,c){b.wa.sc(c)&&
b.ju(c)&&(this.Rz&&c.Pc.val()!==c.fh()&&b.wa.iv(c,c.Pc.val()),b.az(c))})}function c(a){this.wa=a;this.Wi=[]}var k=window.o;k.ga=function(d){if(!d)throw Error("AnnotationManager requires DocumentViewer to initialize");var e=this;e.Zo="";e.ou=!1;e.readOnly=!1;e.oA=!1;e.IL=!1;e.Ux=!0;e.Vx=!0;e.u=d;e.Hb=[];e.ZM=[];e.ot=[];e.Ul=[];e.OB=!1;e.LL=[];e.Bt="";e.Vf=new c(e);e.$b=new f(e);e.cx=new b(e);e.hi=new a.o.sD(e);e.qf=new a.Annotations.K.kj(this);d.on("contentRemoved.annotManager",function(){e.Hb.forEach(function(a){a.trigger("contentRemoved")})});
e.AL={};e.Vg={line:[Annotations.qd],circle:[Annotations.hj],square:[Annotations.Hg],freetext:[Annotations.La],stamp:[Annotations.uj],text:[Annotations.Lf],ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.sj],polygon:[Annotations.Eg],strikeout:[Annotations.Rh],highlight:[Annotations.Mf],underline:[Annotations.xj],squiggly:[Annotations.wj],caret:[Annotations.fl],widget:[Annotations.Sh,Annotations.zg,Annotations.Cg,Annotations.Kh,Annotations.yg,Annotations.Lh,Annotations.Oh],link:[Annotations.Tc]};
e.controlPointSize=8;e.controlPointHitBoxScale=1};k.ga.prototype={dk:function(){return this.Zo},OI:function(a){this.Zo=a},cG:function(){return this.ou},XI:function(a){this.ou=a},au:function(){return this.readOnly},iJ:function(a){this.readOnly=a},tp:function(){return this.oA},hv:function(a){this.oA=a},Ep:function(){return this.OB},nv:function(a){this.OB=a},VC:function(a){this.bc(a)},Ch:function(){return this.Ux},iF:function(){this.Ux=!1},PB:function(){return this.Vx},kF:function(){this.Vx=!1;this.cx.disable()},
hJ:function(a){this.Ey=a},sc:function(a){return(this.Ey?this.Ey(a.Author,a):this.ou||a.Author===this.Zo||null===a.Author||"undefined"===typeof a.Author)&&!this.readOnly},oJ:function(a){this.zB=a},xi:function(){return this.qf},TA:function(a){a=a.map(Number);var b=[];this.Hb=this.Hb.filter(function(c){return-1!==a.indexOf(c.PageNumber)&&c.Jp?(b.push(c),c.Bv(),!1):!0});if(0<b.length){var c=this;setTimeout(function(){c.trigger("annotationChanged",[b,"delete"])},0)}},oI:function(a){var b=this;b.u.ik().Tu("AnnotationManager.layoutChanged",
{read:function(){},consolidateChanges:function(a){var b=a.filter(function(a){return"layoutChanged"===a.type});a=a.filter(function(a){return"pageDiff"===a.type});var c=[];if(b.length){var d=[],e={},h={};b.forEach(function(a){a.removed.forEach(function(a){var b=h[a];_.isUndefined(b)?d.push(a):d.push(b)});var b=Object.keys(a.moved),c;b.length&&(c=$.extend({},h),b.forEach(function(b){var d=a.moved[b];if(_.isUndefined(c[b]))e[b]=d,h[d]=b;else{var f=c[b];e[f]=d;delete h[b];h[d]=f}}))});c.push({type:"layoutChanged",
removed:d,moved:e})}if(a.length){var f=a.reduce(function(a,b){b.diffs.forEach(function(b){var c=b.before;b=b.after;a[c.id]?a[c.id].after=b:a[c.id]={before:c,after:b}});return a},{});c.push({type:"pageDiff",diffs:Object.keys(f).map(function(a){return f[a]})})}return c},write:function(a,c){c.forEach(function(a){if("layoutChanged"===a.type)b.TA(a.removed),b.Hb.forEach(function(b){var c=a.moved[b.PageNumber];c&&(b.PageNumber=c)});else if("pageDiff"===a.type){var c={};b.Hb.forEach(function(a){var b=a.Jb();
b in c?c[b].push(a):c[b]=[a]});a.diffs.forEach(function(a){var b=a.before;a=a.after;var d=c[a.pageNum];if(d){var e=new XODText.Na;e.pk(a.matrix);e.concat(b.fd.inverse());d.forEach(function(a){var b=a.ge(),c={x:b.x1,y:b.y1},b={x:b.x2,y:b.y2},c=e.W(c),b=e.W(b);a.sg({x1:c.x,y1:c.y,x2:b.x,y2:b.y})})}})}})}});a.on("layoutChanged",function(a,c){b.u.ik().le("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:c.removed,moved:c.moved})});a.on("pageDiff",function(a,c){b.u.ik().le("AnnotationManager.layoutChanged",
{type:"pageDiff",diffs:c})});a.on("pageContentChanged",function(a,c){b.u.ik().le("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:c,moved:{}})})},bc:function(b,c,d,e){var f=!1,k=b-1;if(isNaN(k))throw Error("Invalid page index given");var q=!!c,u=c||this.u.eh(k);if(u){var r=u.getContext("2d"),w=this.u.op(k+1);if(!q){var v=this.u.zm(k),x=v.width,v=v.height;if(90===w||270===w)var y=x,x=v,v=y;a.o.Ja.Ws(u,x,v)}if(this.tp())for(e=0;e<this.Hb.length;e++)v=this.Hb[e],v.Va()===k&&(y=this.$b.Yd(v))&&
y.Ij&&this.$b.Im(v);else{u=e||a.o.Ja.hu(k);x=[];for(e=0;e<this.Hb.length;e++)if(v=this.Hb[e],v.Va()===k)if(this.Ep()&&-1===v.Author.indexOf(this.Bt))!1===v.Fj&&(f=!0),v.Fj=!0,(y=this.$b.Yd(v))&&y.Ij&&this.$b.Im(v);else{!0===v.Fj&&(f=!0);v.Fj=!1;x.push(v);r.save();!0===v.NoZoom&&(r.translate(v.Ci(),v.Di()),q||(y=this.u.mb(v.Va()),r.scale(1/y,1/y),y=this.u.Ac(b),0<y&&(3===y?r.translate(v.xa(),0):2===y?r.translate(v.xa(),v.ua()):1===y&&r.translate(0,v.ua()),r.rotate(-1*y*Math.PI/2))));r.save();if(v.vI())v.Hidden||
!this.u.fm&&!v.bA()||(d&&v.render(u,this,this.u.mb(b-1)/a.utils.getCanvasMultiplier()),v.draw(r,w));else v.off("resourcesLoaded.annotManager").on("resourcesLoaded.annotManager",this.uG(v,b,c));r.restore();if(!q)if("undefined"!==typeof v.selectionModel){if(this.rk(v)&&!v.Le()&&!v.Hidden){var A=new v.selectionModel(v,this.sc(v)),y=this.u.mb(v.Va());!0===v.NoZoom&&(r.translate(-v.Ci(),-v.Di()),y=1);A.draw(r,v,y)}}else(v=this.Vf.UL(v))&&v.draw(r);r.restore()}f&&this.trigger("annotationFiltered",[this.Hb]);
q||this.$b.dK(x,r)}}},uG:function(a,b,c){var d=this;return function(){d.bc(b,c);a.off("resourcesLoaded")}},Tb:function(a){var b=a.Va();this.VC(a.PageNumber);!this.nh(a)&&(b=this.u.eh(b))&&(b=b.getContext("2d"),b.save(),a.draw(b),b.restore())},jJ:function(a){this.Tb=_.throttle(k.ga.prototype.Tb.bind(this),a)},iH:function(a){this.u.hA(a.Jb()-1,[{x4:a.jh(),y4:a.mh(),x2:a.Jz(),y2:a.jz()}])},OG:function(a){this.Sz([a])},Sz:function(a){a.forEach(function(a){a.Hidden=!0});this.de();this.ep(a);this.trigger("annotationHidden",
[a,!0])},zJ:function(a){this.tB([a])},tB:function(a){a.forEach(function(a){a.Hidden=!1});this.ep(a);this.trigger("annotationHidden",[a,!1])},CF:function(a){if(""===a){if(!this.Ep())return;this.nv(!1);this.Bt=""}else this.nv(!0),this.Bt=a;a=this.u.ba.Pd();for(var b=0;b<a.length;b++)this.bc(a[b]+1)},SJ:function(){this.tp()?this.hv(!1):this.hv(!0);for(var a=this.u.ba.Pd(),b=0;b<a.length;b++)this.bc(a[b]+1),this.u.Jm(a[b]);this.trigger("annotationToggled",[this.tp(),this.Hb,this.Ep()])},nh:function(a){return-1<
this.Hb.indexOf(a)},iv:function(a,b){a.Zi(b);this.trigger("annotationChanged",[[a],"modify"]);this.Ch()&&this.$b.rs(a)},Ug:function(a,b){this.Rj([a],b)},Rj:function(a,b){for(var c=0;c<a.length;++c){var d=a[c];0>=d.PageNumber&&console.warn("Invalid annotation PageNumber: "+d.PageNumber);this.nh(d)||(this.Hb.push(d),this.oB(d))}c=$.Event("annotationChanged");c.imported=b;this.trigger(c,[a,"add"])},YJ:function(a,b){this.oB(a);if(a.Le()){var c=this.Dm(a);this.$b.rs(a,c)}else this.trigger("setNoteText",
a);c=$.Event("annotationChanged");c.imported=b;this.trigger(c,[[a],"modify"])},oB:function(a){function b(){return(65536*(1+Math.random())|0).toString(16).substring(1)}a.Id||(a.Id=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b());a.Df&&a.Df(this.u);a.qh()&&a.nb(a.lb().value);if(this.Ch()){this.$b.createPopup(a);var c=a.vf();c&&(c.isOpen()?this.$b.BJ(a):this.$b.Im(a))}},rv:function(a){function b(a,c){return c.DateCreated-a.DateCreated}var c=[],d;for(d=0;d<a.length;++d){var e=a[d];if(e instanceof Annotations.Annotation)if(e.Le()){var f=
this.ck(e.InReplyTo);f&&f.ji(e)}else c.push(e)}for(d=0;d<c.length;++d)if(a=c[d],0!==a.Cm().length)for(e=[],e.push({Tl:a,rt:null});0<e.length;){var k=e.pop(),f=k.Tl;null!==k.rt&&this.$b.ji(f,k.rt,a);for(var k=f.Cm().sort(b),u=0;u<k.length;++u)e.push({Tl:k[u],rt:f})}},wJ:function(a){if(a.Le()){var b=this.ck(a.InReplyTo);b.ji(a);this.$b.ji(a,b,this.Dm(a))}},Dm:function(a){for(;null!==a&&a.Le();)a=this.ck(a.InReplyTo);return a},xy:function(a,b){var c=new Annotations.Lf;c.InReplyTo=a.Id;c.X=a.X;c.Y=a.Y;
c.PageNumber=a.PageNumber;c.Author=this.dk();c.Zi(b||"");a.ji(c);this.Ug(c);this.$b.ji(c,a,this.Dm(a));return c},measureText:function(a,b){var c=$("#text-width-tester");a=a.split("\n").join("<br>&nbsp;");c.length?c.css({font:b}).html(a):(c=$('<span id="text-width-tester" style="display:none;font:'+b+';">'+a+"</span>"),$("body").append(c));return{width:c.width(),height:c.height()}},XJ:function(a){this.nh(a)&&this.bc(a.Jb())},oi:function(a,b,c){this.mt([a],b,c)},mt:function(a,b,c){var d=this,e={};if(!b&&
this.au())this.u.trigger("notify","readOnlyDelete");else{var f=[],k=!1;a=a.slice();for(var u=0;u<a.length;u++){var r=a[u];r.Bv();if(this.nh(r))if(c||b||this.sc(r)){this.Vf.am(r);this.trigger("annotationSelected",[[r],"deselected"]);var w=this.Hb.splice(this.Hb.indexOf(r),1);f.push(w[0]);r.IsAdded||b||this.ot.push(w[0]);this.$b.fF(r);r.Le()&&(this.$b.nt(r),this.ck(r.InReplyTo).nt(r));r.Cm().forEach(function(a){d.$b.rs(a);a.InReplyTo=null;d.rv([a])});e[r.Jb()]=!0}else k=!0;else e[r.Jb()]=!0}0<f.length&&
(c=$.Event("annotationChanged"),c.imported=b,this.trigger(c,[f,"delete"]));k&&this.u.trigger("notify","permissionDelete");$.each(e,function(a){d.bc(a)})}},$J:function(){if(!this.readOnly){this.Ul=[];for(var a=this.Ee(),b=0;b<a.length;b++)if(!(a[b]instanceof Annotations.Vc)){var c=this.Nt(a[b]);this.Ul.push(c)}this.Un=0}},RH:function(){if(!this.readOnly&&"undefined"!==typeof this.Un){this.Un++;for(var a=[],b=0;b<this.Ul.length;b++){var c=this.Nt(this.Ul[b]);a.push(c);var d=this.u.gh(),e=this.u.v.Qb(d-
1),f=this.u.v.Pb(d-1),e=new Annotations.Rect(0,0,e,f),f=c.ge();c.Jb()===d?f.translate(5*this.Un,5*this.Un):c.hB(d);f.Ct(e);c.resize(f)}this.Rj(a);this.Ul=a;this.de();this.Zu(a)}},Nt:function(a){function b(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var c=this.rG(a);if(null===c)return null;var d=a.Va(),d=this.u.De(d),e=d.inverse(),f=document.createElementNS("",a.elementName),f=a.serialize(f,e);a=new c;a.deserialize(f,d);a.Id=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b();a.Author=
this.Zo;a.DateCreated=new Date;a.DateModified=new Date;a.IsAdded=!0;a.IsModified=!1;$(a).data("popup",null);return a},LF:function(a){return a.kb},Et:function(a){this.Ch()&&(a=this.$b.Yd(a),$(a.el).find(".popup-comment").focus())},rk:function(a){return this.Vf.hy(a)},Mk:function(a){!this.nh(a)||a instanceof Annotations.Ta||(this.Vf.Mk(a),this.bc(a.Jb()),this.trigger("annotationSelected",[[a],"selected"]))},Zu:function(a){var b=[],c={};if(a&&$.isArray(a)){for(var d=0;d<a.length;d++){var e=a[d];!this.nh(e)||
e instanceof Annotations.Ta||(this.Vf.Mk(e),c[e.Jb()]=e.Jb(),b.push(e))}var f=this;$.each(c,function(a){f.bc(a)})}0<b.length&&this.trigger("annotationSelected",[b,"selected"])},de:function(){if(0!==this.Ee().length){this.Vf.de();for(var a=this.u.ba.Pd(),b=0;b<a.length;b++)this.bc(a[b]+1);this.trigger("annotationSelected",[null,"deselected"])}},am:function(a){this.Vf.am(a);this.bc(a.Jb());this.trigger("annotationSelected",[[a],"deselected"])},Ee:function(){return this.Vf.Ee()},dh:function(){return this.Hb},
ck:function(a,b){b=b||this.Hb;if(_.isUndefined(a)||_.isNull(a))return null;for(var c=0;c<b.length;c++)if(b[c].Id===a)return b[c];return null},gz:function(a,b){if(_.isUndefined(a)||_.isNull(a))return[];for(var c=[],d=0;d<this.Hb.length;d++)this.Hb[d].Id===a&&c.push(this.Hb[d]);return _.isUndefined(b)?c:c.filter(function(a){return a.PageNumber-1===b})},Mt:function(a){a=this.hz(a);return 0<a.length?a[0]:null},hz:function(a){var b=new window.Ca.Tool(this.u);b.mouseLeftDown(a);a=b.pageCoordinates[0];b=
[];if(null!==a)for(var c=this.dh(),d=c.length-1;0<=d;d--){var e=c[d];if(e.selectionModel&&!e.Le()&&!e.Hidden&&e.Jb()-1===a.pageIndex){var f=this.u.mb(e.Va()),k=this.rk(e),u=new e.selectionModel(e,this.sc(e),k);u.testSelection(e,a.x,a.y,f)?b.push(e):k&&u.Qq(e,f,a.x,a.y)&&b.push(e)}}return b},nz:function(a,b){return this.Vf.nz(a,b)},Sq:function(a){return this.cx.ju(a)&&this.PB()?(this.$b.Im(a),!1):this.$b.Sq(a)},zF:function(a){return this.hi.hD(a)},Lt:function(){return this.hi.Lt()},Qz:function(a){return"string"===
typeof a?(new DOMParser).parseFromString(a,"text/xml"):a},QG:function(a){a=this.Qz(a);a=this.hi.tC(a);this.rv(a);return a},lu:function(a,b,c){b=b||function(){};var d=this;a=this.Qz(a);this.hi.uC(a,function(a){d.ap?b([]):(a=a.Es,d.rv(a),d.u.ik().le("DocumentViewer.renderRequest",{type:"annotations",pages:_.uniq(a.map(function(a){return a.Jb()-1}))}),b(a))},c&&c.Jp)},ku:function(a){a=(new DOMParser).parseFromString(a,"text/xml");a=this.hi.ku(a);var b=[];a.Ko&&(b=b.concat(a.Ko),0<a.Ko.length&&this.wJ(a.Ko[0]));
a.Iy&&(b=b.concat(a.Iy));a.Au&&(b=b.concat(a.Au));return b},ep:function(a){a=_.uniq(a.map(function(a){return a.PageNumber}));for(var b=0;b<a.length;b++)this.bc(a[b],void 0,!0)},eC:function(){this.ap=!0;this.off();this.u.off("contentRemoved.annotManager");this.dh().forEach(function(a){a.off();var b=$(a),c=b.data("popup");c&&$(c.el).remove();b.removeData("popup");a.Pc&&a.Pc.off();a.innerElement&&a.innerElement.off();a.element&&a.element.off()});this.qf.Kc()},nI:function(a,b){if("string"!==typeof a||
!b)return!1;"undefined"===typeof this.Vg[a]&&(this.Vg[a]=[]);this.Vg[a].push(b);return!0},hF:function(a,b){if("string"!==typeof a||!b)return!1;this.Vg[a]=$.grep(this.Vg[a],function(a){return a!==b});return!0},sG:function(){return this.Vg},rG:function(a){if(!a||!a.elementName)return null;var b=this.Vg[a.elementName];if(b&&0<b.length)for(var c=0;c<b.length;c++){var d=b[c];if(a instanceof d)return d}return null},MI:function(a,b){a instanceof Annotations.Hg&&(a.Style=b,this.Tb(a))}};$.extend(k.ga.prototype,
a.utils.eventHandler);c.prototype={Mk:function(a){this.hy(a)||this.Wi.push(a)},am:function(a){this.Wi=$.grep(this.Wi,function(b){return b!==a})},de:function(){this.Wi=[]},hy:function(a){for(var b=0;b<this.Wi.length;b++)if(a===this.Wi[b])return!0;return!1},Ee:function(){return this.Wi.slice()}};b.prototype={disable:function(){this.wa.off("annotationChanged.editbox");this.wa.off("annotationDoubleClicked.editbox")},ju:function(a){return a instanceof Annotations.La},TG:function(a){var b=this.wa;a.Pc=
$('<textarea class="freetext">');a.Pc.on("blur",function(){b.iv(a,a.Pc.val());a.Pc.hide();b.ep([a])});a.Pc.on("mousedown",function(a){a.stopPropagation()})},az:function(b){this.Rz=!0;a.o.Ja.hu(b.Va()).append(b.Pc);var c=parseFloat(b.FontSize)||12,d=b.St(),e=this.wa.u.mb(b.Va())/a.utils.getCanvasMultiplier(),c=c*e*.75+d,d=b.Kt()*e,f=b.getPath().slice(3,5),k=f[0].x*e,q=Math.min(f[0].y,f[1].y)*e,u=Math.abs(f[1].x-f[0].x)*e,f=Math.abs(f[1].y-f[0].y)*e,r=360-b.Rotation;if(90===r||270===r)var w=u,u=f,f=
w;var v=w=0;switch((360-r)%360){case 90:v=u;break;case 180:w=u;v=f;break;case 270:w=f}w="translate("+w+"px,"+v+"px) rotate("+r+"deg)";r=Math.abs(r%360/90);r===a.o.sa.Ae?(k+=d,q+=d):r===a.o.sa.bd?(k-=d,q+=d):r===a.o.sa.si?(k-=d,q-=d):r===a.o.sa.Ld&&(k+=d,q-=d);r=1>b.FillColor.A?new Annotations.Color(255,255,255):b.FillColor;b.Pc.css({top:q,left:k,width:u-2*d,height:f-2*d,font:c+" "+b.Font,color:b.TextColor.toString(),background:r.toString(),transform:w,"transform-origin":"top left","line-height":a.utils.ie?
1:"normal","padding-top":a.utils.ie?Math.max(1,1+1.5*(e-1)):0});b.Pc.val(b.fh()||"");this.AJ(b)},AJ:function(a){a.Pc.show().focus()}};e.prototype={hide:function(){this.el&&($(this.el).hide(),this.Ij=!1,this.kb.IsAdded||(this.kb.IsModified=!0))},show:function(){this.el&&($(this.el).show(),this.Ij=!0,this.kb.IsAdded||(this.kb.IsModified=!0))},update:function(b,c){var d=this.el.getBoundingClientRect(),e=$(this.el).position(),d={x:e.left+d.width/2,y:e.top+d.height/2},e=this.kb.Va(),f=c.mb(e),d=a.Ga.Math.CI(d,
1/f,1/f),f=c.Ac(e+1),k=c.getDocument().Lc(e),q=k.width,k=k.height;1===f?d=a.Ga.Math.Av(d,-k,0):2===f?d=a.Ga.Math.Av(d,-q,-k):3===f&&(d=a.Ga.Math.Av(d,0,-q));d=a.Ga.Math.Ah(d,-1*f*Math.PI/2);e=this.kb.NoZoom?c.mb(e):1;f=new Annotations.Rect(this.kb.jh(),this.kb.mh(),this.kb.jh()+this.kb.xa()/e,this.kb.mh()+this.kb.ua()/e);(new this.kb.selectionModel(this.kb)).drawPopupTail(b,this.kb,e,f,d)},Xw:function(){var a=$('<div class="popup-header"/>').append('<div class="popup-subject">'+this.kb.Subject+"</div>"),
b=$('<div class="popup-comment-container">').append(this.Ww(this.kb)),a=$('<div class="popup" style="width:200px;height:100px;padding-bottom:8px" />').append('<div class="popup-minimize-button ui-icon ui-icon-minus"/>').append('<div class="popup-handle"/>').append(a).append(b);this.el=a.get(0);return a},Ww:function(a,b){b=b||0;var c=$('<textarea class="popup-comment" />').val(a.fh());c.data("id",a.Id);var d=$("<div>").addClass("replyButton glyphicons unshare"),e=Annotations.fa.toDateString(a.DateCreated);
a.Author&&(e=a.Author+": "+e);e=$("<div>").addClass("popup-text").text(e);c=$("<div>").css("padding-left",b).append(d).append(e).append(c);0!==b&&(d=$("<div>").addClass("deleteButton glyphicons circle_remove"),c.prepend(d));return c}};d.prototype={set:function(b,c){var d=0,e,f;e=Math.abs(b.x1-b.x2);var k=Math.abs(b.y1-b.y2);c.x>=b.x1+.5*e&&c.y<b.y1+.5*k?d={x:b.x1+e,y:b.y1}:c.x<b.x1+.5*e&&c.y<b.y1+.5*k?d={x:b.x1,y:b.y1}:c.x<b.x1+.5*e&&c.y>=b.y1+.5*k?d={x:b.x1,y:b.y1+k}:c.x>=b.x1+.5*e&&c.y>=b.y1+.5*
k&&(d={x:b.x1+e,y:b.y1+k});k=a.Ga.Math.lp(d,c);f=a.Ga.Math.Wt(d,c);e={x:d.x+f,y:d.y-5};f={x:d.x+f,y:d.y+5};e=a.Ga.Math.Ah(e,k,d);f=a.Ga.Math.Ah(f,k,d);this.Xm=d;this.Ym=e;this.Zm=f},draw:function(a){a.strokeStyle="rgba(0,0,0,0.8)";a.beginPath();a.moveTo(this.Xm.x,this.Xm.y);a.lineTo(this.Ym.x,this.Ym.y);a.lineTo(this.Zm.x,this.Zm.y);a.closePath();a.stroke();a.fillStyle="rgba(255, 255, 0, 0.7)";a.beginPath();a.moveTo(this.Xm.x,this.Xm.y);a.lineTo(this.Ym.x,this.Ym.y);a.lineTo(this.Zm.x,this.Zm.y);
a.closePath();a.fill()}};f.prototype={Yd:function(a){return $(a).data("popup")},rs:function(a,b){this.wa.trigger("setNoteText",[a,b]);if(this.wa.Ch()){var c=this.nx(a,b).children(".popup-comment");c.val(a.fh());c.trigger("updateHeight")}},nx:function(a,b){var c=this.Yd(b||a),d=null;$(c.el).find(".popup-comment").each(function(){var b=$(this);if(b.data("id")===a.Id)return d=b.parent(),!1});return d},Qx:function(a,b){var c=this,d=c.wa.sc(b);a.prop("readonly",!d).off("keyup").on("keyup",function(a){b.Zi(a.target.value);
b instanceof Annotations.La&&c.wa.Tb(b);c.wa.trigger("annotationChanged",[[b],"modify"])});var e=a.parent().find(".replyButton"),f=a.parent().find(".deleteButton");d||f.remove();c.wa.au()?e.remove():(e.off("click").on("click",function(){c.wa.xy(b)}),f.off("click").on("click",function(){c.wa.oi(b)}))},zD:function(a){var b=this;a&&!a.el&&a.Xw();var c=$(a.el),d=a.kb;c.find(".popup-minimize-button").click(function(){b.Sq(a.kb)});var e=c.find(".popup-comment");this.Qx(e,d);e=a.kb.PageNumber-1;"undefined"!==
typeof c.draggable&&null!==c.draggable&&c.draggable({containment:$("#pageContainer"+e),cancel:".popup-comment-container",drag:function(){d.IsAdded||(d.IsModified=!0);b.wa.bc(d.Jb())},stop:function(){var e=d.vf(),f=b.u.mb(d.Va());e.X=parseFloat(c.css("left"))/f;e.Y=parseFloat(c.css("top"))/f;e.Width=parseFloat(c.css("width"));e.Height=parseFloat(c.css("height"));b.wa.trigger("annotationChanged",[[a.kb],"modify"])}});if("undefined"!==typeof c.resizable&&null!==c.resizable){var f=c.find(".popup-comment-container");
c.resizable({minWidth:80,minHeight:80,alsoResize:f,resize:function(){d.IsAdded||(d.IsModified=!0);b.wa.bc(d.Jb());var a=c.find(".popup-comment");if(1===a.length){var e=c.find(".popup-text").height();a.css({"min-height":f.height()-e-7})}},stop:function(){var e=d.vf(),f=b.u.mb(d.Va);e.X=parseFloat(c.css("left"))/f;e.Y=parseFloat(c.css("top"))/f;e.Width=parseFloat(c.css("width"));e.Height=parseFloat(c.css("height"));b.wa.trigger("annotationChanged",[[a.kb],"modify"]);c.find(".popup-comment").trigger("updateHeight")}})}c.on("mousedown",
function(a){a.stopPropagation()})},createPopup:function(b){if(b.oh){var c=this.Yd(b);c||(c=new e(b),$(b).data("popup",c));var d=this.u.mb(b.Va());c.vd=d;c.Uf=this.u.Ac(b.PageNumber);var f=!1,k=b.vf(),n;if(null===c.el){f=!0;n=c.Xw();this.zD(c);var q=$("#pageContainer"+b.Va());if(!k){k=new Annotations.Fg;b.lv(k);var u=this.wA({x:b.Ci(),y:b.Di()},c.vd,c.Uf,b.Va());k.X=a.Ga.Math.Wo(u.left-150,0)/d;k.Y=a.Ga.Math.Wo(u.top-150,0,q.innerHeight()-n.outerHeight())/d;k.Width=parseFloat(n.css("width"));k.Height=
parseFloat(n.css("height"));(b instanceof Annotations.Lf||b instanceof Annotations.Rh)&&k.Qk(!0)}n.appendTo(q)}else n=$(c.el);n.css({position:"absolute",left:k.X*d,top:k.Y*d,width:k.Width,height:k.Height});d=n.find(".popup-comment");q=d.first();q.val(b.fh());0<k.Width&&0<k.Height&&(u=n.find(".popup-comment-container"),u.css({height:k.Height-34,width:""}),0===b.Cm().length&&(k=n.find(".popup-text").height(),q.css({"min-height":u.height()-k-7})));f&&this.wa.trigger("annotationPopupCreated",[b,n,q]);
d.trigger("updateHeight");this.wa.u.fm||c.hide();return c}},Sq:function(a){if(!a.oh)return!1;var b=!1,c=this.Yd(a);if(!c)return b;if(!this.wa.u.fm)return c.hide(),b;c.Ij?c.hide():(c.show(),b=!0);a.IsModified=!0;a.vf().Qk(b);this.wa.trigger("annotationPopupStateChanged",[a,$(c.el),b]);this.wa.trigger("annotationChanged",[[a],"modify"]);this.wa.bc(a.Jb());return b},Im:function(a){if(a.oh){var b=this.Yd(a);b&&b.hide();var c=a.vf();c&&c.Qk(!1);b&&this.wa.trigger("annotationPopupStateChanged",[a,$(b.el),
!1])}},BJ:function(a){if(a.oh){var b=this.Yd(a);b&&b.show();a.vf().Qk(!0);this.wa.trigger("annotationPopupStateChanged",[a,$(b.el),!0])}},fF:function(a){if(a.oh){var b=this.Yd(a);if(b){var b=$(b.el),c=b.find(".popup-comment-container .popup-comment");this.wa.trigger("annotationPopupDeleted",[a,b,c]);b.remove()}}},dK:function(a,b){var c;if(this.wa.Ch())for(var d=0;d<a.length;d++)if(a[d].oh&&(c=this.Yd(a[d]),c.Ij)){if(!$(c.el).closest("html").length){var e=a[d].Va(),f=$("#pageContainer"+e),k=$(c.el);
k.draggable({containment:f});var u={left:parseFloat(k.css("left")),top:parseFloat(k.css("top"))},u=this.$E(u,c.vd,c.Uf,e);c.vd=this.u.mb(e);c.Uf=this.u.Ac(e+1);e=this.wA(u,c.vd,c.Uf,e);k.css({left:e.left,top:e.top});k.appendTo(f)}c.update(b,this.u)}},ji:function(a,b,c){this.wa.trigger("addReply",[a,b,c]);if(this.wa.Ch()){var d=this.Yd(c),e=$(d.el);e.find(".popup-comment-container").find(".popup-comment").css("min-height","");b=this.nx(b,c);d=d.Ww(a,10);b.append(d);d=d.find(".popup-comment");this.Qx(d,
a);this.Im(a);a.IsModified=!1;this.wa.trigger("annotationPopupCreated",[a,e,d])}},nt:function(a){if(a.oh){var b=this.wa.Dm(a);this.wa.trigger("deleteReply",[a,b]);if(this.wa.Ch()){var c=this,b=this.Yd(b),d=$(b.el);d.find(".popup-comment").each(function(){var b=$(this);if(b.data("id")===a.Id)return c.wa.trigger("annotationPopupDeleted",[a,d,b.parent().find(".popup-comment")]),b.removeData("id"),b.parent().remove(),!1})}}},$E:function(b,c,d,e){var f=this.u.Qb(e);e=this.u.Pb(e);var k=b.left/c;b=b.top/
c;var q,u;switch(d){case a.o.sa.Ae:q=k;u=b;break;case a.o.sa.bd:q=b;u=e-k;break;case a.o.sa.si:q=f-k;u=e-b;break;case a.o.sa.Ld:q=f-b,u=k}return{x:q,y:u}},wA:function(b,c,d,e){var f=this.u.Qb(e)*c;e=this.u.Pb(e)*c;b.x*=c;b.y*=c;var k,q;switch(d){case a.o.sa.Ae:k=b.x;q=b.y;break;case a.o.sa.bd:k=e-b.y;q=b.x;break;case a.o.sa.si:k=f-b.x;q=e-b.y;break;case a.o.sa.Ld:k=b.y,q=f-b.x}return{left:k,top:q}}}})(window);
(function(a){var f={kM:function(a,e){return{x:a,y:e}},nA:function(a,e,b,c){return null===a||null===e||null===b||null===c?null:{x1:a,y1:e,x2:a+b,y2:e+c}},CM:function(a,e){if(!e||!a)return!1;var b,c;"undefined"!==typeof e.x1&&"undefined"!==typeof e.y1&&"undefined"!==typeof e.x2&&"undefined"!==typeof e.y2||console.warn("rect points are undefined");b=a.x>=e.x1&&a.x<=e.x2;c=a.y>=e.y1&&a.y<=e.y2;return b&&c},jI:function(a,e){return a&&e?a.x1<=e.x2&&a.x2>=e.x1&&a.y1<=e.y2&&a.y2>=e.y1?!0:!1:!1},vM:function(d,
e,b,c,f,h){var g=h.u.v.Qb(f),l=h.u.v.Pb(f);d=a.Ga.TH(d,e,b,c,h.u.De(f));l={x:Math.min(d.x+d.w,g),y:Math.min(d.y+d.he,l)};g=h.u.ba.gd({x:Math.max(d.x,0),y:Math.max(d.y,0)},f);l=h.u.ba.gd(l,f);d=h.u.zm(f);"undefined"!==typeof d.ec&&null!==d.ec?(g.x-=d.ec,g.y-=d.nd,l.x-=d.ec,l.y-=d.nd):(f=h.u.ba.hk(f),g.x-=f.x,g.y-=f.y,l.x-=f.x,l.y-=f.y);return{x:Math.floor(Math.min(g.x,l.x)),y:Math.floor(Math.min(g.y,l.y)),w:Math.floor(Math.abs(l.x-g.x)),he:Math.floor(Math.abs(l.y-g.y))}},bN:function(a,e,b,c,f,h){var g=
h.u.v.Qb(f),l=h.u.v.Pb(f);b={x:Math.min(b,g),y:Math.min(c,l)};a=h.u.ba.gd({x:Math.max(a,0),y:Math.max(e,0)},f);e=h.u.ba.gd(b,f);b=h.u.zm(f);"undefined"!==typeof b.ec&&null!==b.ec?(a.x-=b.ec,a.y-=b.nd,e.x-=b.ec,e.y-=b.nd):(f=h.u.ba.hk(f),a.x-=f.x,a.y-=f.y,e.x-=f.x,e.y-=f.y);return{x:Math.floor(Math.min(a.x,e.x)),y:Math.floor(Math.min(a.y,e.y)),w:Math.floor(Math.abs(e.x-a.x)),he:Math.floor(Math.abs(e.y-a.y))}},TH:function(a,e,b,c,f){a=f.W(new XODText.gc(a,e));b=f.W(new XODText.gc(b,c));return{x:Math.min(a.x,
b.x),y:Math.min(a.y,b.y),w:Math.abs(a.x-b.x),he:Math.abs(a.y-b.y)}},wM:function(a,e,b,c,k){return f.RJ(Math.min(a,b),Math.max(e,c),Math.abs(a-b),Math.abs(e-c),k)},RJ:function(a,e,b,c,f){var h=96/72;return{x:h*a,y:f-h*e,w:h*b,he:h*c}},cN:function(a,e,b,c,f){c=new XODText.gc(a,e+c);a=new XODText.gc(a+b,e);f=f.inverse();c=f.W(c);f=f.W(a);return{x1:c.x,y1:c.y,x2:f.x,y2:f.y}},dN:function(a,e,b,c,k){return f.QJ(.75*a,.75*(k-e),.75*b,.75*c)},QJ:function(a,e,b,c){return{x1:a,y1:e-c,x2:a+b,y2:e}},Math:{kH:function(a,
e,b,c){function f(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)}return f(a,b,c)!==f(e,b,c)&&f(a,e,b)!==f(a,e,c)},lp:function(a,e){var b=Math.atan(Math.abs(a.y-e.y)/Math.abs(a.x-e.x));e.x<a.x&&e.y>a.y?b=Math.PI-b:e.x<=a.x&&e.y<a.y?(b=Math.PI-b,b*=-1):e.x>=a.x&&e.y<a.y&&(b*=-1);return b},Wt:function(a,e){return Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2))},Ah:function(a,e,b){b=b||{x:0,y:0};var c=a.x-b.x;a=a.y-b.y;return{x:Math.cos(e)*c-Math.sin(e)*a+b.x,y:Math.sin(e)*c+Math.cos(e)*a+b.y}},
Av:function(a,e,b){return{x:a.x+(e||0),y:a.y+(b||0)}},CI:function(a,e,b){return{x:a.x*(e||0),y:a.y*(b||0)}},Wo:function(a,e,b){b=void 0!==b?b:Infinity;e=void 0!==e?e:-Infinity;return Math.max(Math.min(a,b),e)},yt:function(a,e,b){return Math.abs(a-e)<(b||.01)},KF:function(a,e){return Math.atan2(e,a)},qG:function(a){if(!(3>a.length)){for(var e=a[0],b=0,c=1;c<a.length;c++)var f=a[c],b=b+(f.x-e.x)*(f.y+e.y),e=f;return 0<=b?1:-1}},SE:function(a){for(var e=[],b=0;b<a.length;b++)e.push({x:a[b].x,y:a[b].y});
return e},Pu:function(a){var e=Math.abs(a[a.length-1].y-a[0].y);return 1.2358E-4<Math.abs(a[a.length-1].x-a[0].x)&&1.2358E-4<e?!0:!1},Vi:function(a){var e=Math.cos(a);a=Math.sin(a);return{m_a:e,m_b:-a,m_c:a,m_d:e,m_h:0,m_v:0}},translate:function(a,e,b){a.m_h+=e;a.m_v+=b;return a},W:function(a,e,b){return{x:e*a.m_a+b*a.m_c+a.m_h,y:e*a.m_b+b*a.m_d+a.m_v}},yE:function(a,e,b,c,f,h,g,l,m,p,n){0>f&&(f=-f);0>h&&(h=-h);var q=(a-p)/2,u=(e-n)/2,r=Math.cos(g),w=Math.sin(g),v=r*q+w*u,q=-w*q+r*u,u=f*f,x=h*h,y=
v*v,A=q*q,B=y/u+A/x;1<B&&(f*=Math.sqrt(B),h*=Math.sqrt(B),u=f*f,x=h*h);if(B=u*A+x*y){u=(u*x-u*A-x*y)/B;l=(l===m?-1:1)*Math.sqrt(0>u?0:u);x=f*q/h*l;y=l*-(h*v/f);l=(a+p)/2+(r*x-w*y);r=(e+n)/2+(w*x+r*y);w=(v-x)/f;u=(q-y)/h;x=(-v-x)/f;q=(-q-y)/h;y=Math.sqrt(w*w+u*u);v=(0>u?-1:1)*Math.acos(w/y);y=Math.sqrt((w*w+u*u)*(x*x+q*q));u=(0>w*q-u*x?-1:1)*Math.acos(Math.max(Math.min((w*x+u*q)/y,1),-1));!m&&0<u?u-=2*Math.PI:m&&0>u&&(u+=2*Math.PI);q=[];w=!1;if(1E-9>Math.abs(u))m=4,w=!0,q[0]=f*Math.cos(v),q[1]=h*Math.sin(v),
q[2]=f*Math.cos(v+u),q[3]=h*Math.sin(v+u);else{x=0;m=2;A=!1;do{0>u?(B=x,y=.5*-Math.PI,x-=.5*Math.PI,x<=u+.01&&(y=u-B,A=!0)):(B=x,y=.5*Math.PI,x+=.5*Math.PI,x>=u-.01&&(y=u-B,A=!0));var E=Math.cos(y/2),M=Math.sin(y/2),z=4*(1-E)/3,H=M-z*E/M,B=[],G=[];B[0]=E;G[0]=-M;B[1]=E+z;G[1]=-H;B[2]=E+z;G[2]=H;B[3]=E;G[3]=M;E=Math.sin(v+y/2);M=Math.cos(v+y/2);for(z=0;4>z;z++)q[m-2+2*z]=f*(B[z]*M-G[z]*E),q[m-1+2*z]=h*(B[z]*E+G[z]*M);m+=6;v+=y}while(!A&&26>m)}f=this.Vi(-g);this.translate(f,l,r);for(h=2;h<m-2;h+=2)g=
void 0===q[h]?this.W(f,0,0):this.W(f,q[h],q[h+1]),q[h]=g.x,q[h+1]=g.y;q[0]=a;q[1]=e;2<m&&(q[m-2]=p,q[m-1]=n);if(w)c.push("l"),c.push("l"),b.push(q[0]),b.push(q[1]),b.push(q[2]),b.push(q[3]);else for(c.push("l"),b.push(q[0]),b.push(q[1]),a=2;a<m;a+=6)c.push("c"),b.push(q[a]),b.push(q[a+1]),b.push(q[a+2]),b.push(q[a+3]),b.push(q[a+4]),b.push(q[a+5])}},ZE:function(a,e){return a.x*e.y-a.y*e.x},oM:function(a){return 1E4*(a+2*Math.PI)%2*Math.PI*1E4/1E4}}};a.Ga=f})(window);
(function(a){function f(a){if(!a)throw Error("XfdfManager requires AnnotationManager to initialize");this.ac=a}function d(a,c){this.Gv=a;this.gp=c||function(){return!0}}String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();d.prototype.Wm=function(a,c,d){a=this.Gv;a.writeStartElement("field");a.writeAttributeString("name",e.escape(c));c=d.value;_.isNull(c)||(a.writeStartElement("value"),a.writeString(e.escape(c)),
a.writeEndElement());a.writeEndElement()};d.prototype.hq=function(a,c,d){a=e.escape(c);c=this.Gv;d.value&&(c.writeStartElement("field"),c.writeAttributeString("name",a),c.writeStartElement("value"),c.writeString(e.escape(d.value)),c.writeEndElement(),c.writeEndElement());c.writeStartElement("field");c.writeAttributeString("name",a)};d.prototype.Iu=function(){this.Gv.writeEndElement()};f.prototype={ky:function(a){return a&&0<a.getElementsByTagName("annots").length?(e.sz(a,"link"),e.sz(a,"widget"),
a.getElementsByTagName("annots")[0].childNodes):[]},Pt:function(a){return a?a.querySelector("xfdf > fields"):null},Az:function(a){return a&&(a=a.getElementsByTagName("pdf-info"),0<a.length)?a[0]:null},ay:function(b,c,d){var e=this;a.$e.parse(new a.Vd(b),function(a){return e.ac.u.De(a-1)},function(a){var b=e.ac,d=b.qf,f=b.u;if(f.getDocument()){d.NI(a.calculationOrder);var k=a.fields;Object.keys(k).forEach(function(a){var b=k[a],c=d.xp(b.name);b.ld(c.Ka());d.Io(k[a],!0)});b.Rj(a.widgets,!0);f=f.getDocument();
f.Ho(a.documentActions);for(var b=a.pages,f=f.sb(),q=0;q<b.length;++q){var u=b[q],r=Number(u.number);0<r&&r<f.length+1?f[r-1].Ho(u.actions):console.warn("Invalid page number on PDFInfo page:",r)}c(a)}},d)},tC:function(b,c){function d(){var a=e.Az(b);a&&e.ay(a,function(a){m=a.widgets},!0)}var e=this,f=this.ky(b,c),l=this.Pt(b);l&&this.Bs(new a.Vd(l),d,!0);var m=[];return null!==f?m.concat(this.br(f,!0,c)):m},uC:function(b,c,d){function e(){var a=f.Az(b);a?f.ay(a,function(a){f.Zx(l,function(b){b.Es=
b.Es.concat(a.widgets);c(b)},d)}):f.Zx(l,function(){c.apply(this,arguments)},d)}var f=this,l=this.ky(b),m=this.Pt(b);m?this.Bs(new a.Vd(m),e,!1):e()},ku:function(b){var c={};if(b){var d=this.Pt(b);d&&this.Bs(new a.Vd(d),function(){},!0);var d=b.getElementsByTagName("add"),e=b.getElementsByTagName("modify");b=b.getElementsByTagName("delete");0<d.length&&(c.Ko=this.br(d[0].childNodes,!0));0<b.length&&(c.Iy=this.dC(b[0]));0<e.length&&(c.Au=this.AC(e[0].childNodes))}return c},dC:function(a){var c=[];
a=a.getElementsByTagName("id");for(var d=0;d<a.length;++d){var e=this.ac.ck(a[d].textContent);e&&(c.push(e),this.ac.oi(e,!0))}return c},AC:function(a){return this.br(a,!0)},br:function(a,c){var d=[];this.Yx(a,d,0,a.length,c);return d},Ug:function(a,c,d,e,f){var l=this.ac,m=null,p=!1,n=l.Vg[a];if(n)for(var q=c.getAttribute("page"),q=parseInt(q,10),q=l.u.De(q),u=0;u<n.length;u++){if(n[u].prototype.Xf(c)){m=null;if(d){d=c.getAttribute("name");var r=parseInt(c.getAttribute("page"),10),m=this.ac.gz(d,
r)[0];if(!m&&this.ac.gz(d,r,e)[0])break}if(!m){var w;"widget"===a&&(a=c.getAttribute("title"),w=l.qf.xp(a));m=new n[u](w);p=!0}try{m.isImporting=!0,m.deserialize(c,q,l),m.Jp=f,m.isImporting=!1}catch(v){console.warn("Error parsing annotation");p=!1;m=null;break}p||l.YJ(m,!0);m.IsAdded=!1;m.IsModified=!1;break}}else console.warn("Unsupported annotation type.",a);return{Tl:m,yJ:p}},Yx:function(a,c,d,f,g,l){for(var m=[];d<f;++d)if(a[d].nodeType===Node.ELEMENT_NODE){var p=this.Ug(e.Vt(a[d]),a[d],g,c,l),
n=p.Tl;n&&(c.push(n),p.yJ&&m.push(n))}0<m.length&&(this.ac.Rj(m,!0),m.forEach(function(a){a.IsAdded=!1;a.IsModified=!1}))},Bs:function(b,c,d){function e(a){var c=b.J("name");if(!c)return console.warn("Invalid field name part:",c,b.current),null;a=a?a+"."+c:c;var c={name:a},d=[c],f=null;for(b.ka();b.advance();){var g=b.ma();switch(g){case "value":_.isNull(f)?f=b.ed():(_.isArray(f)||(f=[f]),f.push(b.ed()));break;case "field":g=e(a);0<g.length&&(d=d.concat(g));break;default:console.warn("unknown field child node: ",
g)}}b.ra();_.isNull(f)||(c.value=f);return d}var f=this.ac.qf;b.ka();b.advance()?a.busyLoop(function(){"field"===b.ma()&&e("").forEach(function(a){f.Io(a,!0)});var a=b.advance();a||b.ra();return a},c,d):c()},BA:function(a){var c=[];$(a).each(function(a,b){c.push(b.textContent.trim())});return c},Zx:function(a,c,d){function e(){f.Yx(a,m,l,Math.min(l+50,a.length),!0,d);setTimeout(function(){l+=50;l<a.length?e():c({Es:m})},0)}var f=this,l=0,m=[];e()},Pn:function(a,c,d){var e=this.ac.u.De(a.Jb()-1).inverse(),
f=document.createElementNS("",a.elementName);a.serialize(f,e,d);a=(new XMLSerializer).serializeToString(f);c.writeString(a)},dD:function(b){var c=this.ac,d=c.xi(),e=c.u,f=e.getDocument(),l=[];d.un({Wm:function(a,b,c){void 0!==c.type&&l.push(c)},hq:function(a,b,c){void 0!==c.type&&l.push(c)}});var m=f.sb().map(function(a,b){return{number:b+1,actions:a.vi()}}).filter(function(a){return 0<Object.keys(a.actions).length});a.$e.write(b,{calculationOrder:d.Ns,widgets:c.dh().filter(function(a){return a.qh()}),
fields:l,documentActions:f.vi(),pages:m},function(a){return 1>a?(console.warn("Invalid page number:",a),a=new XODText.Na,a.pk(1,0,0,1,0,0),a):e.De(a-1)})},hD:function(a){a=a||{};var c=new XMLWriter("UTF-8","1.0");c.formatting="none";var d=!1!==a.widgets,e=!1!==a.links;c.writeStartDocument();c.writeStartElement("xfdf");c.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");c.writeAttributeString("xml:space","preserve");d&&this.dD(c);this.aD(c);c.writeStartElement("annots");d=this.ac;a=a.annotList||
d.dh();for(d=0;d<a.length;++d){var f=a[d];f instanceof Annotations.Tc?e&&this.Pn(f,c,!0):f instanceof Annotations.qa||this.Pn(f,c,!0)}c.writeEndElement();c.writeEndElement();this.eD(c);return c.flush()},eD:function(a){var c=this.ac;a.writeStartElement("pages");var d=c.u.getDocument().sb();if(d){var e=c.u.De(0);a.writeStartElement("defmtx");a.writeAttributeString("matrix",""+(e.m_a+","+e.m_b+","+e.m_c+","+e.m_d+","+e.m_h+","+e.m_v));a.writeEndElement();for(var f=1;f<d.length;++f){var l=c.u.De(f);if(!l.yt(e)){a.writeStartElement("pgmtx");
var m="",m=m+(l.m_a+","+l.m_b+","+l.m_c+","+l.m_d+","+l.m_h+","+l.m_v);a.writeAttributeString("matrix",m);a.writeAttributeString("page",f.toString());a.writeEndElement()}}}a.writeEndElement()},ZC:function(a){a.writeStartElement("add");for(var c=this.ac.dh(),d=0;d<c.length;++d){var e=c[d];e.IsAdded&&(this.Pn(e,a),e.IsAdded=!1)}a.writeEndElement()},cD:function(a){a.writeStartElement("modify");for(var c=this.ac,d=c.dh(),e=0;e<d.length;++e){var f=d[e];f.IsModified&&c.sc(f)&&(this.Pn(f,a),f.IsModified=
!1)}a.writeEndElement()},$C:function(a){a.writeStartElement("delete");for(var c=this.ac,d=this.kC(),e=0;e<d.length;++e)a.writeStartElement("id"),a.writeString(d[e]),a.writeEndElement();c.ot.length=0;a.writeEndElement()},aD:function(a){a.writeStartElement("fields");this.ac.qf.un(new d(a));a.writeEndElement()},bD:function(a){a.writeStartElement("fields");this.ac.qf.un(new d(a,function(a){var b=a.IsModified;a.IsModified=!1;return b}));a.writeEndElement()},fD:function(b){var c=new XMLWriter("UTF-8","1.0");
c.writeStartDocument();c.writeStartElement("xfdf");c.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");c.writeAttributeString("xml:space","preserve");c.writeStartElement("fields");var e=new a.Annotations.K.kj;b.forEach(function(a){e.Io(a)});e.un(new d(c));c.writeEndElement();c.writeEndElement();b=c.flush();return b=b.replace(/\t/g,"")},gD:function(a){for(var c=[],d=0;d<a.length;++d){var e=a[d];_.isUndefined(e.name)||c.push(e.name+"="+encodeURIComponent(e.value))}return c.join("&")},Lt:function(){var a=
new XMLWriter("UTF-8","1.0");a.writeStartDocument();a.writeStartElement("xfdf");a.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");a.writeAttributeString("xml:space","preserve");this.bD(a);this.ZC(a);this.cD(a);this.$C(a);a.writeEndElement();a=a.flush();return a=a.replace(/\t/g,"")},kC:function(){return _.map(this.ac.ot,function(a){return a.Id})}};a.o.sD=f;var e={yv:function(a){var c;c="D:"+a.getFullYear().toString();c+=this.Yc((a.getMonth()+1).toString());c+=this.Yc(a.getDate().toString());
c+=this.Yc(a.getHours().toString());c+=this.Yc(a.getMinutes().toString());c+=this.Yc(a.getSeconds().toString());a=a.getTimezoneOffset();0===a?c+="Z00'00'":(0>a?(c+="+",a*=-1):c+="-",c+=this.Yc(parseInt(a/60,10).toString())+"'",c+=this.Yc((a%60).toString())+"'");return c},toDateString:function(a){return a.getFullYear().toString()+"-"+this.Yc((a.getMonth()+1).toString())+"-"+this.Yc(a.getDate().toString())+" "+this.Yc(a.getHours().toString())+":"+this.Yc(a.getMinutes().toString())+":"+this.Yc(a.getSeconds().toString())},
Yc:function(a){return 2>a.length?"0"+a:a},escape:function(a){a&&(a=_.escape(a),a=a.replace(/(?:\r\n|\r|\n)/g,"&#xA;"));return a},toFixed:function(a,c){_.isUndefined(c)&&(c=2);return parseFloat(a.toFixed(c)).toString()},getAttribute:function(a,c){return a.getAttribute(c)||a.getAttribute(c.toLowerCase())},Vt:function(a){return a.localName||a.baseName||a.nodeName},sz:function(a,c){var d=[],e=a.getElementsByTagName(c);if(0===e.length)return d;for(var f=0;f<e.length;++f){var l=e[f].outerHTML||e[f].xml;
if(_.isUndefined(l)||0!==l.indexOf("<"+c+" "))l=(new XMLSerializer).serializeToString(e[f]);0>l.indexOf("</"+c+">")&&"/"!==l.charAt(l.length-2)&&(l=l.slice(0,l.length-1)+"/"+l.slice(l.length-1));d.push(l)}return d},WL:function(a){return e.getAttribute(a,"ActionType")?!0:0<a.getElementsByTagName("OnActivation").length},IF:function(a){return e.getAttribute(a,"ActionType")?[a]:a.getElementsByTagName("Action")},JF:function(a){if(!a)return null;var c=e.getAttribute(a,"ActionType");return c?c:(a=e.Qt(a))?
e.Vt(a):null},Qt:function(a){a=_.filter(a.childNodes,function(a){return 1===a.nodeType});return 0<a.length?a[0]:null},mp:function(a,c,d){c=e.getAttribute(a,c);_.isNull(c)&&(c=a.getElementsByTagName(d),c=0<c.length?c[0].textContent:null);return c},cL:function(a,c,d){d=d.W({x:_.isNull(a)?0:parseFloat(a),y:_.isNull(c)?0:parseFloat(c)});return{x:_.isNull(a)?null:d.x,y:_.isNull(c)?null:d.y}},EL:function(a,c,d){a=a.split(";");for(var e=[],f=0;f<a.length;++f){var l=a[f].split(","),l=new XODText.gc(l[0],
l[1]),l=new Annotations.Point(l.x,l.y);c.W(l);"function"===typeof d&&d(l);e.push(l)}return e},Cq:function(a,c,d){if("undefined"===typeof d||null===d)d=",";if(!(a instanceof Annotations.Point))return null;a=new Annotations.Point(a.x,a.y);c&&c.W(a);return e.toFixed(a.x)+d+e.toFixed(a.y)},Ky:function(a,c,d){if("undefined"===typeof d||null===d)d=",";if("string"!==typeof a)return null;a=a.split(d);d=null;2===a.length?(d=new Annotations.Point(parseFloat(a[0]),parseFloat(a[1])),c&&c.W(d)):console.warn("Invalid serialized string format.");
return d},Ok:function(a,c,d,f){if("undefined"===typeof f||null===f)f=";";if("undefined"===typeof d||null===d)d=",";for(var g="",l=0;l<a.length;l++){var m=new Annotations.Point(a[l].x,a[l].y);c&&c.W(m);g+=e.toFixed(m.x)+d;g+=e.toFixed(m.y)+f}return g.substring(0,g.length-1)},ri:function(a,c,d,e){var f=[];if("undefined"===typeof e||null===e)e=";";if("undefined"===typeof d||null===d)d=",";var l;a=a.split(e);if(e===d)for(e=0;e+1<a.length;e+=2)l=new Annotations.Point(a[e],a[e+1]),c&&c.W(l),f.push(l);else for(e=
0;e<a.length;++e)l=a[e].split(d),l=new Annotations.Point(l[0],l[1]),c&&c.W(l),f.push(l);return f},Dq:function(a,c,d){if("undefined"===typeof d||null===d)d=",";var f=new Annotations.Point(a.x1,a.y1);a=new Annotations.Point(a.x2,a.y2);c.W(f);c.W(a);return e.toFixed(f.x,6)+d+e.toFixed(f.y,6)+d+e.toFixed(a.x,6)+d+e.toFixed(a.y,6)},qt:function(a,c,d){if("undefined"===typeof d||null===d)d=",";d=a.split(d);a=new Annotations.Point(d[0],d[1]);d=new Annotations.Point(d[2],d[3]);c&&(c.W(a),c.W(d));return new Annotations.Rect(a.x,
a.y,d.x,d.y)},av:function(a,c,d){var f=new XODText.Na;f.pk(c);f.m_d*=-1;f.m_h=0;f.m_v=0;return e.Dq(a,f,d)},Jy:function(a,c,d){var f=new XODText.Na;f.pk(c);f.m_d*=-1;f.m_h=0;f.m_v=0;return e.qt(a,f,d)},KM:function(a,c){for(var d="",f=0;f<a.length;f++){var g=a[f],g=new Annotations.Point(g.x,g.y);c.inverse().W(g);d+=e.toFixed(g.x)+",";d+=e.toFixed(g.y)+";"}return d.substring(0,d.length-1)},FL:function(a,c){var d=a.split(","),e=new Annotations.Point(d[0],d[1]),d=new Annotations.Point(d[2],d[3]);"undefined"!==
typeof c&&(c.W(e),c.W(d));return new Annotations.Rect(e.x,e.y,d.x,d.y)},LM:function(a,c){var d=new Annotations.Point(a.x1,a.y1),f=new Annotations.Point(a.x2,a.y2),g=c.inverse();g.W(d);g.W(f);return e.toFixed(d.x)+","+e.toFixed(d.y)+","+e.toFixed(f.x)+","+e.toFixed(f.y)},Yi:function(a){if("undefined"===typeof a||null===a||!(a instanceof Annotations.Color)||0===a.A)return null;var c=a.R.toString(16).toUpperCase();2>c.length&&(c="0"+c);var d=a.G.toString(16).toUpperCase();2>d.length&&(d="0"+d);a=a.B.toString(16).toUpperCase();
2>a.length&&(a="0"+a);return"#"+c+d+a},pi:function(a){return(new RegExp(/^#[0-9a-f]{6}$/i)).test(a)?new Annotations.Color(parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)):null},pt:function(a){if(a){var c=new Date(Date.UTC(parseInt(a.substring(2,6),10),parseInt(a.substring(6,8),10)-1,parseInt(a.substring(8,10),10),parseInt(a.substring(10,12),10),parseInt(a.substring(12,14),10),parseInt(a.substring(14,16),10),0));a=a.substring(16);if(7===a.length){var d=a.substring(0,
1);if("Z"!==d){var d="-"===d?1:-1,e=parseInt(a.substring(4,6),10);c.setUTCHours(c.getUTCHours()+d*parseInt(a.substring(1,3),10));c.setUTCMinutes(c.getUTCMinutes()+d*e)}}return c}},kz:function(a,c,d){a="#"+e.Yc(a.toString(16));a+=e.Yc(c.toString(16));return a+=e.Yc(d.toString(16))},KI:function(a,c){return"/"+a+" "+c+" Tf"},JI:function(b,c){return"font: "+b.Font+" "+a.Annotations.Dd.Sj(c,b.Rt())+"pt; text-align: "+b.TextAlign+"; color: "+e.Yi(b.TextColor)},II:function(b,c){return"font-family: "+b.Font+
"; font-size: "+a.Annotations.Dd.Sj(c,b.Rt())+"pt; text-align: "+b.TextAlign+"; color: "+e.Yi(b.TextColor)},cF:["Tf","rg"],CA:function(a){var c=e.mp(a,"defaultappearance","defaultappearance");a={md:c};if(!_.isNull(c))for(c=c.split(" ");0<c.length;){var d=c.pop();if(-1!==e.cF.indexOf(d))switch(d){case "Tf":var d=c.pop(),f=c.pop().slice(1);a.font={size:d+"pt",name:e.bn(f),GM:f};break;case "rg":var d=parseInt(255*c.pop(),10),f=parseInt(255*c.pop(),10),g=parseInt(255*c.pop(),10);a.color=e.kz(g,f,d)}}return a},
uL:function(a){if(4===a.length)return{r:parseInt(a.charAt(1),16)/16,g:parseInt(a.charAt(2),16)/16,b:parseInt(a.charAt(3),16)/16};if(7===a.length)return{r:parseInt(a.slice(1,3),16)/255,g:parseInt(a.slice(3,5),16)/255,b:parseInt(a.slice(5,7),16)/255}},NH:function(a){a=e.mp(a,"defaultstyle","defaultstyle");var c={};_.isNull(a)||a.split(";").forEach(function(a){var b=a.split(":");if(!(2>b.length))switch(a=b[0].trim(),b=b[1].trim(),a){case "text-align":c.textAlign=b;break;case "color":b.startsWith("rgb")?
(a=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(b),null!==a&&(c.color=e.kz(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)))):c.color=b;break;case "font":a=b.split(" "),c.font={name:e.bn(a[0]),size:a[1]}}});return c},bn:function(a){function c(c,d){var e=a;0===e.indexOf(c)&&(e=d);return e}var d=0<a.indexOf("Bold"),e=0<a.indexOf("Italic")||0<a.indexOf("Oblique");a=c("Arial","Arial");a=c("Courier","Courier");a=c("Helv","Arial");a=c("Times","Times New Roman");d?a=a+" Bold,"+a:e&&(a=a+" Italic,"+
a);return a}};a.Annotations.fa=e})(window);
(function(a){a.o=a.o||{};var f=a.o;f.Br=function(a){this.v=a;this.N=[];this.wh={};this.Gp=f.sa.Ae;this.wf=1;if(a){this.QA();this.RA();var e=this;a.on("pagesDiff",function(a,c){e.trigger("pageDiff",[c]);e.trigger("pageContentChanged",[c.filter(function(a){return a.after.contentChanged}).map(function(a){return a.after.pageNum})])});a.on("pagesUpdated",function(a,c){function d(a){var b={};Object.keys(a).forEach(function(c){b[c]=a[c].gb});return b}var f=d(e.wh);e.QA();e.RA();f=e.FE(f,d(e.wh));f.contentChanged=
c.filter(function(a){return a.contentChanged}).map(function(a){return a.pageNum});e.trigger("layoutChanged",[f])})}};f.Br.prototype=$.extend({iL:function(){return this.N.length},FE:function(a,e){var b={added:[],removed:[],moved:{}},c={};Object.keys(a).forEach(function(b){c[b]=c[b]||{};c[b].before=a[b]});Object.keys(e).forEach(function(a){c[a]=c[a]||{};c[a].after=e[a]});Object.keys(c).forEach(function(a){a=c[a];a.before&&!a.after?b.removed.push(a.before):!a.before&&a.after?b.added.push(a.after):a.before&&
a.after&&a.before!==a.after&&(b.moved[a.before]=a.after)});return b},QA:function(){var a=this.v.Am(),e={};a.forEach(function(a){e[a]=!0});var b=this.wh;Object.keys(b).forEach(function(a){a in e||delete b[a]});a.forEach(function(a){b[a]||(b[a]={rotation:null,zoom:null,ec:null,nd:null,Uk:null,ln:null,og:null,gb:null,id:a})})},RA:function(){for(var a=this.v.numPages,e=this.v,b=[],c=0;c<a;++c){var f=this.wh[e.zp(c)];f.gb=c+1;b.push(f)}this.N=b},fv:function(a){this.Gp=a},RL:function(){return this.Gp},
Bh:function(a){this.wf=a;this.trigger("zoomChanged",[a])},SL:function(){return this.wf},iB:function(a,e){var b=this.N[a];if(b)b.ln=e;else throw Error("Invalid page text selected "+a);},$s:function(){this.N.forEach(function(a){a.ln=null})},Cp:function(){return this.N.map(function(a){return a.ln}).filter(function(a){return null!==a}).join("\n")},xd:function(a){var e=this.N[a];if(e){var b=this.v.Qb(a);a=this.v.Pb(a);var c=_.isNull(e.rotation)?this.Gp:e.rotation;if(c===f.sa.bd||c===f.sa.Ld){var k=b,b=
a;a=k}return{width:b,height:a,rotation:c,zoom:_.isNull(e.zoom)?this.wf:e.zoom,ec:e.ec,nd:e.nd,Uk:e.Uk,ln:e.ln,og:e.og,gb:e.gb,id:e.id}}return{width:0,height:0}},Pd:function(){for(var a=[],e=this.N.length,b=0;b<e;++b)a.push(this.xd(b));return a},kv:function(a,e){var b=this.N[a];if(b)b.zoom=e;else throw Error("Invalid page index zoomed "+a);},mn:function(a,e){var b=this.N[a];if(b)b.rotation=e;else throw Error("Invalid page index rotated "+a);},jB:function(a,e){var b=this.N[a];if(b)b.Uk=e;else throw Error("Invalid page index set text quads "+
a);},Zs:function(){this.N.forEach(function(a){a.Uk=null})},cJ:function(a,e){var b=this.N[a];if(b)b.ec=e.ec,b.nd=e.nd;else throw Error("Tried to set offsets of invalid page"+a);},$F:function(){var a={};this.N.forEach(function(e,b){_.isNull(e.rotation)||(a[b]=e.rotation)});return a},PE:function(){this.N.forEach(function(a){a.rotation=null})},cz:function(a){this.N.forEach(function(e){_.isNull(e.rotation)||a(e)})},jv:function(a,e){var b=this.N[a];if(b)b.og=e;else throw Error("Invalid page index set preview canvas "+
a);},Xt:function(){var a=[];this.N.forEach(function(e,b){_.isNull(e.Uk)||a.push(b)});return a},QE:function(){this.N.forEach(function(a){a.og=null})},dA:function(a){return!!this.wh[a]},kc:function(a){var e=this.wh[a];if(e)return this.xd(e.gb-1);throw Error("Unknown page ID "+a);},eg:function(a){var e=this.N[a];if(e)return e.id;throw Error("Page index is not loaded "+a);},Kc:function(){this.off()}},a.utils.eventHandler)})(window);
(function(a){function f(a,b){this.handlers=a;this.state=_.isUndefined(b)?null:b;this.Zf=[];this.Ru=!0}function d(){this.bz=[];this.ez=[];this.Ri={};this.Uq=!1;Promise.resolve();Promise.resolve();this.ap=!1;this.Lo=null}f.prototype={le:function(a){this.Zf.push(a)},sB:function(){return 0<this.Zf.length},pB:function(){return this.Ru||0<this.Zf.length},read:function(){this.state=this.handlers.read(this.state);this.Ru=!1},write:function(){var a=this.Zf;this.handlers.consolidateChanges&&(a=this.handlers.consolidateChanges(a));
this.Zf=[];this.state=this.handlers.write(this.state,a);this.Ru=!0}};d.prototype={Kc:function(){this.Uq=!1;window.cancelAnimationFrame(this.Lo);this.Lo=null;this.ap=!0},Tu:function(a,b,c,d){_.isUndefined(d)&&(d=!0);if(this.Ri[a])throw Error("Tried to register pipeline "+a+" twice");this.Ri[a]=new f(b,c);d&&this.Wu()},LG:function(a){return!!this.Ri[a]},pG:function(a){if(!this.Ri[a])throw Error("Tried to get non-existent pipeline "+a);return this.Ri[a]},Wu:function(){var a=this;this.Uq||this.ap||(this.Uq=
!0,this.Lo=window.requestAnimationFrame(function(){a.Lo=null;var b=Object.keys(a.Ri).map(function(b){return a.Ri[b]});b.forEach(function(a){a.pB()&&a.read()});b.forEach(function(a){a.sB()&&a.write()});b=b.some(function(a){return a.pB()||a.sB()});a.Uq=!1;b?a.Wu():(a.ez.forEach(function(a){a()}),a.ez=[]);a.bz.forEach(function(a){a()});a.bz=[]}))},le:function(a,b){this.pG(a).le(b);this.Wu()}};a.ql=d;a.SK=f})((window.o?window.o:window.o={}).tj={});
(function(a){function f(a){this.QB=!0;this.qu=this.uq=this.rB=this.Re=!1;this.oc=[];this.qc={};this.yl={};this.be=.5;this.u=a;this.v=null;this.tq=Promise.resolve();this.Pm=!1;this.Uu=null;this.ng=[];this.paused=!1}function d(a){this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.canvas=null;this.qg=this.Gs=this.Ne=!1;this.qB=!0;this.hd=this.Ei=this.Vk=this.request=null}function e(a,c){this.Ia=a;this.xh=c;this.Qu=createPromiseCapability()}e.prototype={cancel:function(){var a=
this.Ia.cc(this.xh);try{if(a.qg){a.hd&&(a.hd.oy(),a.hd.abort&&a.hd.abort());if(a.request)try{this.Ia.v.Yf(a.request)}finally{a.request=null,a.hd=null}if(a.Vk)try{this.Ia.v.Uj(a.Vk)}finally{a.Vk=null}if(a.Ei)try{this.Ia.v.Yf(a.Ei)}finally{a.Ei=null}}}finally{a.qg=!1,a.qB=!0,this.Qu.resolve("canceled")}},VJ:function(){this.cancel();var a=this.Ia.cc(this.xh);a.hd&&(a.hd.Qe(void 0,this.Ia.u.O.kc(this.xh).gb-1),a.hd=null)},render:function(a){var c=this;a.then(function(){c.Qu.resolve("complete")})},$t:function(){return this.Qu.promise}};
d.prototype={wm:function(a){return(this.canvas||a?1:0)*(this.width*this.height*this.zoom*this.zoom*(window.devicePixelRatio?window.devicePixelRatio:1)*4+1E5)/4},isValid:function(){return!!this.canvas},update:function(a){if(this.rotation!==a.rotation||this.zoom!==a.zoom)this.canvas=null,this.qB=!0;this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.gb=a.gb}};f.prototype={init:function(){this.Vs();this.v=this.u.getDocument()},Kc:function(){this.qu=!0;this.pn();return this.tq},
Vs:function(){this.pn();var a=this;Object.keys(this.qc).forEach(function(c){a.Nm(c)})},mJ:function(a){this.rB=!!a},Nm:function(a){var c=this.qc[a];c&&(c.canvas=null);this.Tk(a)},To:function(a){var c=this.u,d=c.gh()-1;a=c.O.kc(a).gb-1;c=c.yc();d=a-d;0>d&&(d-=.5);return c-Math.abs(d)},Gz:function(a){return this.yl[a]||null},by:function(a){if(this.cc(a).qg)return this.Gz(a);var c=new e(this,a);this.Tk(a);c.render(this.sI(a,function(){}));return this.yl[a]=c},MF:function(){var a=this;return Object.keys(this.qc).reduce(function(c,
d){return c+a.cc(d).wm()},0)},pE:function(b,c){for(var d=this.cc(c),e=this,f=Object.keys(this.qc).sort(function(a,b){return e.To(a)-e.To(b)}),l=this.MF(),m=d.wm(b)+l,p=0;m>a.gj&&p<f.length;)m-=this.cc(f[p]).wm(),++p;if(m<a.gj){for(l=0;l<p;++l)this.Nm(f[l]);d.canvas=b}else console.warn("Could not fit "+c+" with size "+d.wm(b)+" into cache of size "+l+" with max size "+a.gj)},cc:function(a){if(this.u.O.dA(a)){this.qc[a]=this.qc[a]||new d(this.u.O.kc(a));var c=this.u.O.kc(a);this.qc[a].update(c);return this.qc[a]}return this.qc[a]?
this.qc[a]:new d({})},zK:function(b){var c=this.cc(b);c&&(c.isValid()||this.Nm(b),a.o.Ja.bj||(c.Ne=!1))},$G:function(a){return!!this.cc(a).canvas},pause:function(){this.paused=!0},resume:function(){this.paused=!1;var a=this.qc;Object.keys(a).forEach(function(c){c=a[c];c.hd&&(c.hd.paused=!1,c.hd.resume&&c.hd.resume())})},Xk:function(a){this.oc=a||this.u.ba.Pd()},zE:function(a){var c=this;return a.some(function(a){return-1===c.oc.indexOf(a)})||c.oc.some(function(c){return-1===a.indexOf(c)})},tG:function(){var a=
this;return Object.keys(this.qc).map(function(c){return{id:c,page:a.qc[c]}}).filter(function(a){return a.page.Ne}).map(function(c){return a.u.O.kc(c.id).gb-1})},NE:function(a){if(this.Re)return this.kt();var c=this;return(a||c.u.ba.Pd(c.be,c.be)).some(function(a){a=c.u.O.eg(a);a=c.cc(a);return!a.qg&&(!a.Ne||!a.isValid())})?this.kt(a):Promise.resolve()},kt:function(a){var c=this;clearTimeout(this.Uu);c.Pm&&(c.ng=a||"auto");this.Uu=setTimeout(function(){var d=_.isUndefined(a)?c.u.ba.Pd(c.be,c.be):a;
c.pn(d);c.Pm?c.ng=a||"auto":c.tq=c.tq.then(function(){return c.Vu(a)})["catch"](function(a){console.error(a);c.tq=Promise.resolve()})},80)},VH:function(a){var c=this;return Promise.resolve().then(function(){var d=c.u.O.kc(a).gb-1,e=c.cc(a);if(!e.canvas)throw Error("Tried to place uncached page from cache "+a);e.Ne=!0;c.u.Xl(e.canvas,d);c.$g(d,e);c.u.trigger("pageComplete",[d])})},du:function(a){var c=this;return new Promise(function(d){var e=c.cc(a),f=c.u.O.kc(a).gb-1;e.Vk||c.u.MG(f)?d():e.Vk=c.v.wk(f,
function(d){c.cc(a).Vk=null;c.u.iy(d,f,-1!==c.oc.indexOf(f),!1)})})},ZF:function(b){var c=this;return new Promise(function(d){var e=c.cc(b),f=c.u.O.kc(b).gb-1;if(e.Ei||c.u.KG(f))d();else{var l=a.utils.getCanvasMultiplier(),m=e.width,p=e.height,n=m>p?2E3/m:2E3/p,n=n/l;e.Ei=c.v.kg({pageIndex:f,getZoom:function(){return n},getPageRotation:function(){return a.o.sa.Ae},drawComplete:function(a){c.v.mi(e.Ei);e.Ei=null;c.u.iy(a,f,-1!==c.oc.indexOf(f),!0);d()},useProgress:!1})}})},Vu:function(b){var c=this;
return this.qu?Promise.resolve():Promise.resolve().then(function(){function d(b){b=c.u.O.eg(b);if(c.$G(b)&&!c.Re)return c.VH(b);var e=c.cc(b);return!a.o.Ja.bj&&e.Ne?Promise.resolve():c.by(b).$t()}_.isUndefined(b)&&(b=c.u.ba.Pd(c.be,c.be));c.pn(b);c.qI();c.Pm=!0;c.u.trigger("beginRendering");var e;c.v.nk()&&b.forEach(function(a){a=c.u.O.eg(a);c.du(a)});c.rB?(c.uq=!1,e=Promise.resolve(),b.forEach(function(a){e=e.then(function(){return c.uq?Promise.resolve():d(a)})})):e=Promise.all(b.map(d));return e}).then(function(){c.uq=
!1;c.Pm=!1;c.u.trigger("finishedRendering");if(!c.qu)return new Promise(function(a,b){window.requestAnimationFrame(function(){try{var d;if("auto"===c.ng)return d=c.Vu(),c.ng=[],a(d);if(c.ng.length)return d=c.Vu(c.ng),c.ng=[],a(d);c.aH()?a(c.XH()):a()}catch(e){b(e)}})})})["catch"](function(a){c.Pm=!1;console.error(a);throw a;})},aH:function(){return a.o.Ja.bj&&(0!==a.Zp||0!==a.Yp)},EE:function(){var a=this;return _.range(a.u.yc()).map(function(c){return a.u.O.eg(c)}).sort(function(c,d){return a.To(d)-
a.To(c)})},ly:function(){var b=this,c=_.min(b.oc),d=_.max(b.oc),e=c-a.Zp,f=d+a.Yp,c=this.EE().filter(function(a){a=b.u.O.kc(a).gb-1;return e<a&&f>a});if(b.Re)return c[0];for(var d=[],l=c.length,m=0,p=0;p<l;++p){var n=b.cc(c[p]),m=m+n.wm(!0);if(m<a.gj)d.push(c[p]);else break}return d},GE:function(){var a=this;return a.ly().filter(function(c){return!a.cc(c).isValid()})},XH:function(){var a=this;return Promise.resolve().then(function(){return a.Re?Promise.all(a.oc.map(function(c){c=a.u.O.eg(c);return a.ZF(c)})):
Promise.all(a.GE().map(function(c){return a.by(c).$t()}))["catch"](function(a){console.error("error pre-rendering",a);throw a;})})},sI:function(a,c){c=c||function(){};var d=this;return new Promise(function(e){d.rI(a,function(a){!a||a.type&&"Cancelled"===a.type||console.warn(a);e()},c)})},qI:function(){var b=this,c=this.ly();Object.keys(this.qc).forEach(function(d){var e=b.cc(d);if(b.u.O.dA(d)){var f=b.u.O.kc(d).gb-1;a.o.Ja.bj?-1===c.indexOf(d)&&e.Ne&&(b.u.pI(f),e.Ne=!1):(d=-1!==b.oc.indexOf(f),!e.Ne&&
!e.Gs||d||(a.o.Ja.Dk(f),e.Gs=!1,e.Ne=!1))}})},rI:function(b,c,d){var e=this,f=this.cc(b);c=c||function(){};d=d||function(){};if(f.qg)a.utils.warn("renderPage: Another request for page ID",b),c("renderPage: Another request for page ID "+b);else{var l=e.u.O.kc(b),m=l.zoom,p=l.rotation;if(e.v!==e.u.getDocument())c("Document changed");else{var n=!0,q=null,u=!1,r;if(e.Re){var w=e.u.ba.da;r=w.Fm(l.gb-1,w.Gn(e.be,e.be));if(null===r){c("Page "+(l.gb-1)+" no longer visible");return}}var v={pageIndex:this.u.O.kc(b).gb-
1,getZoom:function(){return e.u.O.kc(b).zoom},getPageRotation:function(){return e.u.O.kc(b).rotation},finishedLoading:function(a,d){if(e.v!==e.u.getDocument())return c(Error("Document changed")),!1;if(a)return console.warn("Error loading page "+b),c(Error("Error loading page "+b)),!1;n=null===f.hd;f.hd=d;e.paused&&f.hd.pause();return!0},acquireResources:function(){return n},resourcesLoaded:function(){if(e.v!==e.u.getDocument())return c(Error("Document changed")),!1;if(!1===f.qg)return!1;var a=e.u.O.kc(b);
m===a.zoom&&p===a.rotation||e.$g(a.gb-1,f);return!0},drawComplete:function(){if(e.v!==e.u.getDocument()||_.isNull(q))c(Error("Document changed, or progress event not received"));else{l=e.u.O.kc(b);f.qg=!1;f.Ne=!!u;u?e.u.trigger("pageComplete",[x,q]):a.o.Ja.Dk(x);a.o.Ja.bj&&!e.Re&&e.pE(q,b,l);e.v.mi(f.request);$("#pageContainer"+(l.gb-1)).removeClass("loading");var d=-1!==e.oc.indexOf(x);e.v.Pp()&&d&&e.$g(l.gb-1,f);c()}},drawProgressive:function(f){if(e.v!==e.u.getDocument())c(Error("Document changed"));
else{var g=e.u.O.kc(b),l=g.gb-1;m===g.zoom?(_.isUndefined(r)||(g=$(f),g.css("top",r.zv.y+"px"),g.css("left",r.zv.x+"px")),g=e.v.Lc(l),q=a.o.Ja.vz(f,l,m,p,v.getPageTransform(),g),u=!!e.u.Xl(q,l)):a.utils.warn("bad zoom: "+l);d(l)}},getPageTransform:function(){return e.u.ba.hk(l.gb-1)},onError:function(a){c(a)},useProgress:!e.Re,renderRect:_.isUndefined(r)?void 0:r.Gk};f.request=-1;f.qg=!0;f.request=e.v.kg(v);var x=l.gb-1;e.$g(x,f)}}},$g:function(a,c){this.u.$g(a);c.Gs=!0},VE:function(){for(var b=[],
c=0;c<this.u.yc();++c){var d=this.u.O.eg(c);b.push(d)}this.LB(b);this.pn();a.o.Ja.en()},LB:function(a){var c=this;Object.keys(this.qc).forEach(function(d){if(-1===a.indexOf(d)){var e=c.yl[d];e&&(e.cancel(),e.VJ(),delete c.yl[d]);delete c.qc[d]}else c.qc[d].Ne=!1})},MB:function(b){this.v&&((this.Re=this.QB&&b>this.v.v.yu)&&1<a.utils.getCanvasMultiplier()?this.be=0:this.be=.5)},pn:function(b){var c=this,d={};"undefined"!==typeof b&&$.each(b,function(a,b){d[c.u.O.eg(b)]=!0});Object.keys(this.yl).forEach(function(b){b in
d&&a.o.Ja.bj||c.Tk(b)});this.uq=!0;clearTimeout(this.Uu)},Tk:function(b){var c=this.Gz(b);c&&(this.cc(b).qg&&(b=this.u.O.kc(b).gb-1,$(document.getElementById("pageContainer"+b)).find(".progressive").remove()),c.cancel(),a.o.Ja.Ys())},pv:function(a){this.QB=!!a},lB:function(){}};a.o.WC=f})(window);
(function(a){function f(a,b){this.Ng=!a;this.height=this.width=0;this.Cf=null;a&&(this.width=b.width,this.height=b.height,this.rotation=b.rotation,this.Nc=b.gb-1,this.xh=a,this.zoom=b.zoom,this.og=b.og)}function d(a,b){this.N=b;this.index=a;this.height=b.reduce(function(a,b){return b.ua()>a?b.ua():a},0);this.width=b.reduce(function(a,b){return a+b.xa()},0)}function e(a){this.rows=a.rows;this.Mi=a.Mi;this.vg=a.vg;this.nc=a.nc;this.zk=a.zk;this.$f=a.$f;this.N=a.N;this.Bf=a.Bf;a=this.rows;this.width=
this.$f.reduce(function(a,b){return a+b},2*this.vg*this.Mi);this.height=a.reduce(function(a,b){return a+b.ua()},this.rows.length*this.vg*2)}function b(a,b){var c=b.zoom,d=b.rotation,e=b.width*c,c=b.height*c,f=null;d===window.o.sa.bd||d===window.o.sa.Ld?(f="rotate("+90*d+"deg)",f=d===window.o.sa.bd?" translate("+e+"px, 0)  "+f:" translate(0,"+c+"px)  "+f,a.css("height",e),a.css("width",c)):(d===window.o.sa.si&&(f="translate("+e+"px,"+c+"px) scale(-1,-1)"),a.css("width",e),a.css("height",c));null!==
f&&a.css({position:"absolute",transform:f,"transform-origin":"top left","ms-transform":f,"ms-transform-origin":"top left","-moz-transform":f,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":f,"-o-transform":f,"-o-transform-origin":"top left"})}function c(a,b,c){if(b)for(b=a-1;0<=b;--b)c(b);else for(b=0;b<a;++b)c(b)}function k(a,b,c){var d=document.createElement("div");d.id="pageContainer"+a.ih();2===c?0===b?d.style.marginLeft="auto":1===b&&(d.style.marginRight=
"auto"):(d.style.marginLeft="auto",d.style.marginRight="auto");d.className+=" pageContainer";return d}function h(a,b,c){var d=document.createElement("div");d.id="pageSection"+a.ih();d.style.cssFloat="left";d.style.position="relative";d.className+=" pageSection";d.appendChild(k(a,b,c));return d}function g(a,b,d){var e=document.createDocumentFragment(),f=a.sb();c(f.length,d,function(a){e.appendChild(h(f[a],a,b))});a=document.createElement("div");a.style.clear="both";e.appendChild(a);return e}function l(a,
c){if(c.og){var d=c.og,e=parseFloat(d.css("width")),f=parseFloat(d.css("height")),h=parseFloat(a.style.width)/e,g=d.attr("id");if(g&&0<=g.indexOf("hrthumb")){g=c.rotation;if(g===window.o.sa.bd||g===window.o.sa.Ld)h=parseFloat(a.style.width)/f;b(d,c)}d.each(function(){var b=$(this);b.css({top:parseFloat(b.css("top"))*h,width:e*h,height:f*h});a.appendChild(this)})}}function m(a,b,d,e,f,h){var g=b.sb(),k=a;c(g.length,f,function(a){if(!k)throw Error("Tried to update non-existent page section");var c=
k,f=g[a],q=b.ua();c.style.width=Math.floor(d[a])+"px";c.style.height=Math.floor(q)+"px";c.style.margin=e+"px";h||(a=c.firstChild,c=Math.floor(f.ua())+"px",a.style.width=Math.floor(f.xa())+"px",a.style.height=c,a.style.top=Math.floor(q-f.ua())/2+"px",a.className+=" loading",$(a).children().detach(),l(a,f));k=k.nextSibling});return k=k.nextSibling}function p(a,b,d){var e=b.sb(),f=a;c(e.length,d,function(a){if(!f)throw Error("Tried to skip non-existent page section");l(f.firstChild,e[a]);f=f.nextSibling});
return f=f.nextSibling}function n(a,b,d){var e=b.sb().length,f=a;b=document.createRange();c(e,d,function(){if(!f)throw Error("Tried to remove non-existent page section");f=f.nextSibling});d=f.nextSibling;b.setStartBefore(a);b.setEndAfter(f);b.deleteContents();return d}function q(a){this.Zf=[];this.state=a}f.zy=function(a,b){var c=new f(null,{});c.Nc="b"+a;c.width=0;c.height=0;c.zoom=b.zoom;c.rotation=0;c.og=null;c.NG=b.width;c.YL=b.height;return c};f.prototype={Kz:function(){return this.Cf},hg:function(){return this.zoom},
Ac:function(){return this.rotation},xa:function(){return this.width*this.zoom},Tt:function(){var a=this.width;this.Ng&&(a=this.NG);return a*this.zoom},ua:function(){return this.height*this.zoom},ih:function(){return this.Nc},bH:function(a){return this.Ng&&a.Ng||this.xh===a.xh},ru:function(a){return this.Ng!==a.Ng||!this.Ng&&(this.xh!==a.xh||this.xa()!==a.xa()||this.ua()!==a.ua()||this.hg()!==a.hg()||this.Ac()!==a.Ac())}};d.prototype={sb:function(){return this.N},ua:function(){return this.height},
xa:function(){return this.width},ih:function(){return this.index},ru:function(a){var b=a.sb();return this.N.length!==a.sb().length||this.N.some(function(a,c){return a.ru(b[c])})},cH:function(a){var b=a.sb();return this.N.length===a.sb().length&&this.N.every(function(a,c){return a.bH(b[c])})}};e.prototype={sb:function(){return this.N},xa:function(){return this.width},ua:function(){return this.height},Kz:function(a){return this.rows[a]}};q.prototype={make:function(a,b,c){this.Zf.push({Ju:a,kf:{Cf:b,
IH:c}})},uE:function(a){var b=this,c=a.firstChild,d=[];a.style.width=Math.ceil(this.state.xa())+"px";this.Zf.forEach(function(e){switch(e.Ju){case "addRow":d=d.concat(e.kf.Cf.sb());c=b.cy(c,e.kf,a);break;case "updateRow":d=d.concat(e.kf.Cf.sb());c=b.eK(c,e.kf,a);break;case "updateColumns":c=b.ZJ(c,e.kf,a);break;case "skipRow":c=b.DJ(c,e.kf,a);break;case "replaceRow":d=d.concat(e.kf.Cf.sb());c=b.tI(c,e.kf,a);break;case "removeRow":c=b.VA(c,e.kf,a);break;default:console.warn("Unsupported layout change operation:",
e.Ju)}});if(c&&"annoteditselectrect"!==c.id)throw Error("Nodes left after applying changes");d=d.filter(function(a){return!a.Ng}).map(function(a){return a.ih()});return{ng:d}},lG:function(){var a=[];this.Zf.forEach(function(b){switch(b.Ju){case "updateRow":a=a.concat(b.kf.Cf.sb())}});return a.filter(function(a){return!a.Ng}).map(function(a){return a.ih()})},cy:function(a,b,c){b=b.Cf;var d=g(b,this.state.$f.length,this.state.Bf);m(d.firstChild,b,this.state.$f,this.state.vg,this.state.Bf);a?c.insertBefore(d,
a):c.appendChild(d);return a},eK:function(a,b){return m(a,b.Cf,this.state.$f,this.state.vg,this.state.Bf)},DJ:function(a,b){return p(a,b.Cf,this.state.Bf)},tI:function(a,b,c){a=this.VA(a,b);return this.cy(a,b,c)},VA:function(a,b){return n(a,b.IH,this.state.Bf)},ZJ:function(a,b){return m(a,b.Cf,this.state.$f,this.state.vg,this.state.Bf,!0)}};a.fG=function(a){var b=a.jK,c=a.vg,h={width:0,height:0},g={width:0,height:0};b&&0<b.length&&(h={width:b[0].width,height:b[0].height,zoom:b[0].zoom},g={width:b[b.length-
1].width,height:b[b.length-1].height,zoom:b[b.length-1].zoom});var k=a.EJ||0,l=[],q;for(q=0;q<k;++q)l.push(f.zy(q,h));var l=l.concat(b.map(function(a){return new f(a.id,a)})),m=a.Mi;m>l.length&&(m=l.length);b=a.nc||0;h=Math.ceil(l.length/a.Mi);_.isUndefined(a.zk)||(h=a.zk<h?a.zk:h);var p=Array(m),k=l.reduce(function(a,b,c){var d;0===a.length?(d=[],a.push(d)):d=a[a.length-1];d.length===m&&(d=[],a.push(d));d.push(b);if(c===l.length-1&&(b=m-d.length,0<b))for(var e=0;e<b;++e)d.push(f.zy(c+e+1,g));return a},
[]).slice(b,b+h).map(function(a,b){var c=new d(b,a);c.sb().forEach(function(a,b){p[b]=p[b]?a.Tt()>p[b]?a.Tt():p[b]:a.Tt()});return c});return new e({rows:k,vg:c,Mi:m,nc:b,zk:h,$f:p,N:l,Bf:a.Bf})};a.eG=function(a,b){var c=new q(b);if(!a)return b.rows.forEach(function(a){c.make("addRow",a,null)}),c;var d=a.rows,e,f=a.$f,h=b.$f;e=f.length===h.length?f.every(function(a,b){return a===h[b]}):!1;f=b.rows;f.forEach(function(a){var b=d[a.ih()];b?b.cH(a)?b.ru(a)?c.make("updateRow",a,b):e?c.make("skipRow",a,
b):c.make("updateColumns",a,b):c.make("replaceRow",a,b):c.make("addRow",a,b)});if(f.length<d.length)for(f=f.length;f<d.length;++f)c.make("removeRow",null,d[f]);return c};a.pl=f;a.TK=d;a.OK=e;a.NK=q})((window.o=window.o||{}).dw={});
(function(a){var f=XODText,d=window.o,e={jw:"Single",gl:"Continuous",Rv:"Facing",mr:"FacingContinuous",Dn:"Cover",En:"CoverFacing",Ff:"Custom"};d.od=function(a,c,d){this.mode=null;this.u=a;this.Jc=this.zf=this.tb=null;this.Be=this.nc=0;this.sh=null;this.oc=[];this.tc={};a=c===e.Ff;this.Lk=_.isUndefined(d)?!a:d;_.isNull(c)||_.isUndefined(c)||(this.mode=c)};d.od.prototype={gJ:function(a,c,d,f,g){this.mode=e.Ff;this.tb=a;this.zf=c;this.Jc=d;this.nc=f;this.Be=g},RI:function(a){this.tc=a},pu:function(){return this.mode===
e.gl||this.mode===e.mr||this.mode===e.Dn},Va:function(a,c){if(!this.sh)return-1;var d=this.sh.Kz(a-this.sh.nc);if(this.u.bu())var e=this.sh.Mi,d=d.sb()[e-(c+1)];else d=d.sb()[c];return d&&_.isNumber(d.ih())?d.ih():-1},gd:function(a,c){if(this.tc.pageToWindow)return this.tc.pageToWindow(a,c);a=this.u.wG(a,c);var d=this.u.O.xd(c);return{x:a.x+d.ec,y:a.y+d.nd}},xA:function(a,c){if(this.tc.pageToWindow)return this.tc.pageToWindow(a,c);a=this.u.xG(a,c);var d=this.u.O.xd(c);return{x:a.x+d.ec,y:a.y+d.nd}},
dj:function(b,c){if(this.tc.windowToPage)return this.tc.windowToPage(b,c);var d=this.u.mb(c),e=this.u.O.xd(c),g=new f.gc;g.x=b.x-e.ec;g.y=b.y-e.nd;d=a.Dc(d,this.u.rf(c+1),{width:this.u.Qb(c),height:this.u.Pb(c)},0,!1);d=d.inverse();g=d.W(g);return{pageIndex:c,x:g.x,y:g.y}},TB:function(b,c){if(this.tc.windowToPage)return this.tc.windowToPage(b,c);var d=this.u.mb(c),e=this.u.O.xd(c),g=new f.gc;g.x=b.x-e.ec;g.y=b.y-e.nd;d=a.Dc(d,this.u.Ac(c+1),this.u.v.Lc(c),0,!1);d=d.inverse();g=d.W(g);return{pageIndex:c,
x:g.x,y:g.y}},Bp:function(a,c){if(this.tc.getSelectedPages)return this.tc.getSelectedPages(a,c);var d=null,e=null;a=_.isUndefined(a)?this.u.Mc:a;c=_.isUndefined(c)?this.u.wb:c;a:for(var f=this.nc;f<this.Be;f++)for(var l=0;l<this.tb;l++){var m=this.Va(f,l);if(!(0>m)){var p=this.u.O.xd(m),n=p.ec,q=p.nd,u=p.ec+p.width*this.u.zoom,p=p.nd+p.height*this.u.zoom;null===d&&a.x<=u&&a.x>=n&&a.y<=p&&a.y>=q&&(d=m);null===e&&c.x<=u&&c.x>=n&&c.y<=p&&c.y>=q&&(e=m);if(null!==d&&null!==e)break a}}d>e&&(f=d,d=e,e=f);
return{first:d,last:e}},Pd:function(a,c){if(this.tc.getVisiblePages)return this.tc.getVisiblePages(a,c);if(0===$("#DocumentViewer").length)return[];for(var d,e=[],f=this.Gn(a,c),l=this.Gn(0,0),m=this.nc;m<this.Be;m++)for(var p=0;p<this.tb;p++)if(d=this.Va(m,p),!(0>d)){var n=this.Fm(d,f,l);null!==n&&e.push({Nc:d,HA:n.UH})}e.sort(function(a,b){return b.HA-a.HA});d=e.length;for(f=0;f<d;++f)e[f]=e[f].Nc;return e},Gn:function(a,c){a=_.isUndefined(a)?.5:a;c=_.isUndefined(c)?.5:c;var d=document.getElementById("DocumentViewer");
if(null===d)return[];var e=d.getBoundingClientRect(),f=e.width,l=e.height,m=d.scrollTop+e.top-l*a,d=d.scrollLeft+e.left-f*c;return{x1:d,y1:m,x2:d+f*(1+2*c),y2:m+l*(1+2*a)}},Fm:function(b,c,d){var e=this.u.v.Lc(b),f=this.xA({x:0,y:0},b),l=this.xA({x:e.width,y:e.height},b),e=a.utils.normalizeRect(f,l);c=a.utils.getRectIntersection(e,c);if(c.x1!==c.x2){var m;d&&(d=a.utils.getRectIntersection(e,d),m=(d.x2-d.x1)*(d.y2-d.y1)/((e.x2-e.x1)*(e.y2-e.y1)));f=this.TB({x:c.x1,y:c.y1},b);l=this.TB({x:c.x2,y:c.y2},
b);return{Gk:a.utils.normalizeRect(f,l),zv:{x:c.x1-e.x1,y:c.y1-e.y1},UH:m}}return null},hk:function(a){if(this.tc.getPageTransform)return this.tc.getPageTransform(a);a=this.u.zm(a);return{x:0,y:0,width:a.width,height:a.height}},Yt:function(){return{x:0,y:0}},Xj:function(){return d.dw.fG({vg:this.u.xz(),jK:this.u.O.Pd(),Mi:this.tb,nc:this.nc,zk:this.Be-this.nc,EJ:this.mode===e.Dn||this.mode===e.En?1:0,Bf:this.u.bu()})},jn:function(a){a?this.mode===e.Ff?this.u.el.children().detach():this.ip(function(a){$(a).children().detach()}):
(this.sh=null,this.u.el.empty(),this.u.trigger("contentRemoved"))},ug:function(){if(this.tc.createPageSections)return this.jn(!1),this.tc.createPageSections(),_.range(0,this.u.yc());var a=this;if(this.mode!==e.Ff){var c=this.Xj(),f=d.dw.eG(this.sh,c);f.lG().forEach(function(c){var d=document.getElementById("pageContainer"+c),d=a.u.SB?$(d).find("#hrthumb"+c):$(d).find(".canvas"+c+":not(.progressive)");0<d.length&&a.u.O.jv(c,d)});this.sh=c;c=f.uE(this.u.el.get(0)).ng;this.u.Cs(this.sh.ua());return c}return _.range(0,
this.u.yc())},ip:function(b){for(var c=this.u.el.get(0).firstChild;c;)a.utils.hasClass(c,"pageSection")&&b(c.firstChild),c=c.nextSibling},Pe:function(){var a=this.u.O;this.ip(function(c){var d=c.parentNode,e=Number(c.id.slice(13));_.isNaN(parseInt(e))||a.cJ(e,{ec:d.offsetLeft+c.offsetLeft,nd:d.offsetTop+c.offsetTop})})}};d.hl=function(b){if(!b)throw Error("DisplayModeManager requires DocumentViewer to initialize");this.u=b;this.da=new a.o.od(this.u,e.gl)};d.hl.prototype={Ib:function(){return this.da},
dv:function(a){this.da.jn();null===this.u.v?(this.da=a,this.u.trigger("displayModeUpdated")):(this.Ox(a),this.u.O.Bh(this.u.ee()),this.u.trigger("zoomUpdated",this.u.hg()),this.u.Ti(),this.da.pu()&&(this.ug(),this.da.Pe()),this.u.yd(this.u.ic+1))},Ox:function(a){this.da=a;this.jD();this.u.O.Zs();this.u.trigger("displayModeUpdated")},jD:function(){var a=this.da.mode;_.isNull(a)||(a===e.jw?(this.da.tb=1,this.da.zf=Math.ceil(this.u.v.numPages/this.da.tb),this.da.Jc=Math.ceil(this.u.ic/this.da.tb),this.da.nc=
this.da.Jc,this.da.Be=this.da.Jc+1):a===e.gl?(this.da.tb=1,this.da.zf=Math.ceil(this.u.v.numPages/this.da.tb),this.da.Jc=-1,this.da.nc=0,this.da.Be=this.da.zf):a===e.Rv?(this.da.tb=2,this.da.Jc=Math.floor(this.u.ic/this.da.tb),this.da.zf=Math.ceil(this.u.v.numPages/this.da.tb),this.da.nc=this.da.Jc,this.da.Be=this.da.Jc+1):a===e.mr?(this.da.tb=2,this.da.Jc=-1,this.da.zf=Math.ceil(this.u.v.numPages/this.da.tb),this.da.nc=0,this.da.Be=this.da.zf):a===e.Dn?(this.da.tb=2,this.da.Jc=-1,this.da.zf=Math.ceil((this.u.v.numPages+
1)/this.da.tb),this.da.nc=0,this.da.Be=this.da.zf):a===e.En&&(this.da.tb=2,this.da.Jc=Math.floor(this.u.ic/this.da.tb),this.da.zf=Math.ceil(this.u.v.numPages/this.da.tb),this.da.nc=this.da.Jc,this.da.Be=this.da.Jc+1))},Bp:function(a,c){return this.da.getSelectedPages(a,c)},Pd:function(a,c){return this.da.getVisiblePages(a,c)},Fm:function(a,c,d){return this.da.Fm(a,c,d)},gd:function(a,c){return this.da.pageToWindow(a,c)},dj:function(a,c){return this.da.windowToPage(a,c)},hk:function(a){return this.da.getPageTransform(a)},
Yt:function(a){return this.da.getPageOffset(a)},Xj:function(){return this.da.Xj()},ug:function(a){return this.da.ug(a)},jn:function(a){return this.da.jn(a)},ip:function(a){return this.da.ip(a)},Pe:function(){return this.da.Pe()}};a.o.pd=e})(window);
(function(a){function f(){}var d=window.o,e=XODText;f.prototype=Object.create(Error.prototype);d.ea=function(){var b=this;this.select=_.bind(this.select,this);this.zb=e.zb;this.el=$("#viewer");this.el.empty();this.v=null;this.defaults={FitMode:this.Xe.nr,DisplayMode:new a.o.od(this,a.o.pd.gl),Zoom:1};this.eB();this.Wy=this.sE=this.fm=!1;this.Yz=function(a,b){b(a)};this.AA=function(a,b,d){d(a)};a.o.yr(5);this.$v=function(a){this.trigger("mouseLeftUp",a);b.oa&&b.oa.mouseLeftUp&&b.oa.mouseLeftUp(a);
for(var d in b.links)if(b.links.hasOwnProperty(d)){a=b.links[parseInt(d,10)];for(var e=0;e<a.length;++e)a[e].style&&(a[e].style.border="")}};this.Zv=function(a){this.trigger("mouseLeftDown",a);b.oa&&b.oa.mouseLeftDown&&b.oa.mouseLeftDown(a)};this.aw=function(a){this.trigger("mouseMove",a);b.oa&&b.oa.mouseMove&&b.oa.mouseMove(a)};this.IC=function(a){this.trigger("click",a)};this.SC=function(a){this.trigger("tap",a);b.oa&&b.oa.tap&&b.oa.tap(a)};this.KC=function(a){this.trigger("dblClick",a);b.oa&&b.oa.mouseDoubleClick&&
b.oa.mouseDoubleClick(a)};this.LC=function(a){this.trigger("keyDown",a);b.oa&&b.oa.keyDown&&b.oa.keyDown(a)};this.MC=function(a){this.trigger("keyUp",a);b.oa&&b.oa.jH&&b.oa.jH(a)};this.JC=function(a){b.oa&&b.oa.contextMenu&&b.oa.contextMenu(a)};this.NC=function(a){this.trigger("mouseEnter",a);b.oa&&b.oa.AH&&b.oa.AH(a)};this.OC=function(a){this.trigger("mouseLeave",a);b.oa&&b.oa.mouseLeave&&b.oa.mouseLeave(a)};this.PC=function(a){this.trigger("mouseRightDown",a);b.oa&&b.oa.aq&&b.oa.aq(a)};this.QC=
function(a){this.trigger("mouseRightUp",a);b.oa&&b.oa.BH&&b.oa.BH(a)};this.RC=function(a){b.oa&&b.oa.IA&&b.oa.IA(a)}};d.ea.prototype={DE:function(){function b(b){f=!0;var d=c.v.sb()[b-1];if(d){var e,h,k=c.cd().dh();if(l&&l!==d){for(e=0;e<k;++e)h=k[e],h.qh()&&h.pageNumber===m&&k[e].zd("PC",new a.Annotations.K.ib.Events.pl("Close",c,{}));l.zd("C",new a.Annotations.K.ib.Events.pl.create("Close",c,{}))}l=d;m=b;d.zd("O",new a.Annotations.K.ib.Events.pl.create("Open",c,{}));for(e=0;e<k;++e)h=k[e],h.qh()&&
h.pageNumber===b&&k[e].zd("PO",new a.Annotations.K.ib.Events.pl("Close",c,{}))}}var c=this;c.el.on("dragstart",function(a){"IMG"===a.target.nodeName&&a.preventDefault()});c.el.on("touchstart",function(a){c.Zv(a)});c.el.on("touchmove",function(a){c.wb={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY};c.aw(a)});c.el.on("touchend",function(a){c.$v(a);c.cs=!1});c.el.on("pointerdown",function(a){c.RC(a)});c.el.dblclick(function(a){c.KC(a)});c.el.click(function(a){c.IC(a)});c.el.on("tap",
function(a){c.SC(a)});$(window).on("keydown",function(a){c.LC(a)});$(window).on("keyup",function(a){c.MC(a)});c.el.on("contextmenu",function(a){c.JC(a)});c.el.mouseenter(function(a){c.NC(a)});var d=c.el,e=c.Rb();0<e.length&&(d=e);d.mousedown(function(a){1===a.which?(c.Zv(a),c.cs=!0):3===a.which&&(c.PC(a),c.vx=!0)});$(document).on("mouseup",function(a){1===a.which&&c.cs?(c.$v(a),c.cs=!1):3===a.which&&c.vx&&(c.QC(a),c.vx=!1)});$(document).mousemove(function(a){c.wb={x:a.pageX,y:a.pageY};c.aw(a)});c.el.mouseleave(function(a){c.OC(a)});
if(c.ba.Ib().Lk)c.Rb().on("scroll",_.bind(c.onscroll,c));$(a).on("resize",_.bind(c.resize,c));c.on("PAUSE",function(){c.Ia.pause()});c.on("RESUME",function(){c.Ia.resume()});var f=!1,l=null,m;c.on("documentReady",function(){c.v.zd("Init",new a.Annotations.K.ib.Events.Pv.create("Open",c,{}));c.v.zd("Open",new a.Annotations.K.ib.Events.Pv.create("Open",c,{}));f||b(1)});c.on("pageNumberUpdated",function(a,d){b(d);c.v.Xi({currentPage:d})});c.on("visiblePagesChanged",function(a,b){c.v.Xi({visiblePages:b});
var d=_.intersection(b,c.Wl);d.length&&(clearTimeout(c.tE),c.tE=setTimeout(function(){c.zh.le("DocumentViewer.renderRequest",{type:"annotations",pages:d})},80))})},resize:function(a){a&&a.target!==window||!this.v||!this.ba.Ib().Lk||(this.ee===this.Xe.Zoom?(this.Cs(),this.ba.Ib().Pe(),this.onscroll()):(a=this.ee(),a!==this.O.wf?(this.Rl(a),this.Ts()):(this.ba.Ib().Pe(),this.Ts(),this.onscroll())))},Ts:function(){var a=this.Rb(),c=(a[0].scrollWidth-a.width()+this.Ap())/2;a.scrollLeft(c)},EI:function(){this.resize()},
uy:function(){var a=this;return this.bp=this.bp.then(function(){return a.v?(a.Ti(!0),Promise.resolve(a.Kc()).then(function(){a.eB()})):Promise.resolve()})},eB:function(){this.v=null;this.bp=Promise.resolve();this.Ia=new a.o.WC(this);this.ba=new a.o.hl(this);this.ba.dv(this.defaults.DisplayMode);this.ee=this.defaults.FitMode;this.aB=!1;this.ic=0;this.links={};this.ki=[];this.O=new d.Br(null);this.wb=this.Mc=null;this.$u=!1;this.margin=8;this.cB=this.dB=0;this.rn=new e.sd;this.Oc=this.Eu=null;this.pA=
this.Cu=this.Qp=this.loop=!1;this.qA=this.rA=null;this.CB="rgba(0, 0, 200, 0.3)";this.zh=new a.o.tj.ql;var b=this;this.zh.Tu("DocumentViewer.renderRequest",{read:function(a){a.Ms&&b.ba.Pe();b.aK();a=b.ba.Pd();b.Ia.Xk(a);return{oc:a,DI:b.fI()}},consolidateChanges:function(a){var b=a.filter(function(a){return"pages"===a.type}),d=a.filter(function(a){return"annotations"===a.type}),e=a.filter(function(a){return"layout"===a.type});a=a.filter(function(a){return"retainScroll"===a.type});var f=[];b.length&&
f.push({type:"pages",pages:_.union.apply(null,b.map(function(a){return a.pages||[]})),useVisiblePages:b.some(function(a){return!!a.useVisiblePages}),check:b.every(function(a){return!!a.check})});d.length&&f.push({type:"annotations",pages:_.union.apply(null,d.map(function(a){return a.pages||[]}))});e.length&&f.push({type:"layout",pages:_.union.apply(null,e.map(function(a){return a.pages||[]}))});return f=f.concat(a)},write:function(a,d){var e={Ms:!1};d.forEach(function(d){var f;"pages"===d.type?(f=
d.useVisiblePages?_.union(a.oc,d.pages):_.intersection(a.oc,d.pages),0<f.length&&(d.check?b.Ia.NE():b.Wk(f))):"annotations"===d.type?(f=_.intersection(a.oc,d.pages),b.Wl=_.without(b.Wl,f),f.forEach(function(a){b.$g(a)})):"layout"===d.type?(e.Ms=!0,d.pages.forEach(function(a){b.O.jv(a,void 0)}),d=b.ba.ug().concat(d.pages),d.length&&(d.forEach(function(a){b.Ia.Nm(b.O.eg(a))}),b.zh.le("DocumentViewer.renderRequest",{type:"pages",pages:d})),b.Ia.MB(b.hg())):"retainScroll"===d.type&&b.pK(a.DI)});return e}},
{Ms:!0},!1);this.pa=new a.o.ga(this);this.kq=[];this.Wl=[];this.Mo=null;this.Vl=Promise.resolve()},fI:function(){var a=this.gh()-1,c=this.Rb(),d=c.scrollLeft(),c=c.scrollTop(),e=document.getElementById("pageContainer"+a);e&&(d-=e.offsetLeft+e.parentNode.offsetLeft,c-=e.offsetTop+e.parentNode.offsetTop);return{Nc:a,x:d,y:c}},pK:function(a){var c=document.getElementById("pageContainer"+a.Nc),d=a.x;a=a.y;c&&(d+=c.offsetLeft+c.parentNode.offsetLeft,a+=c.offsetTop+c.parentNode.offsetTop);this.scrollTo(d,
a)},lC:function(a){var c={};_.isUndefined(a)||(_.isObject(a)?c=a:c.docId=a);"onError"in c||(c.onError=function(a){throw Error("Error loading document: "+a);});"getPassword"in c||(c.getPassword=function(){throw Error("Document requires a password. If you wish to process this type of document please define a getPassword callback.");});"docId"in c||(c.docId=null);"workerTransportPromise"in c||"pdf"!==c.type||(c.workerTransportPromise=d.Wz(c.pdfBackendType,c.workerHandlers,c.l));return c},PA:function(a){this.zh.le("DocumentViewer.renderRequest",
{type:"layout",pages:a});this.zh.le("DocumentViewer.renderRequest",{type:"retainScroll"})},ik:function(){return this.zh},SA:function(a,c){var d=this;this.kq=this.kq.concat(a);this.Mo||(this.Mo=setTimeout(function(){if(d.rh===c){var e=d.kq;d.kq=[];d.Mo=null;d.Vl=d.Vl.then(function(){if(d.rh===c){var a=e.map(function(a){return a+1});d.pa.TA(a);return d.getDocument().lm(a)}}).then(function(e){return new Promise(function(f){d.rh===c&&e?d.AA(e.xfdfString,a,function(e){d.rh!==c||_.isUndefined(e)?f():d.pa.lu(e,
function(){d.Wl=d.Wl.concat(a);f()},{Jp:!0})}):f()})})}},400))},uh:function(b,c){var e=this;c=e.lC(c);var h=new a.CoreControls.Document(c.docId,c.type);this.rh=h;h.Df(e);var g=e.bp.then(function(){return new Promise(function(a,d){h.uh(b,function(b){h!==e.rh?(h.Qe(),d(new f)):b?(c.onError(b),d(b)):null!==e.v?a(e.uy().then(function(){return h})):a(h)},{annotsLoadedCallback:function(a){e.rh===h&&g.then(function(){e.Yz(a,function(a){if(e.rh===h&&!_.isUndefined(a)){var b=new Promise(function(a){e.on("documentReady.annotsLoaded",
function(){a("ready")})});e.Vl=e.Vl.then(function(){return b});e.pa.lu(a,function(){e.rh===h&&e.Ia.tG().forEach(function(a){e.$g(a)});e.trigger("documentReady")},{Jp:!0})}})})},getPassword:c.getPassword,workerTransportPromise:c.workerTransportPromise,extension:c.extension})})}).then(function(b){e.v=b;e.O=new d.Br(b);e.defaults.FitMode===e.Xe.Zoom&&e.O.Bh(e.defaults.Zoom);e.v.on("bookmarksUpdated",function(){e.trigger("bookmarksUpdated")});e.O.on("layoutChanged",function(a,c){e.PA(c.contentChanged.map(function(a){return a-
1}));var d=!1;0<c.added.length&&(e.SA(c.added.map(function(a){return a-1}),b),d=!0);0<c.removed.length&&(e.Ia.LB(e.v.Am()),d=!0,e.ic>=e.yc()&&e.Bo(e.yc()-1));d&&e.ba.dv(e.ba.Ib());0<c.contentChanged.length&&e.SA(c.contentChanged.map(function(a){return a-1}),b);e.trigger("layoutChanged",[c])});e.O.on("zoomChanged",function(a,b){e.SB=e.Ia.Re;e.Ia.MB(b)});e.pa.oI(e.O);e.trigger("beforeDocumentLoaded");c.type&&"xod"!==c.type||e.Ia.mJ(!0);e.Ia.init();e.ba.Ox(e.ba.Ib());e.Wy||(e.Wy=!0,e.DE());if(e.ba.Ib().mode!==
a.o.pd.Ff){e.O.Bh(e.Co(e.ee));e.Ti();e.ba.ug();e.ba.Pe();e.Wk();var f=e.Rb(),h=(f[0].scrollWidth+e.Ap()-f.innerWidth())/2;f.scrollLeft(h)}e.trigger("documentLoaded");1.2>=e.v.v.xg&&e.trigger("documentReady")})["catch"](function(a){if(!(a instanceof f))c.onError(a)})},Rb:function(){return $("#DocumentViewer")},yG:function(){return document.getElementById("DocumentViewer")},Ap:function(){var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');
$("body").append(a);var c=$("div",a).innerWidth();a.css("overflow-y","auto");var d=$("div",a).innerWidth();$(a).remove();return c-d},Kc:function(){var a=this;if(this.v)return clearTimeout(this.Mo),Promise.all([this.Vl,this.zh.Kc(),this.pa.eC(),this.Ia.Kc(),this.O.Kc()]).then(function(){a.off("documentReady.annotsLoaded");a.v.off();return a.v.Qe()})},Pb:function(a){var c=this.v.Bm(a);return 90===c||270===c?this.v.Qb(a):this.v.Pb(a)},Qb:function(a){var c=this.v.Bm(a);return 90===c||270===c?this.v.Pb(a):
this.v.Qb(a)},De:function(a){return this.v.De(a)},cd:function(){return this.pa},WI:function(a){this.Yz=a},fJ:function(a){this.AA=a},rm:function(){return this.ba},Lq:function(b,c){a.o.Ja.Lq(b,c)},kd:function(a){"undefined"!==typeof a.enableAnnotations&&(this.fm=a.enableAnnotations?!0:!1);"undefined"!==typeof a.annotMode&&(this.sE=a.annotMode?!0:!1)},hg:function(){return this.O.wf},xz:function(){return this.margin},YI:function(a){this.margin=a},Cp:function(){return this.O.Cp()},pJ:function(a){this.CB=
a},AG:function(){return this.oa},Ac:function(a){return _.isUndefined(a)?this.O.Gp:this.O.xd(a-1).rotation},rf:function(a){var c=this.Ac(a);if(_.isUndefined(a))return c;a=this.op(a)/90;return(c+a)%4},lJ:function(a,c){var d;0<=a&&3>=a&&(_.isUndefined(c)?(this.O.fv(a),this.O.PE()):(d=c-1,this.O.mn(d,a)),this.rotate(d))},op:function(a){--a;return 0>a||_.isNaN(a)?0:this.v.Bm?this.v.Bm(a):0},dJ:function(a){var c=this;Object.keys(a).forEach(function(d){c.O.mn(d,a[d])});this.Rl(this.ee(),void 0,void 0,!0)},
mG:function(){return this.O.$F()},getDocument:function(){return this.v},Nz:function(a){var c=null;this.Ia.Re&&(c=this.ba.Ib(),c=c.Fm(a,c.Gn(this.Ia.be,this.Ia.be)));return c},eh:function(b){var c=this.v.Lc(b),d=this.mb(b),e=this.ba.hk(b),f,l=this.Nz(b);l&&(f=l.Gk,e=l.zv);return a.o.Ja.eh(b,{width:c.width,height:c.height},d,this.Ac(b+1),e,f,this.op(b+1)/90)},VF:function(){return this.ee},bu:function(){return this.aB},kJ:function(a){this.aB=a},mF:function(a){a.url?this.VL(a.url):a.isValid()?this.bm(a.Oi,
a.Yk,a.lk):console.warn("Tried to go to invalid bookmark destination")},bm:function(a,c,d){if(this.ba.Ib().Lk){this.gh()!==a&&this.yd(a);var e=this.Qb(a-1),f=this.Pb(a-1);a=this.ba.gd({x:d>e?0:0>d?0:d,y:c>f?0:0>c?0:c},a-1);c=this.Rb().offset();this.scrollTo(a.x-c.left,a.y-c.top)}else this.trigger("displayPageLocation",[a,c,d])},scrollTo:function(a,c){this.Rb().scrollLeft(a).scrollTop(c)},IJ:function(a,c,d){this.rA=a;this.qA=c;this.Cu=!0;this.pA=d},LJ:function(a){var c=!1;if(null===this.Eu||this.Eu!==
a)c=!0;if(null===this.loop||!0===this.loop)c=!0;this.Eu=a;this.Oc!==this.ic&&(this.Oc=this.ic,c=!0);return c},FB:function(a,c,d,f){d=d||!1;for(var g=this,l=!0,m=0;m<a.length;++m){var p=a.charCodeAt(m);if(!(1424<=p&&1535>=p||1536<=p&&1791>=p||1872<=p&&1919>=p||64336<=p&&65023>=p||65136<=p&&65279>=p)){l=!1;break}}l&&(a=a.split("").reverse().join(""));g.QM=g.ic;if(!0===this.Qp)this.IJ(a,c,d);else{l=d?function(){}:function(a){a.yq===e.yb.dm?g.My(a):a.yq===e.yb.ah&&g.trigger("notify","endOfDocumentSearch")};
f=f||l;if(d||this.LJ(a))d?(l=this.Oc=0,m=this.v.numPages-1):0<(c&e.zb.xt)?(m=!0===this.loop?this.v.numPages-1:this.Oc,l=0):(l=!0===this.loop?0:this.Oc,m=this.v.numPages-1),this.rn.CE(this.v,a,c,l,m);this.rn.setMode(c);this.NJ(d,f)}},NJ:function(a,c){function d(){function k(){m=[];l=g.rn.run(m);q=l.yq;l.FM=m;var d=l;d.ambient_str=l.fy;d.result_str=l.Yu;d.result_str_start=l.$A;d.result_str_end=l.ZA;d.page_num=l.Mu;d.resultCode=q;d.quads=m;if(q===e.yb.fp){if(g.rn.yf()?0<g.Oc&&g.Oc--:g.Oc<g.v.numPages-
1&&g.Oc++,!0===g.Cu){g.Cu=!1;g.Qp=!1;setTimeout(function(){g.FB(g.rA,g.qA,g.pA,c)},0);return}}else q===e.yb.dm?(g.O.$s(),g.O.iB(l.Mu,l.Yu)):q!==e.yb.ah||a||(g.loop=!0);c(d);q===e.yb.ah||!a&&q===e.yb.dm?g.Qp=!1:null!==g.v.Ez(g.Oc)?setTimeout(k,0):g.v.je(g.Oc,f)}var q=-1;null!==g.v.Ez(g.Oc)?setTimeout(k,0):g.v.je(g.Oc,f)}function f(a){p===g.v&&(g.v.eJ(g.Oc,a),d())}var g=this;this.Qp=!0;!0===this.loop&&(g.Oc=this.rn.yf()?this.v.numPages-1:0,this.loop=!1);var l,m=[],p=this.v;d()},hA:function(a,c){a!==
this.ic&&this.yd(a+1);if(0<c.length){c=c.map(function(a){return a.uf?a.uf():a});for(var d=c[0].y4,e=c[0].x4,f=c[0].y2,l=c[0].x2,m=1;m<c.length;m++)c[m].x4<e&&(e=c[m].x4),c[m].y4<d&&(d=c[m].y4),c[m].x2>l&&(l=c[m].x2),c[m].y2>f&&(f=c[m].y2);var m=this.Rb(),p=m.scrollTop(),n=p+m.innerHeight(),q=m.scrollLeft(),u=q+m.innerWidth(),d=this.ba.gd({x:e,y:d},a),r=this.ba.gd({x:l,y:f},a),l=d.x<r.x?d.x:r.x,f=d.y<r.y?d.y:r.y,e=d.x>r.x?d.x:r.x,d=d.y>r.y?d.y:r.y;if(l<q||f<p||e>u||d>n)p=e-l,n=d-f,p=l-m.innerWidth()/
2+p/2-m.offset().left,m=f-m.innerHeight()/2+n/2-m.offset().top,this.scrollTo(p,m)}},My:function(a,c){this.ct();var d=a.page_num;this.O.Zs();this.O.jB(d,a.quads);"undefined"!==typeof c?c(d,a.quads):this.hA(d,a.quads);this.$u=!0;this.Jm(d)},GI:function(a,c,d){var f=new e.Ba;f.Xa(c.x,c.y,c.x+1,c.y+1);var g=this,l=new e.Rn(this.v),m=this.v;m.je(a,function(){m===g.v&&(l.hE(a,f),d(a,l.Od(),l.Qa))})},Nk:function(a,c,d){if(c.constructor!==e.Ba){var f=new e.Ba;f.Xa(c.x1,c.y1,c.x2,c.y2);c=f}var g=this,l=new e.Rn(this.v),
m=this.v;m.je(a,function(){if(m===g.v){"rectangular"===Tools.Db.SELECTION_MODE?l.HI(a,c):l.FI(a,c);var e=l.Qa,f=l.Od();d&&d(a,f,e)}})},oq:function(a,c,d){this.$u=!1;this.O.iB(a,d);this.O.jB(a,c);this.trigger("textSelected",[c,d,a]);this.ct();this.PG()},sF:function(a){this.Jm(a-1)},Jm:function(a){var c=this.O.xd(a).Uk;if(c&&0!==c.length){var d=this.eh(a);if(null!==d){for(var d=d.getContext("2d"),e=0;e<c.length;e++){var f=c[e];f.uf&&(f=f.uf());d.fillStyle=this.CB;d.beginPath();d.moveTo(f.x1,f.y1);d.lineTo(f.x2,
f.y2);d.lineTo(f.x3,f.y3);d.lineTo(f.x4,f.y4);d.closePath();d.fill()}if(!this.$u){var e={Od:function(){return c.map(function(a){return a.uf()})}},f=this.O.Xt(),l=!1,m=!1;a===f[0]&&(l=!0);a===f[f.length-1]&&(m=!0);d.save();(new Annotations.Qh(e,!0,!1,l,m)).draw(d,e,this.mb(a));d.restore()}}}},PG:function(){var a=this;this.O.Xt().forEach(function(c){a.Jm(c)})},select:function(a,c){if(null!==this.Mc&&null!==this.wb||a||c){this.O.$s();var d;a&&c?(a.Nc=a.pageIndex,a.x=a.x,a.y=a.y,c.Nc=c.pageIndex,c.x=
c.x,c.y=c.y,d={first:a.Nc,last:c.Nc}):(console.error("deprecated"),d=this.ba.Bp());var f=d.first;d=d.last;if(null!==f&&null!==d){var g=new e.Ba,l=a?a:this.ba.dj(this.Mc,f),m=c?c:this.ba.dj(this.wb,f),p;l.y>m.y&&(p=l,l=m,m=p);p=this.Qb(f);var n=this.Pb(f);1<=d-f?g.Xa(l.x,l.y,p,n):g.Xa(l.x,l.y,m.x,m.y);this.Nk(f,g,_.bind(this.oq,this));for(l=f+1;l<d;l++)g=new e.Ba,p=this.Qb(l),n=this.Pb(l),g.Xa(0,0,p,n),this.Nk(l,g,_.bind(this.oq,this));f!==d&&(l=a?a:this.ba.dj(this.Mc,d),m=c?c:this.ba.dj(this.wb,d),
l.y>m.y&&(m=l),g=new e.Ba,g.Xa(0,0,m.x,m.y),this.Nk(d,g,_.bind(this.oq,this)))}}},ty:function(b){if(0!==this.Cp().length||0!==this.O.Xt().length){var c=this.eh(b);null!==c&&(a.o.Ja.Ws(c,this.Qb(b),this.Pb(b)),this.fm&&this.pa.bc(b+1))}},ct:function(){var a=this;this.Ia.oc.forEach(function(c){a.ty(c)})},sy:function(){this.O.$s();this.O.Zs()},bt:function(){this.ct();this.sy();this.trigger("textSelected",[null,""])},wG:function(b,c){var d=this.mb(c),e=this.rf(c+1);b=a.Dc(d,e,{width:this.Qb(c),height:this.Pb(c)},
null,!1).W(b);return{x:b.x,y:b.y}},xG:function(b,c){var d=this.mb(c),e=this.Ac(c+1);b=a.Dc(d,e,this.v.Lc(c),0,!1).W(b);return{x:b.x,y:b.y}},Xe:{nr:function(){var a=this.Ap(),c=this.Rb(),d;d=1===this.ba.Ib().tb?this.O.xd(this.ic).width:this.ba.Xj().xa()/this.hg();return parseFloat(c.innerWidth()-a-this.margin*this.ba.Ib().tb*2)/(d+1)},Tv:function(){var a=this.Rb(),c=this.O.xd(this.ic),d=parseFloat(a.innerHeight()-2*this.margin)/c.height,c=1===this.ba.Ib().tb?c.width:this.ba.Xj().xa()/this.hg(),a=parseFloat(a.innerWidth()-
this.Ap()-this.margin*this.ba.Ib().tb*2)/(c+1);return d<a?d:a},Zoom:function(){this.Cs();return this.O.wf}},qJ:function(a){if(a&&this.oa!==a){this.bt();var c;this.oa&&(this.oa.switchOut&&this.oa.switchOut(a),c=this.oa);a.switchIn&&a.switchIn(this.oa);this.oa=a;this.trigger("toolModeUpdated",[a,c])}},gK:function(){var a=this.Rb();this.dB=parseFloat(a.scrollTop())/a[0].scrollHeight;this.cB=parseFloat(a.scrollLeft()+a.innerWidth()/2)/a[0].scrollWidth},fK:function(){var a=this.Rb(),c=this.dB*a[0].scrollHeight,
a=this.cB*a[0].scrollWidth-a.innerWidth()/2;this.scrollTo(a,c)},ev:function(b){null===this.v?(this.ee=b,this.trigger("fitModeUpdated",this.ee)):(b=this.Co(b),this.ba.Ib().mode===a.o.pd.Ff?this.O.Bh(b):b!==this.O.wf&&(this.Rl(b),this.Ts()))},Co:function(a){this.ee=a;a=this.ee();this.trigger("fitModeUpdated",this.ee);return a},rotate:function(a){var c;_.isUndefined(a)||(c=a+1);this.Rl(this.ee(),void 0,void 0,!0);this.trigger("rotationUpdated",[this.rf(c),c])},jk:function(a,c){return c?(a+1)%4:(a-1+
4)%4},wI:function(a){var c=this,d;_.isUndefined(a)?(this.O.fv(this.jk(this.Ac(),!0)),this.O.cz(function(a){a.rotation=c.jk(a.rotation,!0)})):(d=a-1,this.O.mn(d,this.jk(this.Ac(a),!0)));this.rotate(d)},xI:function(a){var c=this,d;_.isUndefined(a)?(this.O.fv(this.jk(this.Ac(),!1)),this.O.cz(function(a){a.rotation=c.jk(a.rotation,!1)})):(d=a-1,this.O.mn(d,this.jk(this.Ac(a),!1)));this.rotate(d)},Rl:function(a,c,d,e){this.O.Bh(a);this.ba.Ib().Lk&&("undefined"!==typeof c&&"undefined"!==typeof d?(this.Ti(),
this.ba.ug(),this.ba.Pe(),this.scrollTo(c,d)):(this.gK(),this.Ti(!1,e),this.ba.ug(),this.ba.Pe(),this.fK()),this.Ia.Vs(),this.Wk(),this.trigger("zoomUpdated",this.O.wf))},Jv:function(a,c,d){this.Co(this.Xe.Zoom);null===this.v?(this.O.Bh(a),this.trigger("zoomUpdated",a)):this.Rl(a,c,d)},yK:function(a,c,d){this.Co(this.Xe.Zoom);this.O.Bh(a);a=this.Rb();c=this.wb.x-c;d=this.wb.y-d;var e=(parseFloat(a.scrollTop())+d)/a[0].scrollHeight,f=(parseFloat(a.scrollLeft())+c)/a[0].scrollWidth;this.Ti();this.ba.ug();
this.ba.Pe();this.scrollTo(f*a[0].scrollWidth-c,e*a[0].scrollHeight-d);this.Wk();this.trigger("zoomUpdated",this.O.wf)},mb:function(a){return this.O.xd(a).zoom},kv:function(a,c){var d=this.O.eg(a);this.Ia.zK(d);this.O.kv(a,c)},Ti:function(b,c){this.Ia.VE(this.O.wf,c);this.links=[];if(this.ba.Ib().mode!==a.o.pd.Ff){var d=this.Ia.oc;if(c)this.O.QE();else for(var e=0;e<d.length;e++){var f=d[e],l;l=this.SB?$("#pageContainer"+f).find("#hrthumb"+f):$("#pageContainer"+f).find(".canvas"+f+":not(.progressive)");
0<l.length&&this.O.jv(f,l)}}this.ba.jn(!b)},pI:function(a){if(this.ba.Ib().Lk){var c=$("#pageContainer"+a),d=$(document.activeElement);0<d.closest("#pageWidgetContainer"+a).length&&d.trigger("focusout");c.children().detach();c.addClass("loading")}a in this.links&&delete this.links[a]},Bo:function(a){if(0>a||a>=this.O.N.length)return!1;this.ic!==a&&(this.ic=a,this.trigger("pageNumberUpdated",a+1));return!0},yd:function(b){if(!this.ba.Ib().Lk)this.trigger("changePage",b);else if(!1!==this.Bo(parseInt(b,
10)-1)){this.By=!0;b=this.ic;var c=this.ba.Ib();c.pu()||c.mode===a.o.pd.Ff||(this.ba.Ib().mode===a.o.pd.En&&b++,c.Jc=Math.floor(parseFloat(b)/c.tb),c.nc=c.Jc,c.Be=c.Jc+1,this.ba.ug(),this.ba.Pe());b=this.v.Lc(this.ic);var c=this.ba.gd({x:0,y:0},this.ic),d=this.ba.gd({x:b.width,y:b.height},this.ic);b=c.x<d.x?c.x:d.x;c=c.y<d.y?c.y:d.y;d=this.Rb().offset();this.scrollTo(b-d.left,c-this.margin-d.top);this.Wk()}},gh:function(){return this.ic+1},yc:function(){return this.v.numPages},oF:function(){this.yd(this.O.N.length)},
nF:function(){this.yd(1)},Cs:function(a){a=a||this.ba.Xj().ua();var c=0,d=document.getElementById("docpad");if(null!==d){var e=this.yG(),e=e?parseFloat(e.style.height):0;e>a&&(c=Math.floor((e-a)/2));d.style.marginBottom=parseInt(c,10)+"px"}},wE:function(b,c){var d=this.mb(c),e=this.O.xd(c),f=this.Ac(c+1),l=e.width*d,d=e.height*d,e=null;f===a.o.sa.bd||f===a.o.sa.Ld?(e="rotate("+90*f+"deg)",e=f===a.o.sa.bd?" translate("+l+"px, 0)  "+e:" translate(0,"+d+"px)  "+e,b.css("height",l),b.css("width",d)):
(f===a.o.sa.si&&(e="translate("+l+"px,"+d+"px) scale(-1,-1)"),b.css("width",l),b.css("height",d));null!==e&&b.css({position:"absolute",transform:e,"transform-origin":"top left","ms-transform":e,"ms-transform-origin":"top left","-moz-transform":e,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":e,"-o-transform":e,"-o-transform-origin":"top left"})},iy:function(b,c,d,e){b.id=(e?"hrthumb":"thumb")+c;b.style.position="absolute";var f=$(b);this.wE(f,c);d&&(f.css("z-index",
e?"10":"7"),d=$("#pageContainer"+c),0<d.length?0===d.find("#"+b.id).length&&d.prepend(b):a.utils.warn("appendThumb: Page container "+c+" missing"))},$g:function(a){this.Oo(a);this.ty(a);this.YE(a);this.pa&&(this.bK(a),this.pa.bc(a+1,void 0,!0));this.Jm(a)},Xl:function(b,c){var d=a.o.Ja.Xl(b,c);d||a.utils.warn("appendAllCanvas: Page container for page "+c+" does not exist.");return d},Oo:function(b){var c,d=this.Nz(b);d&&(c=d.Gk);var d=this.v.Lc(b),e=this.op(b+1);if(90===e||270===e)e=d.width,d.width=
d.height,d.height=e;a.o.Ja.Oo(b,d,this.mb(b),this.rf(b+1),c)},Aq:function(b,c){a.o.Ja.Aq(b,c)},YE:function(b){var c=this.v.Lc(b),d=c.width,c=c.height,e=this.v.Bm(b);if(90===e||270===e)e=d,d=c,c=e;var e=this.mb(b)/a.utils.getCanvasMultiplier(),d=d*e,c=c*e,f=a.Dc(1,this.rf(b+1),{width:d,height:c}),e=$("#pageWidgetContainer"+b);0===e.length&&(e=$('<div id="pageWidgetContainer'+b+'" />'),a.o.Ja.Oz(b).append(e));f="matrix("+f.m_a.toFixed(10)+","+f.m_b.toFixed(10)+","+f.m_c.toFixed(10)+","+f.m_d.toFixed(10)+
","+f.m_h.toFixed(10)+","+f.m_v.toFixed(10)+")";b=this.ba.Yt(b);e.css({position:"absolute",top:b.y,left:b.x,width:d,height:c,"z-index":40,transform:f,"transform-origin":"top left","-webkit-transform":f,"-webkit-transform-origin":"top left","-ms-transform":f,"-ms-transform-origin":"top left","-moz-transform":f,"-moz-transform-origin":"top left",overflow:"hidden"});return e},zm:function(a){return this.O.xd(a)},kI:function(){this.trigger("layoutChanged",{contentChanged:_.range(1,this.yc()+1),removed:[],
added:[],moved:{}});this.Ia.Vs()},lI:function(a){this.trigger("layoutChanged",{contentChanged:[a],removed:[],added:[],moved:{}});this.Ia.Nm(this.zm(a-1).id)},bK:function(a){a=this.v.kG(a);_.isArray(a)&&this.pa.Rj(a,!0)},Wk:function(a,c){_.isUndefined(c)||this.Bo(c);this.Xk(a);this.Ia.kt(a)},Xk:function(a){a=a||this.ba.Pd();var c=this.Ia.zE(a);this.Ia.Xk(a);c&&this.trigger("visiblePagesChanged",[a])},Tk:function(a){this.Ia.Tk(a)},onscroll:function(){this.v&&this.zh.le("DocumentViewer.renderRequest",
{type:"pages",useVisiblePages:!0,check:!0})},MG:function(a){return 0<$("#pageContainer"+a).find("#thumb"+a).length},KG:function(a){return 0<$("#pageContainer"+a).find("#hrthumb"+a).length},aK:function(){if(this.By)this.By=!1;else{var b=0,c;this.Xk();for(var d=this.Ia.oc,e=0;e<d.length;e++){var f=this.Rb(),l=f.scrollTop(),m=l+f.innerHeight(),p=f.scrollLeft(),f=p+f.innerWidth(),m={x1:p,y1:l,x2:f,y2:m},f=d[e];0>f||(l=this.v.Lc(f),p=this.ba.gd({x:0,y:0},f),f=this.ba.gd({x:l.width,y:l.height},f),m=a.utils.getRectIntersection(m,
{x1:p.x<f.x?p.x:f.x,y1:p.y<f.y?p.y:f.y,x2:p.x>f.x?p.x:f.x,y2:p.y>f.y?p.y:f.y}),l=parseFloat((m.x2-m.x1)*(m.y2-m.y1))/(l.width*l.height),l>b&&(c=d[e],b=l))}0<b&&this.Bo(c)}},pv:function(a){this.Ia.pv(a)},lB:function(){}};$.extend(d.ea.prototype,a.utils.eventHandler);Object.defineProperty(d.ea.prototype,"zoom",{get:function(){return this.hg()},set:function(a){this.O.Bh(a)}});a.o=a.o||{}})(window);window.o.ea.prototype.version="2.2.2.57302";
(function(a){var f=a.Annotations||{};a.Annotations=f;f.K=f.K||{};f.K.getUsableInputWidth=function(a){return a};f.K.kj=function(a){this.$a={};this.Ns=[];this.pa=a;this.bs=!1;this.sv=this.jx=!0};f.K.kj.prototype={NI:function(a){this.Ns=a},lb:function(a){if(!a)return null;a=a.split(".");var e=this.$a[a[0]];if(e)for(var b=1;b<a.length&&(e=e.Ot(a[b]),e);++b);return e?e:null},Io:function(a,e){if(e){var b=this.xp(a.name);b.set(a);a=b;a.widgets.forEach(function(b){b.gB(a)});a.off("change")}else b=a.name.split("."),
1===b.length?this.$a[a.name]=a:this.xp(b.slice(0,-1).join(".")).$x(new f.K.ca(a.name,a));a.set({fieldManager:this});this.pa&&a.Df(this.pa.u);a.on("change",_.bind(this.At,this));return a},Ro:function(a,e){if(!this.bs&&this.sv){this.bs=!0;var b=this.Ns;if(!e||this.jx)e=0,this.jx=!1;for(var c=e;c<b.length;++c){var f=b[c],h=this.lb(f);h?h.trigger("calculate",[a]):console.warn("Non-existent field referenced in calculation order",f,h)}this.bs=!1}},At:function(a,e){this.Ro(e,0);this.pa.trigger("fieldChanged",
[e,e.value])},xp:function(d){if(!d)return null;d=d.split(".");var e=this.$a[d[0]];e||(e=new a.Annotations.K.ca(d[0],{fieldManager:this}),e.on("change",_.bind(this.At,this)),this.$a[d[0]]=e);for(var b=1;b<d.length;++b){var c=d[b],f=e.Ot(c);f?e=f:(f=new a.Annotations.K.ca(e.name+"."+c,{fieldManager:this}),e.$x(f),e=f,e.on("change",_.bind(this.At,this)))}this.pa&&e.Df(this.pa.u);return e},un:function(a){this.om(function(e){e.Ev(a)})},om:function(a){var e=this;Object.keys(this.$a).forEach(function(b){a(e.$a[b])})},
Kc:function(){this.om(function(a){a.off()})}}})(window);
(function(a){a.Annotations||(a.Annotations={});var f=a.Annotations;f.K=f.K||{};f.K.ca=function(d,e){if(e instanceof f.K.ca)return e;a.Actions.Gf.call(this,e);this.ve=d;this.Wd=[];this.ye=[];this.di=!1;this.qf=null;this.Gj=new f.If;this.Eb=new f.Jg({mask:["ReadOnly","Required","NoExport"]});this.$d=-1;this.Fb||(this.Fb=new f.K.ca.ub(this));this.initialize(e);this.on("calculate",_.bind(this.Ro,this));this.on("commit",_.bind(this.dt,this))};f.K.ca.prototype={initialize:function(a){_.isObject(a)&&(a.type&&
this.nB(a.type),_.isArray(a.children)&&$.extend(this.Wd,a.children),a.widgets&&$.extend(this.ye,a.widgets),a.fieldManager&&(this.qf=a.fieldManager),a.font&&this.Gj.set(a.font),_.isUndefined(a.maxLen)||(this.$d=Number(a.maxLen)),this.Fb.set(a))},set:function(a){this.initialize(a);_.isObject(a)&&_.isObject(a.actions)&&this.Ho(a.actions)},dz:function(a){this.ye.forEach(a)},nB:function(a){"Tx"===a?this.Fb=new f.K.ca.Ar(this,this.Fb):"Ch"===a?this.Fb=new f.K.ca.fr(this,this.Fb):"Btn"===a?this.Fb=new f.K.ca.cr(this,
this.Fb):"Sig"===a?this.Fb=new f.K.ca.zr(this,this.Fb):console.warn("Unrecognised field type: "+a);this.Eo=a},pe:function(a){this.ye.forEach(function(e){e.pe(a)})},mz:function(){return this.Wd},eH:function(){return 0===this.Wd.length},qE:function(d,e){if(-1===this.ye.indexOf(d))if(_.isUndefined(e))this.ye.push(d);else{this.ye[e]=d;for(var b=0;b<this.ye.length;++b)this.ye[b]||(this.ye[b]=new a.Annotations.qa(this,{}))}},Je:function(a){this.Fb.Je(a)},nb:function(a,e){this.Fb.nb(a,e)},Ka:function(){return this.Fb.Ka()},
sm:function(){return this.Fb.sm()},kd:function(a){this.Fb.kd(a)},Jo:function(a,e){this.Fb.Jo(a,e)},sf:function(){return this.Fb.sf()},Fq:function(a){this.Fb.Fq(a)},qm:function(){return this.Fb.qm()},Zt:function(){var a=this.ve.split(".");return a[a.length-1]},nG:function(){var a,e=this.ve.split(".");1<e.length&&(a=e.slice(0,e.length-1).join("."));return a},Ev:function(a,e){var b=this.Zt();(e=(e?e+".":"")+b)||(e="");if(this.eH()){if(a.Wm){var c=!0;a.gp&&(a.gp(this)||(c=!1));c&&a.Wm(e,b,this)}}else{var f;
a.gp?(f=[],this.Wd.forEach(function(b){a.gp(b)&&f.push(b)})):f=this.Wd;0<f.length&&(a.hq&&a.hq(e,b,this),f.forEach(function(b){b.Ev(a,e)}),a.Iu&&a.Iu(e,b,this))}},Ot:function(a){for(var e=this.Wd,b=e.length,c=0;c<b;++c){var f=e[c];if(f.Zt()===a)return f}if(a.match(/^\d+$/))return this.ye[parseInt(a)]},removeChild:function(a){a=this.Wd.indexOf(a);-1!==a&&this.Wd.splice(a,1)},$x:function(a){var e=this.Ot(a.Zt());e&&this.removeChild(e);this.Wd.push(a)},XA:function(){this.nb(this.qm())},Ro:function(d,
e){var b=new a.Annotations.K.ib.Events.ca.create("Calculate",this,{value:this.value,source:e,rc:!0}),c=this.Ka();this.zd("C",b);var f=this.lM;this.$d=-1;var h=b.value;b.rc&&h!==c&&this.nb(h);this.$d=f},rq:function(){this.dz(function(a){a.refresh()})},dt:function(d,e,b){d=a.Annotations.K.ib.Events.ca.create("Keystroke",this,{value:e,change:"",willCommit:!0,selStart:-1,selEnd:-1});this.zd("K",d);d.rc&&(e=a.Annotations.K.ib.Events.ek(d),d=new a.Annotations.K.ib.Events.ca.create("Validate",this,{value:e}),
this.zd("V",d),d.rc&&this.nb(d.value,b))},ld:function(a){this.Fb.ld(a)}};$.extend(f.K.ca.prototype,Object.create(a.utils.eventHandler));Object.defineProperties(f.K.ca.prototype,{name:{get:function(){return this.ve}},value:{get:function(){return this.Ka()},set:function(a){this.nb(a)}},widgets:{get:function(){return this.ye}},children:{get:function(){return this.Wd}},options:{get:function(){return this.sf()},set:function(a){this.kd(a)}},exportValue:{get:function(){return this.sm()}},actions:{get:function(){return this.vi()}},
defaultValue:{get:function(){return this.qm()},set:function(a){this.Fq(a)}},flags:{get:function(){return this.Fb.Eb}},IsModified:{set:function(a){a!==this.di&&this.Wd.forEach(function(e){e.IsModified=a});this.di=a},get:function(){return this.di||this.Wd.reduce(function(a,e){return a||e.IsModified},!1)}},font:{get:function(){return this.Gj}},maxLen:{get:function(){return this.$d},set:function(a){this.$d=Number(a);-1!==this.$d&&this.nb(this.Ka())}},type:{get:function(){return this.Eo}},userName:{get:function(){return this.kE},
set:function(a){this.kE=a}}});$.extend(f.K.ca.prototype,a.Actions.Gf.prototype);f.K.ca.ub=function(a){this.Da=a;this._value=this.Vr="";this.Eb=new f.Jg({mask:["ReadOnly","Required","NoExport"]})};f.K.ca.ub.prototype={nb:function(d,e){var b=this.Da;"number"===typeof d&&(d=a.Annotations.fa.toFixed(d,6));var c=this._value!==d;this.ld(d);c&&(d=this._value,this.ov(d,e),b.IsModified=!0,b.trigger("change",[b]))},ov:function(a){this.Da.dz(function(e){e.nb(a)})},ld:function(a){this._value=a},Je:function(a){this.ld(a)},
set:function(a){_.isObject(a)&&(_.isNull(a.value)||_.isUndefined(a.value)||(this._value=a.value),_.isNull(a.defaultValue)||_.isUndefined(a.defaultValue)||(this.Vr=a.defaultValue),a.flags&&(_.isArray(a.flags)?this.Eb.set(a.flags,!0):_.isObject(a.flags)&&this.Eb.set(a.flags.toArray(),!0)))},Ka:function(){return this._value},qm:function(){return this.Vr},Fq:function(a){this.Vr=a},Jo:function(){},sf:function(){return null},kd:function(){},sm:function(){return this._value}};Object.defineProperties(f.K.ca.ub.prototype,
{value:{get:function(){return this.Ka()},set:function(a){this.nb(a)}},defaultValue:{get:function(){return this.qm()},set:function(a){this.Fq(a)}}});f.K.ca.Ar=function(a,e){if(e instanceof f.K.ca.Ar)return e;f.K.ca.ub.call(this,a);this.Eb.jm("Multiline Password FileSelect DoNotSpellCheck DoNotScroll Comb RichText".split(" "));this.set(e)};f.K.ca.Ar.prototype=$.extend(Object.create(f.K.ca.ub.prototype),{ld:function(a){var e=this.Da.maxLen;-1===e||_.isNull(a)||(a=String(a),a.length>e&&(a=a.slice(0,e)));
f.K.ca.ub.prototype.ld.call(this,a)}});f.K.ca.fr=function(a,e){if(e instanceof f.K.ca.fr)return e;f.K.ca.ub.call(this,a);this.Eb.jm("Combo Edit Sort MultiSelect DoNotSpellCheck CommitOnSelChange".split(" "));this.ae=[];this.set(e)};f.K.ca.fr.prototype=$.extend(Object.create(f.K.ca.ub.prototype),{set:function(a){_.isObject(a)&&a.options&&this.kd(a.options);f.K.ca.ub.prototype.set.call(this,a)},jG:function(a){for(var e=0;e<this.ae.length;++e){var b=this.ae[e];if(b.value===a)return b}return null},ld:function(a){this.Eb.get("Edit")||
!_.isNull(this.jG(a))?f.K.ca.ub.prototype.ld.call(this,a):(a=this.ae[0])?f.K.ca.ub.prototype.ld.call(this,a.value):f.K.ca.ub.prototype.ld.call(this,null)},sf:function(){return this.ae},Jo:function(a,e){for(var b=this.ae,c=0;c<b.length;++c)if(b[c].value===b.value)return;this.ae.splice(e,0,a);this.Eb.get("Combo")||this.nb(a.value)},kd:function(a){this.ae=a.map(function(a){var b=a.value;a=a.displayValue;return{value:b,displayValue:_.isUndefined(a)?b:a}})}});f.K.ca.cr=function(a,e){if(e instanceof f.K.ca.cr)return e;
f.K.ca.ub.call(this,a);this.Eb.jm(["NoToggleToOff","Radio","PushButton","RadiosInUnison"]);this.ae=null;this.set(e);""===this._value&&(this._value="Off")};f.K.ca.cr.prototype=$.extend(Object.create(f.K.ca.ub.prototype),{set:function(a){f.K.ca.ub.prototype.set.call(this,a);_.isObject(a)&&a.options&&this.kd(a.options)},sf:function(){return this.ae},Je:function(a){(""===this._value||"Off"!==a||this.Da.widgets.every(function(a){return!a.appearance}))&&f.K.ca.ub.prototype.Je.call(this,a)},ld:function(a){"Off"!==
a?""===a?f.K.ca.ub.prototype.ld.call(this,"Off"):f.K.ca.ub.prototype.ld.call(this,a):this.Eb.get("NoToggleToOff")&&this.Eb.get("Radio")||f.K.ca.ub.prototype.ld.call(this,a)},sm:function(){return this.ae?this.ae[Number(this.Ka())]:f.K.ca.ub.prototype.sm.call(this)},kd:function(a){this.ae=a.slice()},ov:function(a,e){f.K.ca.ub.prototype.ov.call(this,a,e)}});f.K.ca.zr=function(a,e){if(e instanceof f.K.ca.zr)return e;f.K.ca.ub.call(this,a);this.set(e)};f.K.ca.zr.prototype=$.extend(Object.create(f.K.ca.ub.prototype),
{})})(window);
(function(a){function f(a){return _.isArray(a)?a.map(f).join(" "):_.isNumber(a)?a.toString():_.escape(String(a))}function d(a,b,c,d){c!==d&&a.writeAttributeString(b,f(c))}function e(a,b,c){var e=c.kn||[];c=c.Ak||{};for(var g=0;g<e.length;++g){var h=e[g],k=b[h];_.isUndefined(b)?console.warn("Required attribute: "+h+" is undefined"):a.writeAttributeString(h,f(k))}for(var l in c)c.hasOwnProperty(l)&&d(a,l,b[l],c[l])}function b(a,b,g,h){h=h||"actions";var k=Object.keys(b);if(0<k.length){a.writeStartElement(h);for(h=
0;h<k.length;++h)a.writeStartElement("action"),a.writeAttributeString("trigger",_.escape(k[h])),b[k[h]].forEach(function(b){var h=b.name;switch(h){case "JavaScript":a.writeStartElement("javascript");a.writeString(f(b.javascript));a.writeEndElement();break;case "ResetForm":a.writeStartElement("reset-form");e(a,b,{kn:["exclude"]});b.fields&&c(a,b.fields);a.writeEndElement();break;case "SubmitForm":a.writeStartElement("submit-form");e(a,b,{kn:["url","format"],Ak:{method:"POST",exclude:!1}});h=b.flags.toArray();
0<h.length&&a.writeAttributeString("flags",f(h));b=b.fields;0<b.length&&c(a,b);a.writeEndElement();break;case "GoTo":a.writeStartElement("goto");a.writeStartElement("dest");b=b.dest;e(a,b,{kn:["fit","page"],Ak:{zoom:void 0}});var k=g(b.page).inverse(),h=b.top||0,l=b.left||0,q=b.bottom||0,p=b.right||0,l=k.W({x:l,y:h}),k=k.W({x:p,y:q}),h=_.isUndefined(b.top)?null:l.y,l=_.isUndefined(b.left)?null:l.x,p=_.isUndefined(b.right)?null:k.x,q=_.isUndefined(b.bottom)?null:k.y;d(a,"top",h,null);d(a,"left",l,
null);d(a,"right",p,null);d(a,"bottom",q,null);a.writeEndElement();a.writeEndElement();break;case "URI":a.writeStartElement("uri");e(a,b,{kn:["uri"]});a.writeEndElement();break;case "Hide":a.writeStartElement("hide");e(a,b,{Ak:{hide:!0}});c(a,b.fields);a.writeEndElement();break;case "Named":a.writeStartElement("named");a.writeAttributeString("name",_.escape(b.action));a.writeEndElement();break;default:console.warn("Unrecognised action name"+h)}}),a.writeEndElement();a.writeEndElement()}}function c(a,
b,c){c||(c="fields");a.writeStartElement(c);c=b.length;for(var d=0;d<c;++d){var e=a,f=b[d];e.writeStartElement("ffield");e.writeAttributeString("name",_.escape(f));e.writeEndElement()}a.writeEndElement()}function k(a,b,c,e){if(e||!b.fA())a.writeStartElement(c),d(a,"r",b.R,0),d(a,"g",b.G,0),d(a,"b",b.B,0),d(a,"a",b.A,1),a.writeEndElement()}function h(a,b,c){if(b&&(0!==b.size||""!==b.name||"Type1"!==b.type||!b.Fi())){a.writeStartElement("font");e(a,b,{Ak:{type:"Type1",name:""}});var f=b.size,g=c.inverse();
c=g.W({x:0,y:0});g=g.W({x:f,y:0});f=c.x-g.x;c=c.y-g.y;d(a,"size",Math.sqrt(f*f+c*c),0);c=b.fillColor;c.Fi()||k(a,c,"fill-color",!0);b=b.strokeColor;b.Fi()||k(a,b,"stroke-color",!0);a.writeEndElement()}}function g(a,b,c){a.writeStartElement("aappearance");a.writeAttributeString("name",b);Object.keys(c).forEach(function(b){a.writeStartElement(b);a.writeString(f(c[b]||""));a.writeEndElement()});a.writeEndElement()}a.$e=a.$e||{};var l=a.$e;l.parse=function(a,b,c,d){var e={calculationOrder:[],widgets:[],
fields:{},pages:[],documentActions:{}},f=a.ma();"pdf-info"!==f?(console.warn("pdf-info missing. found: "+f),c(e)):(f=a.J("version"),"1"===f?l.oD.parse(a,b,c,d):"2"===f?l.pD.parse(a,b,c,d):(console.warn("PDFInfo version is incorrect: "+f),c(e)))};l.write=function(a,l,n){a.writeStartElement("pdf-info");a.writeAttributeString("xmlns","http://www.pdftron.com/pdfinfo");a.writeAttributeString("version","2");var q=l.calculationOrder;_.isArray(q)&&0<q.length&&c(a,q,"calculation-order");b(a,l.documentActions,
n,"document-actions");q=l.pages;if(0<q.length){a.writeStartElement("pages");for(var u=0;u<q.length;++u){var r=a,w=q[u],v=n;r.writeStartElement("page");r.writeAttributeString("number",f(w.number));b(r,w.actions,v);r.writeEndElement()}a.writeEndElement()}u=l.fields;r=Object.keys(u);for(q=0;q<r.length;++q){var w=a,x=u[r[q]],v=n;w.writeStartElement("ffield");e(w,x,{Ak:{},kn:["type","name"]});var y=x.flags.toArray();0<y.length&&w.writeAttributeString("flags",f(y));y=x.maxLen;-1!==y&&w.writeAttributeString("max-len",
f(y));b(w,x.vi(),v);(y=x.defaultValue)&&w.writeElementString("default-value",f(y));h(w,x.font,v(1));v=w;if((x=x.options)&&0<x.length){v.writeStartElement("options");for(var y=x.length,A=0;A<y;++A){v.writeStartElement("option");var B=x[A].displayValue,E=x[A].value;B===E||_.isUndefined(B)||v.writeAttributeString("display-value",f(B));v.writeAttributeString("value",f(E));v.writeEndElement()}v.writeEndElement()}w.writeEndElement()}l=l.widgets;for(q=0;q<l.length;++q){u=a;r=l[q];w=n;u.writeStartElement("widget");
e(u,r,{Ak:{appearance:"",rotation:0,quadding:"Left-justified"}});v=r;v=v.lb().widgets.indexOf(v);v=f(v);"0"!==v&&u.writeAttributeString("index",v);u.writeAttributeString("field",f(r.lb().name));v=r.flags.toArray();0<v.length&&u.writeAttributeString("flags",f(v));y=r.PageNumber;u.writeAttributeString("page",f(y));v=u;x=r.rect;y=w(y);v.writeStartElement("rect");A=y.inverse();y=A.W({x:x.x1,y:x.y1});x=A.W({x:x.x2,y:x.y2});A={};A.x1=_.min([y.x,x.x]);A.x2=_.max([y.x,x.x]);A.y1=_.min([y.y,x.y]);A.y2=_.max([y.y,
x.y]);v.writeAttributeString("x1",f(Number(Number(A.x1).toFixed(4))));v.writeAttributeString("x2",f(Number(Number(A.x2).toFixed(4))));v.writeAttributeString("y1",f(Number(Number(A.y1).toFixed(4))));v.writeAttributeString("y2",f(Number(Number(A.y2).toFixed(4))));v.writeEndElement();v=u;!(x=r.border)||x.color.fA()&&1===x.width&&"Solid"===x.style||(v.writeStartElement("border"),d(v,"width",x.width,1),d(v,"style",x.style,"Solid"),x=x.color,x.Fi()||k(v,x,"color",!0),v.writeEndElement());k(u,r.backgroundColor,
"background-color");b(u,r.vi(),w);v=u;x=r.appearances;y=Object.keys(x);if(0<y.length){v.writeStartElement("appearances");A=y.length;for(B=0;B<A;++B)E=y[B],g(v,E,x[E]);v.writeEndElement()}v=u;x=r;x.IG()&&(v.writeStartElement("extra"),h(v,x.font,w(1)),v.writeEndElement());w=u;r=r.captions;v=r.Rollover;x=r.Down;if(r.Normal||v||x)w.writeStartElement("captions"),d(w,"Normal",r.Normal,""),d(w,"Rollover",r.Rollover,""),d(w,"Down",r.Down,""),w.writeEndElement();u.writeEndElement()}a.writeEndElement()}})(window);
(function(a){function f(a){var b=[];for(a.ka();a.advance();){var c=a.ma();"field"===c?b.push(String(a.J("name"))):console.warn("unrecognised field list element: "+c)}a.ra();return b}function d(a,b){return b?"false"===a?!1:!0:"true"===a?!0:!1}function e(a,b){var c=a.ma();switch(c){case "javascript":return{name:"JavaScript",javascript:a.ed()};case "uri":return{name:"URI",uri:a.J("uri")};case "goto":c=null;a.ka();if(a.advance()){var e=a.J("fit"),c={page:a.J("page"),fit:e};if("0"===c.page)console.warn("null page encountered in dest");
else{var g=b(Number(c.page));switch(e){case "Fit":case "FitB":break;case "FitH":case "FitBH":c.top=g.W({x:0,y:a.J("top")||0}).y;break;case "FitV":case "FitBV":c.left=g.W({x:a.J("left")||0,y:0}).x;break;case "FitR":e=g.W({x:a.J("left")||0,y:a.J("top")||0});g=g.W({x:a.J("right")||0,y:a.J("bottom")||0});g=new Annotations.Rect(e.x,e.y,g.x,g.y);c.top=g.y1;c.left=g.x1;c.bottom=g.y2;c.right=g.x2;break;case "XYZ":e=g.W({x:a.J("left")||0,y:a.J("top")||0});c.top=e.y;c.left=e.x;c.zoom=a.J("zoom")||0;break;default:console.warn("unknown dest fit: "+
e)}}c={name:"GoTo",dest:c}}else console.lK("missing dest in GoTo action");a.ra();return c;case "submit-form":c={name:"SubmitForm",url:a.J("url"),format:a.J("format"),method:a.J("method")||"POST",exclude:d(a.J("exclude"),!1)};g=a.J("flags");c.flags=g?g.split(" "):[];for(a.ka();a.advance();)switch(g=a.ma(),g){case "fields":c.fields=f(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.ra();return c;case "reset-form":c={name:"ResetForm",exclude:d(a.J("exclude"),!1)};for(a.ka();a.advance();)switch(g=
a.ma(),g){case "fields":c.fields=f(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.ra();return c;case "hide":c={name:"Hide",hide:d(a.J("hide"),!0)};for(a.ka();a.advance();)switch(g=a.ma(),g){case "fields":c.fields=f(a);break;default:console.warn("unrecognised hide child: "+g)}a.ra();return c;case "named":return{name:"Named",action:a.J("name")};default:console.warn("Encountered unexpected action type: "+c)}return null}function b(a,b,c){var d={};for(a.ka();a.advance();){var f=a.ma();
switch(f){case "action":f=a.J("trigger");if(b?-1!==b.indexOf(f):1){d[f]=[];for(a.ka();a.advance();){var g=e(a,c);_.isNull(g)||d[f].push(g)}a.ra()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.ra();return d}function c(a){return"calculation-order"===a.ma()?f(a):[]}function k(b){return new a.Annotations.Color(b.J("r")||0,b.J("g")||0,b.J("b")||0,b.J("a")||1)}function h(a,b){var c=a.J("name"),d=a.J("type")||"Type1",
e=a.J("size"),f=b.W({x:0,y:0}),g=b.W({x:Number(e),y:0}),e=f.x-g.x,f=f.y-g.y,c={name:c,type:d,size:Math.sqrt(e*e+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.ka();a.advance();)switch(d=a.ma(),d){case "stroke-color":c.strokeColor=k(a);break;case "fill-color":c.fillColor=k(a);break;default:console.warn("unrecognised font child: "+d)}a.ra();return c}function g(a,c){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.J("field"),page:a.J("page"),index:a.J("index")||0,rotation:a.J("rotation")||
0,flags:[]},e=a.J("appearance");e&&(d.appearance=e);(e=a.J("flags"))&&(d.flags=e.split(" "));for(a.ka();a.advance();)switch(e=a.ma(),e){case "rect":var f=a,g=c(Number(d.page)),e=g.W({x:f.J("x1")||0,y:f.J("y1")||0}),f=g.W({x:f.J("x2")||0,y:f.J("y2")||0}),e=new Annotations.Rect(e.x,e.y,f.x,f.y);e.normalize();d.rect={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2};break;case "border":e=a;f={style:e.J("style")||"Solid",width:e.J("width")||1,color:[0,0,0]};for(e.ka();e.advance();)switch(g=e.ma(),g){case "color":f.color=
k(e);break;default:console.warn("unrecognised border child: "+g)}e.ra();d.border=f;break;case "background-color":d.backgroundColor=k(a);break;case "actions":d.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);break;case "appearances":e=a;f={};for(e.ka();e.advance();)if(g=e.ma(),"appearance"===g){var g=e.J("name"),l=e,m={};for(l.ka();l.advance();){var n=l.ma();switch(n){case "Normal":m.Normal=l.ed();break;default:console.warn("unexpected appearance state: ",n)}}l.ra();f[g]=m}else console.warn("unexpected appearances child: "+
g);e.ra();d.appearances=f;break;case "extra":e=a;f=c;g={};for(e.ka();e.advance();)switch(l=e.ma(),l){case "font":g.font=h(e,f(1));break;default:console.warn("unrecognised extra child: "+l)}e.ra();e=g;e.font&&(d.font=e.font);break;case "captions":f=a;e={};(g=f.J("Normal"))&&(e.Normal=g);(g=f.J("Rollover"))&&(e.Rollover=g);(f=f.J("Down"))&&(e.Down=f);d.captions=e;break;default:console.warn("unrecognised widget child: "+e)}a.ra();return d}function l(a){var b={value:a.J("value")};(a=a.J("display-value"))&&
(b.displayValue=a);return b}function m(c,d){var e=c.J("name"),f={type:c.J("type"),quadding:c.J("quadding")||"Left-justified",maxLen:c.J("max-len")||-1},g=c.J("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.ka();c.advance();)switch(g=c.ma(),g){case "actions":f.actions=b(c,["C","F","K","V"],d);break;case "default-value":g=c;g.ka();g.advance();var k=g.ed();g.ra();f.defaultValue=k;break;case "font":f.font=h(c,d);break;case "options":g=c;k=[];for(g.ka();g.advance();){var m=g.ma();switch(m){case "option":k.push(l(g));
break;default:console.warn("unrecognised options child: "+m)}}g.ra();f.options=k;break;default:console.warn("unknown field child: "+g)}c.ra();return new a.Annotations.K.ca(e,f)}function p(b,c){switch(b.type){case "Tx":return new a.Annotations.Sh(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.zg(b,c):new a.Annotations.Cg(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.Kh(b,c):b.flags.get("Radio")?new a.Annotations.Lh(b,c):new a.Annotations.yg(b,c);case "Sig":return new a.Annotations.Oh(b,
c);default:console.warn("Unrecognised field type: "+b.type)}return null}function n(a,c){var d={number:a.J("number")};for(a.ka();a.advance();){var e=a.ma();switch(e){case "actions":d.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+e)}}a.ra();return d}a.$e=a.$e||{};a.$e.oD={parse:function(d,e,f,h){var k=[],l={};d.ka();var y=[],A={},B=[];a.busyLoop(function(){var a,f;if(d.advance()){a=d.ma();switch(a){case "calculation-order":y=c(d);break;case "document-actions":A=b(d,
["Init","Open"],e);break;case "pages":a=[];for(d.ka();d.advance();)switch(f=d.ma(),f){case "page":a.push(n(d,e));break;default:console.warn("unrecognised page child: "+f)}d.ra();B=a;break;case "field":a=m(d,e(1));l[a.name]=a;break;case "widget":f=g(d,e);(a=l[f.fieldName])?(a=p(a,f),k.push(a)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+a)}return!0}return!1},function(){d.ra();f({calculationOrder:y,
widgets:k,fields:l,documentActions:A,pages:B})},h)},OH:m,QH:g,BA:c}})(window);
(function(a){function f(a){var b=[];for(a.ka();a.advance();){var c=a.ma();"ffield"===c?b.push(String(a.J("name"))):console.warn("unrecognised field list element: "+c)}a.ra();return b}function d(a,b){return b?"false"===a?!1:!0:"true"===a?!0:!1}function e(a,b){var c=a.ma();switch(c){case "javascript":return{name:"JavaScript",javascript:a.ed()};case "uri":return{name:"URI",uri:a.J("uri")};case "goto":c=null;a.ka();if(a.advance()){var e=a.J("fit"),c={page:a.J("page"),fit:e};if("0"===c.page)console.warn("null page encountered in dest");
else{var g=b(Number(c.page));switch(e){case "Fit":case "FitB":break;case "FitH":case "FitBH":c.top=g.W({x:0,y:a.J("top")||0}).y;break;case "FitV":case "FitBV":c.left=g.W({x:a.J("left")||0,y:0}).x;break;case "FitR":e=g.W({x:a.J("left")||0,y:a.J("top")||0});g=g.W({x:a.J("right")||0,y:a.J("bottom")||0});g=new Annotations.Rect(e.x,e.y,g.x,g.y);c.top=g.y1;c.left=g.x1;c.bottom=g.y2;c.right=g.x2;break;case "XYZ":e=g.W({x:a.J("left")||0,y:a.J("top")||0});c.top=e.y;c.left=e.x;c.zoom=a.J("zoom")||0;break;default:console.warn("unknown dest fit: "+
e)}}c={name:"GoTo",dest:c}}else console.lK("missing dest in GoTo action");a.ra();return c;case "submit-form":c={name:"SubmitForm",url:a.J("url"),format:a.J("format"),method:a.J("method")||"POST",exclude:d(a.J("exclude"),!1)};g=a.J("flags");c.flags=g?g.split(" "):[];for(a.ka();a.advance();)switch(g=a.ma(),g){case "fields":c.fields=f(a);break;default:console.warn("unrecognised submit-form child: "+g)}a.ra();return c;case "reset-form":c={name:"ResetForm",exclude:d(a.J("exclude"),!1)};for(a.ka();a.advance();)switch(g=
a.ma(),g){case "fields":c.fields=f(a);break;default:console.warn("unrecognised reset-form child: "+g)}a.ra();return c;case "hide":c={name:"Hide",hide:d(a.J("hide"),!0)};for(a.ka();a.advance();)switch(g=a.ma(),g){case "fields":c.fields=f(a);break;default:console.warn("unrecognised hide child: "+g)}a.ra();return c;case "named":return{name:"Named",action:a.J("name")};default:console.warn("Encountered unexpected action type: "+c)}return null}function b(a,b,c){var d={};for(a.ka();a.advance();){var f=a.ma();
switch(f){case "action":f=a.J("trigger");if(b?-1!==b.indexOf(f):1){d[f]=[];for(a.ka();a.advance();){var g=e(a,c);_.isNull(g)||d[f].push(g)}a.ra()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.ra();return d}function c(a){return"calculation-order"===a.ma()?f(a):[]}function k(b){return new a.Annotations.Color(b.J("r")||0,b.J("g")||0,b.J("b")||0,b.J("a")||1)}function h(a,b){var c=a.J("name"),d=a.J("type")||"Type1",
e=a.J("size"),f=b.W({x:0,y:0}),g=b.W({x:Number(e),y:0}),e=f.x-g.x,f=f.y-g.y,c={name:c,type:d,size:Math.sqrt(e*e+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.ka();a.advance();)switch(d=a.ma(),d){case "stroke-color":c.strokeColor=k(a);break;case "fill-color":c.fillColor=k(a);break;default:console.warn("unrecognised font child: "+d)}a.ra();return c}function g(a,c){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.J("field"),page:a.J("page"),index:a.J("index")||0,rotation:a.J("rotation")||
0,quadding:a.J("quadding")||"Left-justified",flags:[]},e=a.J("appearance");e&&(d.appearance=e);(e=a.J("flags"))&&(d.flags=e.split(" "));for(a.ka();a.advance();)switch(e=a.ma(),e){case "rect":var f=a,g=c(Number(d.page)),e=g.W({x:f.J("x1")||0,y:f.J("y1")||0}),f=g.W({x:f.J("x2")||0,y:f.J("y2")||0}),e=new Annotations.Rect(e.x,e.y,f.x,f.y);e.normalize();d.rect={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2};break;case "border":e=a;f={style:e.J("style")||"Solid",width:e.J("width")||1,color:[0,0,0]};for(e.ka();e.advance();)switch(g=
e.ma(),g){case "color":f.color=k(e);break;default:console.warn("unrecognised border child: "+g)}e.ra();d.border=f;break;case "background-color":d.backgroundColor=k(a);break;case "actions":d.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);break;case "appearances":e=a;f={};for(e.ka();e.advance();)if(g=e.ma(),"aappearance"===g){var g=e.J("name"),l=e,m={};for(l.ka();l.advance();){var n=l.ma();switch(n){case "Normal":m.Normal=l.ed();break;default:console.warn("unexpected appearance state: ",n)}}l.ra();
f[g]=m}else console.warn("unexpected appearances child: "+g);e.ra();d.appearances=f;break;case "extra":e=a;f=c;g={};for(e.ka();e.advance();)switch(l=e.ma(),l){case "font":g.font=h(e,f(1));break;default:console.warn("unrecognised extra child: "+l)}e.ra();e=g;e.font&&(d.font=e.font);break;case "captions":f=a;e={};(g=f.J("Normal"))&&(e.Normal=g);(g=f.J("Rollover"))&&(e.Rollover=g);(f=f.J("Down"))&&(e.Down=f);d.captions=e;break;default:console.warn("unrecognised widget child: "+e)}a.ra();return d}function l(a){var b=
{value:a.J("value")};(a=a.J("display-value"))&&(b.displayValue=a);return b}function m(c,d){var e=c.J("name"),f={type:c.J("type"),maxLen:c.J("max-len")||-1},g=c.J("flags");_.isString(g)&&(f.flags=g.split(" "));for(c.ka();c.advance();)switch(g=c.ma(),g){case "actions":f.actions=b(c,["C","F","K","V"],d);break;case "default-value":g=c;g.ka();g.advance();var k=g.ed();g.ra();f.defaultValue=k;break;case "font":f.font=h(c,d);break;case "options":g=c;k=[];for(g.ka();g.advance();){var m=g.ma();switch(m){case "option":k.push(l(g));
break;default:console.warn("unrecognised options child: "+m)}}g.ra();f.options=k;break;default:console.warn("unknown field child: "+g)}c.ra();return new a.Annotations.K.ca(e,f)}function p(b,c){switch(b.type){case "Tx":return new a.Annotations.Sh(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.zg(b,c):new a.Annotations.Cg(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.Kh(b,c):b.flags.get("Radio")?new a.Annotations.Lh(b,c):new a.Annotations.yg(b,c);case "Sig":return new a.Annotations.Oh(b,
c);default:console.warn("Unrecognised field type: "+b.type)}return null}function n(a,c){var d={number:a.J("number")};for(a.ka();a.advance();){var e=a.ma();switch(e){case "actions":d.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+e)}}a.ra();return d}a.$e=a.$e||{};a.$e.pD={parse:function(d,e,f,h){var k=[],l={};d.ka();var y=[],A={},B=[];a.busyLoop(function(){var a,f;if(d.advance()){a=d.ma();switch(a){case "calculation-order":y=c(d);break;case "document-actions":A=b(d,
["Init","Open"],e);break;case "pages":a=[];for(d.ka();d.advance();)switch(f=d.ma(),f){case "page":a.push(n(d,e));break;default:console.warn("unrecognised page child: "+f)}d.ra();B=a;break;case "ffield":a=m(d,e(1));l[a.name]=a;break;case "widget":f=g(d,e);(a=l[f.fieldName])?(a=p(a,f),k.push(a)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+a)}return!0}return!1},function(){d.ra();f({calculationOrder:y,
widgets:k,fields:l,documentActions:A,pages:B})},h)},rL:p,OH:m,QH:g,BA:c}})(window);
(function(a){a.Annotations=a.Annotations||{};a.Annotations.K=a.Annotations.K||{};a.Annotations.K.ib=a.Annotations.K.ib||{};a=a.Annotations.K.ib;a.Events={};var f=a.Events;f.Event=function(a){this.rc=!0;_.isObject(a)&&(_.isString(a.name)&&Object.defineProperty(this,"name",{value:a.name,enumerable:!0}),_.isString(a.type)&&Object.defineProperty(this,"type",{value:a.type,enumerable:!0}))};f.ek=function(a){var b=String(a.value),c=a.change,d=b.slice(0,a.selStart),f=b.slice(a.selEnd);if(_.isObject(a.change)){var g=
a.selStart;a=a.selEnd;g===a&&("backspace"===c.type?d=b.slice(0,g-1):"delete"===c.type&&(f=b.slice(a+1)));c=""}return d+c+f};var d={Validate:function(a){f.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Calculate:function(a){f.Event.call(this,a);var b,c;_.isObject(a)&&(b=a.value,c=a.source);Object.defineProperties(this,{value:{value:b,writable:!0,enumerable:!0},source:{value:c,enumerable:!0}})},Format:function(a){f.Event.call(this,
a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Keystroke:function(a){f.Event.call(this,a);var b,c,d,h,g;_.isObject(a)&&(b=a.value,c=a.change,d=a.selStart,h=a.selEnd,g=a.willCommit);b="undefined"!==typeof b?b:"";c="undefined"!==typeof c||_.isString(c)?c:"";h="undefined"!==typeof h?h:b.length;Object.defineProperties(this,{value:{value:b,enumerable:!0},change:{value:c,writable:!0,enumerable:!0},selStart:{value:"undefined"!==typeof d?d:0,writable:!0,
enumerable:!0},selEnd:{value:h,writable:!0,enumerable:!0},willCommit:{value:g||!1,enumerable:!0}})},"Mouse Enter":function(a){f.Event.call(this,a)},"Mouse Leave":function(a){f.Event.call(this,a)},"Mouse Up":function(a){f.Event.call(this,a)},"Mouse Down":function(a){f.Event.call(this,a)},Focus:function(a){f.Event.call(this,a)},Blur:function(a){f.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,enumerable:!0})},Open:function(a){f.Event.call(this,a);var b;
_.isObject(a)&&(b=a.targetName);Object.defineProperty(this,"targetName",{value:b||"",enumerable:!0})},Close:function(a){f.Event.call(this,a)}};f.create=function(a,b){return d[a]?new d[a](b):null};f.ca={create:function(a,b,c){c=$.extend({name:a,type:"Field",value:b.Ka()},c);return(a=f.create(a,c))?(Object.defineProperties(a,{target:{value:b,writable:!0,enumerable:!0},targetName:{value:b.name,enumerable:!0},modifier:{value:null,enumerable:!0},shift:{value:null,enumerable:!0}}),a):null}};f.Pv={create:function(a,
b,c){c=$.extend({name:a,type:"Doc",targetName:""},c);return(a=f.create(a,c))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};f.pl={create:function(a,b,c){c=$.extend({name:a,type:"Page"},c);return(a=f.create(a,c))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};f.Tc={create:function(a,b){return f.create(a,b)}}})(window);
(function(a){function f(a){this.stringValue=a}function d(a,b,c){b=b||",";c=c||".";var d=a.split(c),e=d[0];"-"===a.charAt(0)&&(e=e.substr(1));for(var f=[];3<e.length;)f.push(e.substr(e.length-3)),e=e.substr(0,e.length-3);0<e.length&&f.push(e);e=f.reverse().join(b);"-"===a.charAt(0)&&(e="-"+e);d[0]=e;return d.join(c)}function e(a,b){return 0===b?/^-?\d*$/.test(a):(_.isUndefined(b)?/^-?\d*([\.,]\d*)?$/:new RegExp("^-?\\d*([\\.,]\\d{0,"+b.toString()+"})?$")).test(a)}function b(a){for(var b=[],c=[],d=
-1;-1!==(d=a.indexOf(".",d+1));)b.push(d);for(d=-1;-1!==(d=a.indexOf(",",d+1));)c.push(d);if(b.length&&c.length){if(b[b.length-1]<c[0])return!0}else if(c.length)for(a=a.length-4,b=c.length-1;0<=b;--b)if(c[b]!==a)return!0;return!1}function c(a){return 65<=a&&90>=a||97<=a&&122>=a}function k(a,b){switch(b){case 57:return 48<=a&&57>=a;case 65:return c(a);case 79:return c(a)||48<=a&&57>=a;case 88:return!0;default:return a===b}}function h(a){a="string"===typeof a?String(a).replace(",",b(a)?".":""):a;var c=
parseFloat(a);if(!e(a)||isNaN(c))c="Off"===a||_.isUndefined(a)||_.isNull(a)||""===a?0:1;return c}function g(a,b){var c=String(a);if(c.length<b)for(var d=b-c.length,e=0;e<d;++e)c="0"+c;return c}function l(a){_.isString(a)&&(a=a.replace(/\s+/g," "),a=a.replace(/[\/\.]/g,"-"));return a}function m(a){return a.replace(/(mmmm)|(mmm)|(:mm)|(mm)|(:m)|(m)|(dddd)|(ddd)|(dd)|(d)|(yyyy)|(yy)|(HH)|(H)|(hh)|(h)|(MM)|(M)|(ss)|(s)|(tt)|(t)/g,function(a){return{mmmm:"MMMM",mmm:"MMM",":mm":":mm",mm:"MM",":m":":m",
m:"M",dddd:"dddd",ddd:"ddd",dd:"DD",d:"D",yyyy:"YYYY",yy:"YY",HH:"HH",H:"H",hh:"hh",h:"h",MM:"mm",M:"m",ss:"ss",s:"s",tt:"A",t:"a"}[a]||""})}function p(a,b){if(!a)return null;var c=H.slice(0);b&&(b=m(b),b=l(b),c.push(b));a=l(a);c=M(a,c,!0);return c.isValid()?c:null}function n(a,b){return!a||null!==p(a,b)}function q(a,b){if(I[b]){a=l(a);var c=M(a,H,!0);if(c.isValid())return c.format(I[b])}return null}function u(a,b){var c=String(a).split(":");if(3<b||0>b||!a)return null;var d=0,e=0,f=0;c[0]&&(d=Number(c[0]));
c[1]&&(e=Number(c[1]));c[2]&&(f=Number(c[2]));if(23<d||59<e||59<f||_.isNaN(d)||_.isNaN(e)||_.isNaN(f))return null;var c=1===b||3===b,h;c?(h=12<=d&&24>d?"PM":"AM",d%=12,0===d&&(d=12)):d=g(d,2);e=g(e,2);f=g(f,2);d=d+":"+e+(2>b?"":":"+f);c&&(d+=" "+h);return d}function r(a,b){this.jE=b;this.nm=!1;this.hH=a;a.GJ()}function w(a){return function(){console.log("stub: "+a+" called with",arguments)}}function v(a){var b=null;if(_.isArray(a))switch(a[0]){case "T":b=[];break;case "G":b=a.slice(1,2);break;case "RGB":b=
a.slice(1,4);break;case "CMYK":b=a.slice(1,5)}return b}function x(a,b){a.widgets.forEach(function(a){a.backgroundColor=b})}function y(a){this.Gx={};this.sx=a}function A(){var a=this;this.Fx={Doc:new y(function(){return"id"}),Field:new y(function(a){return a.name})};this.xl=0;this.Vn=[];this.YD={Doc:function(a){return z.Xv(a)},Color:function(a){return z.Jn(a)},Field:function(a){a.qh&&a.qh()&&(a=a.lb());return new z.il(a)},Event:function(b){var c={target:a.Li({Field:"Field",Page:"Doc",Doc:"Doc"}[b.type],
b.target)};Object.defineProperties(c,{value:{get:function(){return z.utils.toString(b.value)},set:function(a){b.value=a},enumerable:!0}});for(var d in b)b.hasOwnProperty(d)&&"target"!==d&&"value"!==d&&function(a){Object.defineProperty(c,a,{set:function(c){b[a]=c},get:function(){return b[a]},enumerable:!0})}(d);return c}}}function B(){A.call(this);this.RD=this.WF();a.YK=this.RD;for(var b in K)K.hasOwnProperty(b)&&(b in a||(a[b]=K[b]))}function E(){A.call(this);if(P){this.El=$("<iframe />");this.El.css({display:"none"});
this.El.appendTo("body");this.Ql=this.El[0].contentWindow;var a=this.Ql.document;a.open();a.write("<script>var event = {};\x3c/script>");a.write("<script>window.__add_action = function(__script){ return function(){(1,eval)(__script); } }\x3c/script>");a.close();this.$h=!1;for(var b in K)K.hasOwnProperty(b)&&(this.Ql[b]=K[b])}}a.Annotations=a.Annotations||{};a.Annotations.K=a.Annotations.K||{};a.Annotations.K.ib=a.Annotations.K.ib||{};var M=a.moment,z=a.Annotations.K.ib,H="M-D;M-D-YYYY;MM-DD-YY;MM-YY;D-MMM;D-MMM-YY;DD-MMM-YY;YYMM-DD;MMM-YY;MMMM-YY;MMM D, YYYY;MMMM D, YYYY;M-D-YY h:mm A;M-D-YY HH:mm;DD-MMM-YYYY".split(";"),
G="m/d;m/d/yy;mm/dd/yy;mm/yy;d-mmm;d-mmm-yy;dd-mmm-yy;yymm-dd;mmm-yy;mmmm-yy;mmm d, yyyy;mmmm d, yyyy;m/d/yy h:MM tt;m/d/yy HH:MM;dd-mmm-yyyy".split(";"),I={"m/d":"M/D","m/d/yy":"M/D/YYYY","mm/dd/yy":"MM/DD/YY","mm/dd/yyyy":"MM/DD/YYYY","mm/yy":"MM/YY","d-mmm":"D-MMM","d-mmm-yy":"D-MMM-YY","dd-mmm-yy":"DD-MMM-YY","yymm-dd":"YYMM-DD","mmm-yy":"MMM-YY","mmmm-yy":"MMMM-YY","mmm d, yyyy":"MMM D, YYYY","mmmm d, yyyy":"MMMM D, YYYY","m/d/yy h:MM tt":"M/D/YY h:mm A","m/d/yy HH:MM":"M/D/YY HH:mm","dd-mmm-yyyy":"DD-MMM-YYYY"};
z.utils={isNumber:e,NM:d,uM:h,tM:g,NL:q,gM:n,OL:u,toString:function(a){return _.isString(a)?a:_.isNumber(a)?String(a):""},TM:function(a){var b=a;e(a)&&""!==a&&(b=h(a));return b},YH:function(a,b){var c=M(b),d=m(a);return c.format(d)},ZH:function(a){var b=Array.prototype.slice.call(arguments,1),c=0;return a.replace(/%(,\d+)?([+ 0#]+)?(\d+)?(\.\d+)?([dfsx]+)/g,function(a,e,f,g,h,k){a=0;g=".";var l=",";if(e)switch(e.slice(1)){case "0":l=",";g=".";break;case "1":l="";g=".";break;case "2":l=".";g=",";break;
case "3":l="",g=","}if(f)for(e=f.length-2,f=1;f<e;++f);h&&(a=h.slice(1));h=b[c];c++;e=String(h);switch(k){case "f":e=Number(h).toFixed(a).replace(".",g);e=d(e,l,g);break;case "d":e=Number(h).toFixed();break;case "x":e=Number(h).toString(16)}return e})},$H:function(a,b){for(var d="",f=0,g="",h=a.length,k=0;k<h;++k){var l=b,m=a[k],n="";switch(m){case "?":n="upper"===g?n+l.charAt(f).toUpperCase():"lower"===g?n+l.charAt(f).toLowerCase():n+l.charAt(f);f++;break;case "X":for(;f<l.length;){m=l.charCodeAt(f);
if(c(m)||48<=m&&57>=m){n="upper"===g?n+l.charAt(f).toUpperCase():"lower"===g?n+l.charAt(f).toLowerCase():n+l.charAt(f);f++;break}f++}break;case "A":for(;f<l.length;){if(c(l.charCodeAt(f))){n="upper"===g?n+l.charAt(f).toUpperCase():"lower"===g?n+l.charAt(f).toLowerCase():n+l.charAt(f);f++;break}f++}break;case "9":for(;f<l.length;){if(e(l.charAt(f))){n+=l.charAt(f);f++;break}f++}break;case "*":n="lower"===g?l.slice(f).toLowerCase():"upper"===g?l.slice(f).toUpperCase():l.slice(f);f=l.length-1;break;
case "\\":break;case ">":g="upper";break;case "<":g="lower";break;case "=":g="";break;default:n=m}d+=n}return d},Kv:function(b){var c=a.Annotations.K.ib.Events.ek(D);if(b&&c){var d=c.length,e=b.length;if(D.willCommit&&d!==e&&0!==e)alert('The value entered does not match the format of the field = "'+b+'"'),D.rc=!1;else if(d&&e)if(d<=e)for(e=0;e<d;++e){if(!k(c.charCodeAt(e),b.charCodeAt(e))){D.rc=!1;alert('The value entered does not match the format of the field = "'+b+'"');break}}else alert('The value entered does not match the format of the field = "'+
b+'"'),D.rc=!1}},AFDate_KeystrokeEx:function(a){var b=String(D.value);b&&D.willCommit&&!n(b,a)&&(D.rc=!1,alert("Invalid Date/Time: Input should match format "+a))}};Object.getOwnPropertyNames(String.prototype).forEach(function(a){f.prototype[a]=function(){return this.stringValue[a].apply(this.stringValue,arguments)}});f.prototype.valueOf=function(){this.Xz||(this.Xz=h(this.stringValue));return this.Xz};r.prototype={terminate:function(){this.nm||(this.nm=!0,this.jE(),this.hH.DF())}};var D=null,J=null,
K={AFNumber_Format:function(a,b,c,f,g,k){c=(c=J.cd().xi().lb(D.target.name))?c.Ka():null;e(c)&&null!==c&&""!==c&&(c=h(c),isNaN(c)||(c=c.toFixed(a),0===b?c=d(c):2===b&&(c=d(c),a=c.indexOf("."),c=c.split(",").join("."),0<=a&&(c=c.substr(0,a)+","+c.substr(a+1))),D.value=k?g+c:c+g,D.rc=!0))},AFPercent_Format:function(a,b){var c=D.value;e(c)&&(c=h(c),c=(100*c).toFixed(a),b&&(c=d(c)),D.value=c+"%",D.rc=!0)},AFDate_KeystrokeEx:z.utils.ar,AFDate_Keystroke:function(a){a<G.length&&z.utils.ar(G[a])},AFDate_FormatEx:function(a){a=
q(String(D.value),a);_.isNull(a)||(D.value=a,D.rc=!0)},AFDate_Format:function(a){var b=String(D.value);a<G.length&&(a=q(b,G[a]),_.isNull(a)||(D.value=a,D.rc=!0))},AFRange_Validate:function(a,b,c,d){var e=Number(D.value),e=(!a||e>=b)&&(!c||e<=d);if(!e){var f="Invalid value: must be";a&&(f+=" greater than or equal to "+b);a&&c&&(f+=" and");c&&(f+=" less than or equal to "+d);alert(f+".")}D.rc=e},AFTime_Format:function(a){D.value=u(D.value,a);D.rc=!0},AFTime_FormatEx:function(a){a=q(String(D.value),
a);_.isNull(a)||(D.value=a,D.rc=!0)},AFTime_Keystroke:function(a){switch(a){case 0:a="h:MM tt";break;case 1:a="h:MM tt";break;case 2:a="HH:MM:ss";break;case 3:a="h:MM:ss tt"}z.utils.ar(a)},AFTime_KeyStrokeEx:z.utils.ar,AFMakeNumber:function(a){return Number(a)},AFSimple_Calculate:function(a,b){var c={PRD:function(a,b){return a*b},SUM:function(a,b){return a+b},MIN:function(a,b){return b<a?b:a},MAX:function(a,b){return b>a?b:a}}[a];c&&("string"===typeof b&&(b=b.split(",")),D.value=b.map(function(a){a=
D.target.doc.getField(a).value;return h(a)}).reduce(c),D.rc=!0)},AFNumber_Keystroke:function(b){D.rc=e(a.Annotations.K.ib.Events.ek(D),b)},AFPercent_Keystroke:function(b){D.rc=e(a.Annotations.K.ib.Events.ek(D),b+2)},AFMergeChange:function(b){return a.Annotations.K.ib.Events.ek(b)},AFParseDateEx:p,AFSpecial_Format:w("AFSpecial_Format"),AFSpecial_Keystroke:function(a){var b="";switch(a){case 0:b="99999";break;case 1:b="999999999";break;case 2:b="9999999999";break;case 3:b="999999999"}z.utils.Kv(b)},
AFSpecial_KeystrokeEx:z.utils.Kv,util:{printd:z.utils.YH,printf:z.utils.ZH,printx:z.utils.$H},app:{beep:w("app.beep"),alert:function(a){if(_.isObject(a)){var b=a.nType||0;a=a.cMsg;if(0===b)return window.alert(a),1;a=window.confirm(a);return 1===b?a?1:2:a?4:3}window.alert(a);return 1},setInterval:function(a,b){var c=J.getDocument().Gl;a=c.Wj(a);var d=D,e=window.setInterval(function(){c.Kk(a,d,J)},b);return new r(c,function(){window.clearInterval(e)})},clearInterval:function(a){a.terminate()},setTimeOut:function(a,
b){var c=J.getDocument().Gl,d;a=c.Wj(a);var e=D,f=window.setTimeout(function(){c.Kk(a,e,J);d.terminate()},b);return d=new r(c,function(){window.clearTimeout(f)})},clearTimeOut:function(a){a.terminate()},launchURL:w("app.laumchURL")},console:{clear:function(){console.clear()},println:function(a){console.log(a)}},alert:function(a){window.alert(a)},ADBE:null,color:{transparent:["T"],black:["G",0],white:["G",1],red:["RGB",1,0,0],green:["RGB",0,1,0],blue:["RGB",0,0,1],cyan:["CMYK",1,0,0,0],magenta:["CMYK",
0,1,0,0],yellow:["CMYK",0,0,1,0],dkGray:["G",.25],gray:["G",.5],ltGray:["G",.75]},border:{s:"solid",b:"beveled",d:"dashed",i:"inset",UM:"underline"},style:{ch:"check",jL:"cross",GL:"diamond",ci:"circle",PM:"start",OM:"square"},display:{visible:0,hidden:1,EH:2,FH:3}};z.il=function(a){this.ha=a};z.il.prototype={insertItemAt:function(a,b,c){_.isUndefined(b)&&(b=a);_.isUndefined(c)&&(c=0);_.isArray(a)&&(a=a[0]);_.isArray(b)&&(b=b[0]);b={displayValue:a,value:b};var d=this.ha.sf();c=-1===c?d.length-c:c;
this.ha.Jo(b,c);"Ch"!==this.ha.type||this.ha.flags.get("Combo")||this.ha.nb(a)},getItemAt:function(a,b){b=_.isUndefined(b)?!0:!!b;var c=this.ha.sf(),c=-1===a?c[c.length-1]:c[a];return b?c.value:c.displayValue},deleteItemAt:function(a){var b=this.ha.sf();if(_.isUndefined(a)){var c=this.ha.Ka();b.forEach(function(b,d){b.value===c&&(a=d)});_.isUndefined(a)||(b.splice(a,1),0===a?this.ha.nb(b[b.length-1].value):this.ha.nb(b[a-1].value))}else b.splice(a,1)},clearItems:function(){this.ha.kd([]);this.ha.nb(null);
this.ha.rq()},setItems:function(a){for(var b=[],c=a.length,d=0;d<c;++d){var e=a[d];_.isString(e)?b.push({value:e}):_.isArray(e)&&b.push({displayValue:e[0],value:e[1]?e[1]:e[0]})}this.ha.kd(b);this.ha.nb(b[0].value||null);this.ha.rq()},setFocus:function(){var a;if(a="widgets"in this.ha?this.ha.widgets[0]:this.ha)this.ha.wi().bm(a.PageNumber,a.X,a.Y),a.innerElement.trigger("focus")},isBoxChecked:function(a){return(a=this.ha.widgets[a])?a.appearance===a.dg()?1:0:0},checkThisBox:function(a,b){_.isUndefined(b)&&
(b=!0);var c=this.ha.widgets[a];c&&(b?this.ha.nb(c.dg()):this.ha.Ka()===c.dg()&&this.ha.nb("Off"),this.ha.rq())},buttonSetCaption:function(a){this.ha.widgets.forEach(function(b){b.captions.Normal=String(a);b.refresh()})},getArray:function(){var a=[],b=this.ha.wi().pa.qf;this.ha.Ev({Iu:function(){},hq:function(){},Wm:function(c){a.push(new z.il(b.lb(c)))}},this.ha.nG());return a}};Object.defineProperties(z.il.prototype,{name:{get:function(){return this.ha.name},enumerable:!0},doc:{get:function(){return z.Xv(this.ha.wi())},
enumerable:!0},value:{get:function(){var a=this.ha.Ka();return"number"===typeof a?a:e(a)&&""!==a?"0"===a?0:new f(a):a||""},set:function(a){this.ha.nb(a)},enumerable:!0},valueAsString:{get:function(){var a=this.ha.Ka();return a?a.toString():""}},fillColor:{set:function(a){x(this.ha,v(a))},get:function(){return z.Jn(this.ha.widgets[0].backgroundColor)},enumerable:!0},textColor:{set:function(a){this.ha.font.fillColor=v(a)},get:function(){return z.Jn(this.ha.font.fillColor)},enumerable:!0},bgColor:{set:function(a){x(this.ha,
v(a))},get:function(){return z.Jn(this.ha.widgets[0].backgroundColor)},enumerable:!0},numItems:{get:function(){return(this.ha.sf()||[]).length},enumerable:!0},charLimit:{set:function(a){a=Number(a);_.isNaN(a)||(this.ha.maxLen=a)},get:function(){return this.ha.maxLen},enumerable:!0},hidden:{set:function(a){this.ha.pe(!a)},get:function(){return this.ha.widgets[0].hidden},enumerable:!0},display:{set:function(a){a===K.display.visible||a===K.display.EH?this.ha.pe(!0):a!==K.display.hidden&&a!==K.display.FH||
this.ha.pe(!1)},get:function(){return this.ha.widgets[0].hidden},enumerable:!0},userName:{set:function(a){this.ha.userName=a;this.ha.rq()},get:function(){return this.ha.userName},enumerable:!0},type:{get:function(){switch(this.ha.type){case "Tx":return"text";case "Btn":return this.ha.flags.get("PushButton")?"button":this.ha.flags.get("Radio")?"radiobutton":"checkbox";case "Ch":return this.ha.flags.get("Combo")?"combobox":"listbox";case "Sig":return"signature"}return null},enumerable:!0},currentValueIndices:{get:function(){for(var a=
this.ha.sf(),b=this.ha.value,c=0;c<a.length;++c)if(a[c].value===b)return c;return-1},enumerable:!0}});y.prototype={get:function(a){a=this.sx(a);a=this.Gx[a];return _.isUndefined(a)?null:a},set:function(a){this.Gx[this.sx(a)]=a}};z.Jn=function(a){return a?0!==a.A?["RGB",a.R/255,a.G/255,a.B/255]:["T"]:["T"]};z.Xv=function(b){var c=b.cd().xi(),d={getField:function(a){return(a=c.lb(a))?new z.il(a):null},submitForm:function(c,d,e,f){_.isUndefined(d)&&(d=!0);(new a.Actions.Ph({url:c,format:d?"fdf":"xfdf",
includeEmpty:!!e,fields:f||[]})).onTriggered(null,null,b)},resetForm:function(c){(new a.Actions.Mh({fields:c})).onTriggered(null,null,b)},calculateNow:function(){c.Ro(null)},getNthFieldName:function(a){var b,d=0;c.om(function(c){d===a&&(b=c.name);++d});return b}};Object.defineProperties(d,{calculate:{set:function(a){c.sv=!!a},get:function(){return c.sv},enumerable:!0},numPages:{get:function(){return b.yc()},enumerable:!0},pageNum:{get:function(){return b.gh()-1},set:function(a){b.yd(a+1)},enumerable:!0},
numFields:{get:function(){var a=0;c.om(function(){++a});return a},enumerable:!0}});return d};A.prototype={Wj:function(){},Kk:function(){},Kc:function(){this.Vn.forEach(function(a){a()})},Cv:function(a){return a},Fv:function(a){return a},Vq:function(a){return a},WB:function(a){return a},XB:function(a){return a},VB:function(a){return a},UB:function(a){return a},Zk:function(a){var b=null;if(_.isArray(a))b=this.UB(a);else if(_.isNull(a))b=null;else switch(typeof a){case "object":b=this.Fv(a);break;case "function":b=
this.Vq(a);break;case "number":b=this.WB(a);break;case "string":b=this.XB(a);break;case "boolean":b=this.VB(a);break;case "undefined":b=void 0;break;default:console.warn("unrecognised type: "+typeof a)}return b},wrap:function(a,b){var c=this.Fx[a];if(c){var d=c.get(b);if(!_.isNull(d))return d}d=this.Li(a,b);d=this.Zk(d);c&&c.set(d);return d},Li:function(a,b){var c=this.Fx[a];if(c){var d=c.get(b);if(!_.isNull(d))return d}if(d=this.YD[a])return d=d(b),c&&c.set(d),d;console.warn(a+" is not a valid normalisable PDFJS type",
b);return{}},kK:function(a){0<this.xl?this.Vn.push(a):a()},GJ:function(){this.xl+=1},DF:function(){--this.xl;if(0===this.xl){var a=this.Vn;this.Vn=[];a.forEach(function(a){a()})}},WF:function(){return this.Fv($.extend({},K))}};z.KK=K;var L=eval;B.prototype=$.extend(Object.create(A.prototype),{Sl:function(b){b=this.Li("Doc",b);for(var c=Object.keys(b),d=0;d<c.length;++d){var e=c[d];Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(b,e))}},Wj:function(a){return function(b){D=b;L("with(_PDFTRON_JS_API){"+
a+"\n}");D=null}},Kk:function(b,c,d){a.event=c;this.$h||(this.Sl(d),this.$h=!0);var e=J;J=d;try{b(this.wrap("Event",c),this.wrap("Doc",d))}catch(f){console.warn("PDFJS error encountered: "+f+" "+b.gA)}J=e}});(function(){A.call(this);this.Tf=continuum.pL();this.$h=!1;for(var a=Object.keys(K),b=0;b<a.length;++b)this.Tf.global.ew(a[b],this.Zk(K[a[b]]))}).prototype=$.extend(Object.create(A.prototype),{Wj:function(a){return continuum.qL(a)},Sl:function(a){a=this.Li("Doc",a);for(var b=Object.keys(a),c=
0;c<b.length;++c)this.Tf.global.ew(b[c],this.Zk(a[b[c]]))},Kk:function(a,b,c){this.$h||(this.Sl(c),this.$h=!0);b=this.Li("Event",b);c=this.Zk(b);this.Tf.global.ew("event",c);D=b;this.Tf.evaluate(a);D=null},Cv:function(a){var b=this;if(_.isObject(a)){if(a.AE)return a.AE.map(function(a){return b.Cv(a)});console.warn("object argument: ",a)}return a},Vq:function(a){var b=this;return continuum.nL(function(){var c=Array.prototype.map.call(arguments,function(a){return b.Cv(a)});return b.Zk(a.apply(null,
c))})},WB:function(a){return this.Tf.evaluate(JSON.stringify(a))},XB:function(a){return this.Tf.evaluate(JSON.stringify(a))},VB:function(a){return this.Tf.evaluate(JSON.stringify(a))},UB:function(a){var b=this.Tf.evaluate("new Array()");console.warn("array:",b);return a},Fv:function(a){for(var b=this.Tf.evaluate("Object.create(null)"),c=Object.keys(a),d=c.length,e=0;e<d;++e){var f=c[e],g=Object.getOwnPropertyDescriptor(a,f),h={Enumerable:g.enumerable,Writeable:g.writeable};_.isUndefined(g.value)||
(h.Value=this.Zk(g.value));_.isUndefined(g.set)||(h.Set=this.Vq(g.set));_.isUndefined(g.get)||(h.Get=this.Vq(g.get));b.GK(f,h)}return b}});var P=!0;a.o.jF=function(){P=!1};E.prototype=$.extend(Object.create(A.prototype),{Wj:function(a){if(P)try{var b=this.Ql.__add_action(a);b.gA=a;return b}catch(c){console.warn("Failed to compile PDFJS script")}},Sl:function(a){a=this.Li("Doc",a);for(var b=Object.keys(a),c=0;c<b.length;++c){var d=b[c];Object.defineProperty(this.Ql,d,Object.getOwnPropertyDescriptor(a,
d))}},Kc:function(){A.prototype.Kc.call(this);this.El&&this.El.remove()},Kk:function(a,b,c){if(P){this.$h||(this.Sl(c),this.$h=!0);var d=J;J=c;b=this.Li("Event",b);this.Ql.event=b;c=D;D=b;try{a()}catch(e){console.warn("PDFJS error encountered: ",e,a&&a.gA)}D=c;J=d}}});z.CK=B;z.XE=function(){return new E}})(window);
(function(a){if(a&&a.Worker){var f=a.Worker;a.wg=a.wg||[];a.wg.AB||(a.wg.AB=function(){for(var d=a.wg.length-1;0<=d;d--)a.wg[d].terminate(),delete a.wg[d]});a.Worker.isFake||(a.Worker=function(d){d=new f(d);a.wg.push(d);return d},a.vC=function(a){return a instanceof f},a.Worker.isFake=!0)}})(window);window.addEventListener("unload",function(){window.wg&&window.wg.AB()});
(function(a){function f(){}function d(b){this.size=b;this.Ic=Array(this.size);for(b=0;b<this.size;b++)this.Ic[b]={nf:a.o.Ja.Cj(1,1,1),Ku:a.o.Ja.Cj(1,1,1),Qs:null,Ni:[],Hp:!1}}function e(a){var b=a.width;a.width=1;a.width=b}var b={Cr:"ViewportCanvas",bw:"PageCanvas"};d.prototype={rp:function(a,b,c){b=c&&1<b?0===a?0:Math.floor((a+1)/b):Math.floor(a/b);c=null;for(var d=0;d<this.size;d++){if(this.Ic[d].Qs===b)return-1===this.Ic[d].Ni.indexOf(a)&&this.Ic[d].Ni.push(a),this.Ic[d].Hp=!0,this.Ic[d];this.Ic[d].Hp||
(c=this.Ic[d])}return c?(c.Qs=b,c.Ni.push(a),c.Hp=!0,c):null},Dk:function(a){for(var b=0;b<this.size;b++){var c=this.Ic[b].Ni,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.ry(this.Ic[b]);break}}},en:function(){for(var a=0;a<this.size;a++)this.ry(this.Ic[a])},ry:function(a){a.Qs=null;a.Hp=!1;$(a.nf).removeAttr("style").removeClass();$(a.Ku).removeAttr("style").removeClass();e(a.nf);a.nf.getContext("2d").clearRect(0,0,a.nf.width,a.nf.height);a.Ni=[]},JJ:function(a,b,c){a=this.rp(a,
c,this.Mp);_.isNull(b)&&(b=a.Ku);a.Ku=a.nf;a.nf=b}};f.prototype={bj:!1,init:function(){var b=a.innerWidth,c=a.innerHeight;this.Ic=new d(3);this.Po=new d(3);this.Rd=this.Cj(b,c,1);this.an=1},Lq:function(a,b){this.an=a;this.Mp=b},Ys:function(){var a=this.Rd.getContext("2d");a.restore();a.clearRect(0,0,this.Rd.width,this.Rd.height);this.Rd.getAttribute("style");this.Rd.removeAttribute("style")},Aq:function(a,b){this.Ic.JJ(a,b,this.an)},Dk:function(a){this.Ic.Dk(a);this.Po.Dk(a)},en:function(){this.Ic.en();
this.Po.en()},Nl:function(b,c,d,e){var f=$(b);c=Math.floor(c);d=Math.floor(d);var k=""===b.style.height||1<Math.abs(parseInt(b.style.height,10)-d);if(""===b.style.width||1<Math.abs(parseInt(b.style.width,10)-c)||k)e=a.utils.getCanvasMultiplier(c,d,e),k=Math.floor(d*e),b.setAttribute("width",Math.floor(c*e)),b.setAttribute("height",k),f.css("width",c),f.css("height",d)},Cj:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.Nl(d,a,b,c);return"undefined"===
typeof d.getContext("2d")?null:d},GD:function(a,b,c,d){var e=1,f=null,k=a;if(1>=a*c||1>=b*c)f=this.Cj(1,1,1);var u=a/b;64E6<a*b&&(b=Math.sqrt(64E6/u),e=u*b/a,a=u*b);u=null;for("undefined"===typeof d&&(d=.25);null===f;){var u=this.Cj(Math.ceil(a*e),Math.ceil(b*e),c,u),r=u.getContext("2d");r.fillStyle="white";r.fillRect(u.width-1,u.height-1,1,1);r=!(1>window.devicePixelRatio)&&(u.width<parseFloat(u.style.width)||u.height<parseFloat(u.style.height));if(null!==u&&0<this.ND(u)&&!r)f=u;else if(e-=d,0>=
e)return console.error("No canvas could be created"),null}1>e&&(a="scale("+k/parseFloat(f.style.width)+")",$(f).css({transform:a,"transform-origin":"top left","ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(f).css("position","absolute");f.getContext("2d").clearRect(f.width-1,f.height-1,1,1);return f},ND:function(a){return a.getContext("2d").getImageData(a.width-
1,a.height-1,1,1).data[3]},Ws:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;c=c||a.height;a.getContext("2d").clearRect(0,0,b,c)},vz:function(b,c,d,e,f,k){if(b!==this.Rd)throw Error("Canvas drawing error");var q=this.Ic.rp(c,this.an,this.Mp);b=q.nf;this.Nl(b,parseFloat(this.Rd.style.width),parseFloat(this.Rd.style.height),d);q=q.Ni.sort(function(a,b){return a-b});c<=q[0]&&(b.width=b.width);c=a.utils.getCanvasMultiplier(k.width,k.height,d);d=a.Dc(d,e,k,f,!0,c);e=b.getContext("2d");
e.save();e.transform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);e.fillStyle="white";e.fillRect(0,0,k.width,k.height);e.restore();e.drawImage(this.Rd,0,0);this.Ys();return b},nn:function(b,c,d,e){var f=a.innerWidth,k=a.innerHeight;this.Nl(this.Rd,f,k,c);f=a.utils.getCanvasMultiplier(f,k,c);c=a.Dc(c,d,b,e,!0,f);d=this.Rd.getContext("2d");d.restore();d.save();d.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);a.utils.canvasClipBug||(d.beginPath(),d.rect(0,0,b.width,b.height),d.clip());return{canvas:this.Rd,
ctx:d,t:c}},Xl:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;var d=$(a);d.css({"z-index":"20"});d.addClass("hacc canvas"+b);return c.parentNode},TD:function(a,b,c,d){a=this.Po.rp(a,this.an,this.Mp).nf;this.Nl(a,b,c,d);return a},eh:function(b,c,d,e,f,k,q){b=$("#pageContainer"+b).parent().find(".auxiliary")[0];if(_.isUndefined(b))return null;k=b.getContext("2d");k.restore();k.save();var u=a.utils.getCanvasMultiplier(parseFloat(b.style.width),parseFloat(b.style.height),
d);if(1===q||3===q)c={width:c.height,height:c.width};d=a.Dc(d,(e+q||0)%4,c,f,!0,u);k.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);a.utils.canvasClipBug||(k.beginPath(),k.rect(0,0,c.width,c.height),k.clip());return b},Oo:function(b,c,d,f){var k=document.getElementById("pageContainer"+b);if(!k)return null;k=$(k).parent();if(0<k.find(".auxiliary").length)c=this.Po.rp(b,this.an,this.Mp),f=c.Ni.sort(function(a,b){return a-b}),b<=f[0]&&e(c.nf);else{var n=a.innerWidth,q=a.innerHeight,u=this.TD(b,n,
q,d);b=$(u);b.addClass("auxiliary");b.css({"z-index":"30",position:"absolute",display:""});k.append(u);b=u.getContext("2d");d*=parseFloat(u.style.width)/n;n=a.utils.getCanvasMultiplier(n,q,d);c=a.Dc(d,f,c,null,!0,n);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return k[0]}},Oz:function(a){return $("#pageContainer"+a).parent()},hu:function(a){return $("#pageWidgetContainer"+a)}};var c=new f,k=new f;$.extend(k,{bj:!0,init:function(){},Lq:function(){},Ys:function(){},Aq:function(){},Dk:function(){},
en:function(){},Ws:function(a){if(!a)throw Error("Canvas not defined");var b=a.getContext("2d");b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},vz:function(a){return a},nn:function(b,c,d,e,f,k){e=!1;if(d===a.o.sa.bd||d===a.o.sa.Ld)e=!0;f=!_.isUndefined(k);var q,u;f?(q=(e?k.y2-k.y1:k.x2-k.x1)*c,u=(e?k.x2-k.x1:k.y2-k.y1)*c):(q=e?b.height*c:b.width*c,u=e?b.width*c:b.height*c);var r;e=this.Cj(q,u,c);r=parseFloat(e.style.width);u=a.utils.getCanvasMultiplier(q,u,c);b=
a.Dc(r/q*c,d,f?k:b,{x:0,y:0},!0,u);c=e.getContext("2d");a.Dt||(e.style.backgroundColor="white");c.transform(b.m_a,b.m_b,b.m_c,b.m_d,b.m_h,b.m_v);return{canvas:e,ctx:c,t:b}},Xl:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;$(c).find(".canvas"+b).remove();var d=a.JM,e=$(a);e.css({"z-index":"20",position:"absolute"});e.addClass("hacc canvas"+b);_.isUndefined(d)||e.css("top",function(a){return a*d});$(c).append(e);return c},ox:function(a){return{width:a.x2-a.x1,height:a.y2-
a.y1}},Lx:function(b,c){var d=!1;if(c===a.o.sa.bd||c===a.o.sa.Ld)d=!0;return{width:d?b.height:b.width,height:d?b.width:b.height}},eh:function(b,c,d,e,f,k,q){b=$("#pageContainer"+b).find(".auxiliary");if(0<b.length){if(k){var u=b[0],r=u.getContext("2d");r.restore();r.save();var u=a.utils.getCanvasMultiplier(parseFloat(u.style.width),parseFloat(u.style.height),d),w=this.Lx(this.ox(k),e),v=Math.round(w.width*d),w=Math.round(w.height*d),x=parseFloat(b.css("width")),y=parseFloat(b.css("height"));b.css({left:f.x,
top:f.y});(1<Math.abs(x-v)||1<Math.abs(y-w))&&b.attr({width:v*u,height:w*u}).css({width:v,height:w});if(k&&q){f=c.width;v=c.height;if(1===q||3===q)f=c.height,v=c.width;c=a.Dc(1,q,{width:f,height:v},null,!1).inverse();k=a.utils.normalizeRect(c.W({x:k.x1,y:k.y1}),c.W({x:k.x2,y:k.y2}))}d=a.Dc(d,(e+(q||0))%4,k,null,!0,u);r.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v)}return b[0]}return null},Oo:function(b,c,d,e,f){b=document.getElementById("pageContainer"+b);if(!b)return null;b=$(b);if(!(0<b.find(".auxiliary").length)){var k;
f?(k=this.ox(f),f=k.width,k=k.height):(f=c.width,k=c.height);k=this.Lx({width:f,height:k},e);f=k.width*d;k=this.GD(f,k.height*d,d,.2);var q=$(k);q.addClass("auxiliary");q.css({"z-index":"30",position:"absolute"});b.prepend(k);b=k.getContext("2d");b.clearRect(0,0,k.width,k.height);c=a.Dc(parseFloat(k.style.width)/f*d,e,c);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v)}},Oz:function(a){return $("#pageContainer"+a)},hu:function(a){return $("#pageWidgetContainer"+a)}});a.o.iD=function(d){if(d===b.Cr)a.o.Ja=
c;else if(d===b.bw)a.o.Ja=k;else throw Error("Invalid Canvas Manager type");a.o.Ja.init()};a.o.dl=b;a.o.Ja=k;a.o.Ja.init()})(window);
(function(a){function f(b,c,f,h){for(var g=c.password||c.p,l=c.type.toUpperCase(),m=d.length,p,n=0;n<m;n++)d[n].done&&(p=d[n]);!p&&4>m&&(p={done:!1,worker:new Worker(a.o.kk()+"DecryptWorker.js"),callback:h},d[m]=p,p.worker.addEventListener("message",function(a){if(a.data.error)throw c.error&&c.error(a.data.error),Error(a.data.error);p.callback(a.data);0<e.length?(a=e[0],e.shift(),p.done=!1,p.callback=a.callback,p.worker.postMessage({data:a.data,password:a.password,partName:a.Qi,type:l})):(p.callback=
null,p.done=!0)}));p?(p.done=!1,p.callback=h,p.worker.postMessage({data:b,password:g,partName:f,type:l})):e.push({data:b,password:g,Qi:f,type:l,callback:h})}var d=[],e=[];a.o=a.o||{};a.o.Hf=a.o.Hf||{};a.o.Hf.decrypt=function(a,c,d,e){f(a,c,d,e)};a.o.Hf.Hy=function(b,c,d){var e=c.password||c.p;switch(c.type.toUpperCase()){case "AES":b=a.Gy(b,e,d);break;default:b=a.Gy(b,e,d)}if(b.error)throw c.error&&c.error(b.error),Error(b.error);return b}})(window);
(function(a){a.Gy=function(a,d,e){for(var b=[],c=0;16>c;++c){b[c]=c;c<d.length&&(b[c]|=d.charCodeAt(c));var k=e.length+c-16;0<=k&&(b[c]|=e.charCodeAt(k))}d=[];for(e=0;16>e;++e)d.push(a.charCodeAt(e));a=a.slice(16);b=forge.aes.startDecrypting(b,d);b.update(forge.util.createBuffer(a));return b.finish()?b.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(a){a.GetPageMatrix=a.Dc;a.CoreControls=function(){};a.CoreControls.setWorkerPath=a.o.tJ;a.CoreControls.getWorkerPath=a.o.kk;a.CoreControls.setPDFWorkerPath=a.o.bJ;a.CoreControls.getPDFWorkerPath=a.o.ym;a.CoreControls.setPDFResourcePath=a.o.aJ;a.CoreControls.getPDFResourcePath=a.o.Bz;a.CoreControls.setAdvancedImageScaling=a.o.LI;a.CoreControls.setProgressiveTime=a.o.kB;a.CoreControls.preloadPDFWorker=a.o.JA;a.CoreControls.initPDFWorkerTransports=a.o.Wz;a.CoreControls.getDefaultPdfBackendType=
a.o.SF;a.CoreControls.getCurrentBackendType=a.o.oz;a.CoreControls.resetWorker=a.o.YA;a.CoreControls.isDemoMode=a.o.YG;a.CoreControls.setEmscriptenHeapSize=a.o.SI;a.CoreControls.setCustomFontURL=a.o.Eq;a.CoreControls.disableEmbeddedJavaScript=a.o.jF;a.CoreControls.enableSubzero=a.o.uF;a.CoreControls.isSubzeroEnabled=a.o.dH;a.XODText=XODText;a.XODText.ResultCode=XODText.yb;a.XODText.ResultCode.e_done=XODText.yb.ah;a.XODText.ResultCode.e_page=XODText.yb.fp;a.XODText.ResultCode.e_found=XODText.yb.dm;
a.XODText.Quad=XODText.hb;a.XODText.Quad.prototype.getPoints=XODText.hb.prototype.uf;a.XODText.Quad.prototype.getNormalizedPoints=XODText.hb.prototype.iG;a.XODText.Matrix2D=XODText.Na;a.XODText.Matrix2D.prototype.initMatrix=XODText.Na.prototype.pk;a.XODText.Matrix2D.prototype.initCoordinates=XODText.Na.prototype.Xa;a.XODText.Matrix2D.prototype.mult=XODText.Na.prototype.W;a.XODText.Point2D=XODText.gc;a.CoreControls.Encryption=a.o.Hf;a.CoreControls.Encryption.decrypt=a.o.Hf.decrypt;a.CoreControls.Encryption.decryptSynchronous=
a.o.Hf.Hy;a.CoreControls.PartRetrievers=function(){};a.CoreControls.PartRetrievers.PartRetriever=a.o.V.af;a.CoreControls.PartRetrievers.PartRetriever.prototype.setErrorCallback=a.o.V.af.prototype.TI;a.CoreControls.PartRetrievers.PartRetriever.prototype.setCustomHeaders=a.o.V.af.prototype.cv;a.CoreControls.PartRetrievers.CacheHinting=a.o.V.Hh;a.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=a.o.V.Hh.rr;a.CoreControls.PartRetrievers.CacheHinting.CACHE=a.o.V.Hh.Nv;a.CoreControls.PartRetrievers.CacheHinting.NO_HINT=
a.o.V.Hh.BC;a.CoreControls.PartRetrievers.LocalPartRetriever=a.o.V.xC;a.CoreControls.PartRetrievers.HttpPartRetriever=a.o.V.kl;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.requestDocument=a.o.V.af.prototype.vq;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.request=a.o.V.af.prototype.request;a.CoreControls.PartRetrievers.ExternalHttpPartRetriever=a.o.V.kr;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever=a.o.V.lr;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.setCustomHeaders=
a.o.V.lr.prototype.cv;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.getFileData=a.o.V.lr.prototype.Ce;a.CoreControls.PartRetrievers.ArrayBufferPdfPartRetriever=a.o.V.$B;a.CoreControls.PartRetrievers.LocalPdfPartRetriever=a.o.V.yC;a.CoreControls.PartRetrievers.StreamingPartRetriever=a.o.V.mw;a.CoreControls.PartRetrievers.WebDBPartRetriever=a.o.V.tl;a.CoreControls.PartRetrievers.AndroidContentPartRetriever=a.o.V.ZB;a.CoreControls.PartRetrievers.AzurePartRetriever=a.o.V.aC;a.CoreControls.PartRetrievers.IOSPartRetriever=
a.o.V.ll;a.CoreControls.PartRetrievers.IOSPartRetriever.partSuccess=a.o.V.ll.Ou;a.CoreControls.PartRetrievers.IOSPartRetriever.partFail=a.o.V.ll.Nu;a.CoreControls.PartRetrievers.WinRTPartRetriever=a.o.V.ul;a.CoreControls.PartRetrievers.WinRTPartRetriever.partSuccess=a.o.V.ul.Ou;a.CoreControls.PartRetrievers.WinRTPartRetriever.partFail=a.o.V.ul.Nu;a.CoreControls.CanvasMode=a.o.dl;a.CoreControls.CanvasMode.ViewportCanvas=a.o.dl.Cr;a.CoreControls.CanvasMode.PageCanvas=a.o.dl.bw;a.CoreControls.SetCanvasMode=
a.o.iD;a.CoreControls.Bookmark=a.o.qe;a.CoreControls.Bookmark.prototype.getName=a.o.qe.prototype.getName;a.CoreControls.Bookmark.prototype.getVPos=a.o.qe.prototype.EG;a.CoreControls.Bookmark.prototype.getHPos=a.o.qe.prototype.YF;a.CoreControls.Bookmark.prototype.getPageNumber=a.o.qe.prototype.Jb;a.CoreControls.Bookmark.prototype.getURL=a.o.qe.prototype.Mz;a.CoreControls.Bookmark.prototype.getParent=a.o.qe.prototype.getParent;a.CoreControls.Bookmark.prototype.getChildren=a.o.qe.prototype.mz;a.CoreControls.Bookmark.prototype.isValid=
a.o.qe.prototype.isValid;a.CoreControls.Document=a.o.Document;a.CoreControls.Document.prototype.getBookmarks=a.o.Document.prototype.pm;a.CoreControls.Document.prototype.getLayers=a.o.Document.prototype.TL;a.CoreControls.Document.prototype.getLinks=a.o.Document.prototype.sp;a.CoreControls.Document.prototype.loadThumbnailAsync=a.o.Document.prototype.wk;a.CoreControls.Document.prototype.includesThumbnails=a.o.Document.prototype.nk;a.CoreControls.Document.prototype.loadPageText=a.o.Document.prototype.xu;
a.CoreControls.Document.prototype.refreshTextData=a.o.Document.prototype.mI;a.CoreControls.Document.prototype.getTextPosition=a.o.Document.prototype.cu;a.CoreControls.Document.prototype.extractXFDF=a.o.Document.prototype.lm;a.CoreControls.Document.prototype.loadCanvasAsync=a.o.Document.prototype.kg;a.CoreControls.Document.prototype.pauseLoadCanvas=a.o.Document.prototype.lq;a.CoreControls.Document.prototype.resumeLoadCanvas=a.o.Document.prototype.zq;a.CoreControls.Document.prototype.cancelLoadCanvas=
a.o.Document.prototype.Yf;a.CoreControls.Document.prototype.cancelLoadThumbnail=a.o.Document.prototype.Uj;a.CoreControls.Document.prototype.unloadCanvasResources=a.o.Document.prototype.sn;a.CoreControls.Document.prototype.getPageInfo=a.o.Document.prototype.Lc;a.CoreControls.Document.prototype.getPageCount=a.o.Document.prototype.yc;a.CoreControls.Document.prototype.getPDFCoordinates=a.o.Document.prototype.yp;a.CoreControls.Document.prototype.getXODCoordinates=a.o.Document.prototype.Fp;a.CoreControls.Document.prototype.getViewerCoordinates=
a.o.Document.prototype.gu;a.CoreControls.Document.prototype.loadAsync=a.o.Document.prototype.uh;a.CoreControls.Document.prototype.unloadResources=a.o.Document.prototype.Qe;a.CoreControls.Document.prototype.initOfflineDB=a.o.Document.prototype.Lm;a.CoreControls.Document.prototype.storeOffline=a.o.Document.prototype.Oq;a.CoreControls.Document.prototype.isDownloaded=a.o.Document.prototype.sk;a.CoreControls.Document.prototype.getOfflineModeEnabled=a.o.Document.prototype.wp;a.CoreControls.Document.prototype.setOfflineModeEnabled=
a.o.Document.prototype.Jq;a.CoreControls.Document.prototype.cancelOfflineModeDownload=a.o.Document.prototype.Uo;a.CoreControls.Document.prototype.getFileData=a.o.Document.prototype.Ce;a.CoreControls.Document.prototype.onJSCompletion=a.o.Document.prototype.JH;a.CoreControls.Document.prototype.insertPages=a.o.Document.prototype.qk;a.CoreControls.Document.prototype.getPDFDoc=a.o.Document.prototype.gk;a.CoreControls.Document.prototype.getLayersArray=a.o.Document.prototype.fk;a.CoreControls.Document.prototype.setLayersArray=
a.o.Document.prototype.Hq;a.CoreControls.Document.prototype.setOverprintPreviewMode=a.o.Document.prototype.Kq;a.CoreControls.Document.prototype.extractPDFNetLayersContext=a.o.Document.prototype.ak;a.CoreControls.Document.prototype.insertBlankPages=a.o.Document.prototype.Mm;a.CoreControls.Document.prototype.removePages=a.o.Document.prototype.Ek;a.CoreControls.Document.prototype.movePages=a.o.Document.prototype.Um;a.CoreControls.Document.prototype.rotatePages=a.o.Document.prototype.Jk;a.CoreControls.Document.prototype.extractPages=
a.o.Document.prototype.bk;a.CoreControls.Document.prototype.cropPages=a.o.Document.prototype.Yj;a.CoreControls.Document.prototype.print=a.o.Document.prototype.print;a.CoreControls.PageRotation=a.o.sa;a.CoreControls.PageRotation.e_0=a.o.sa.Ae;a.CoreControls.PageRotation.e_90=a.o.sa.bd;a.CoreControls.PageRotation.e_180=a.o.sa.si;a.CoreControls.PageRotation.e_270=a.o.sa.Ld;a.CoreControls.OverprintPreviewMode=a.o.Ln;a.CoreControls.OverprintPreviewMode.OFF=a.o.Ln.DC;a.CoreControls.OverprintPreviewMode.ON=
a.o.Ln.FC;a.CoreControls.OverprintPreviewMode.PDFX_ON=a.o.Ln.TC;a.CoreControls.SaveOptions=a.o.Nh;a.CoreControls.SaveOptions.INCREMENTAL=a.o.Nh.rC;a.CoreControls.SaveOptions.REMOVE_UNUSED=a.o.Nh.UC;a.CoreControls.SaveOptions.HEX_STRINGS=a.o.Nh.mC;a.CoreControls.SaveOptions.OMIT_XREF=a.o.Nh.EC;a.CoreControls.SaveOptions.LINEARIZED=a.o.Nh.wC;a.CoreControls.SaveOptions.COMPATIBILITY=a.o.Nh.bC;a.CoreControls.DocumentViewer=a.o.ea;a.CoreControls.DocumentViewer.prototype.loadAsync=a.o.ea.prototype.uh;a.CoreControls.DocumentViewer.prototype.dispose=
a.o.ea.prototype.Kc;a.CoreControls.DocumentViewer.prototype.FitMode=function(){};a.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=a.o.ea.prototype.Xe.nr;a.CoreControls.DocumentViewer.prototype.FitMode.FitPage=a.o.ea.prototype.Xe.Tv;a.CoreControls.DocumentViewer.prototype.FitMode.Zoom=a.o.ea.prototype.Xe.Zoom;a.CoreControls.DocumentViewer.prototype.displayLastPage=a.o.ea.prototype.oF;a.CoreControls.DocumentViewer.prototype.displayFirstPage=a.o.ea.prototype.nF;a.CoreControls.DocumentViewer.prototype.setCurrentPage=
a.o.ea.prototype.yd;a.CoreControls.DocumentViewer.prototype.getCurrentPage=a.o.ea.prototype.gh;a.CoreControls.DocumentViewer.prototype.setRightToLeftPages=a.o.ea.prototype.kJ;a.CoreControls.DocumentViewer.prototype.getRightToLeftPages=a.o.ea.prototype.bu;a.CoreControls.DocumentViewer.prototype.getZoom=a.o.ea.prototype.hg;a.CoreControls.DocumentViewer.prototype.getPageCount=a.o.ea.prototype.yc;a.CoreControls.DocumentViewer.prototype.setFitMode=a.o.ea.prototype.ev;a.CoreControls.DocumentViewer.prototype.getFitMode=
a.o.ea.prototype.VF;a.CoreControls.DocumentViewer.prototype.zoomTo=a.o.ea.prototype.Jv;a.CoreControls.DocumentViewer.prototype.zoomToMouse=a.o.ea.prototype.yK;a.CoreControls.DocumentViewer.prototype.setToolMode=a.o.ea.prototype.qJ;a.CoreControls.DocumentViewer.prototype.getToolMode=a.o.ea.prototype.AG;a.CoreControls.DocumentViewer.prototype.rotateClockwise=a.o.ea.prototype.wI;a.CoreControls.DocumentViewer.prototype.rotateCounterClockwise=a.o.ea.prototype.xI;a.CoreControls.DocumentViewer.prototype.textSearchInit=
a.o.ea.prototype.FB;a.CoreControls.DocumentViewer.prototype.SearchMode=function(){};a.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=XODText.zb.Qy;a.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=XODText.zb.Ty;a.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=XODText.zb.xt;a.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=XODText.zb.Sy;a.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.zb.Ry;a.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=
XODText.zb.Py;a.CoreControls.DocumentViewer.prototype.displayBookmark=a.o.ea.prototype.mF;a.CoreControls.DocumentViewer.prototype.getDocument=a.o.ea.prototype.getDocument;a.CoreControls.DocumentViewer.prototype.getSelectedText=a.o.ea.prototype.Cp;a.CoreControls.DocumentViewer.prototype.setTextHighlightColor=a.o.ea.prototype.pJ;a.CoreControls.DocumentViewer.prototype.displaySearchResult=a.o.ea.prototype.My;a.CoreControls.DocumentViewer.prototype.scrollViewUpdated=a.o.ea.prototype.EI;a.CoreControls.DocumentViewer.prototype.closeDocument=
a.o.ea.prototype.uy;a.CoreControls.DocumentViewer.prototype.setOptions=a.o.ea.prototype.kd;a.CoreControls.DocumentViewer.prototype.recalculateLayout=a.o.ea.prototype.PA;a.CoreControls.DocumentViewer.prototype.refreshAll=a.o.ea.prototype.kI;a.CoreControls.DocumentViewer.prototype.refreshPage=a.o.ea.prototype.lI;a.CoreControls.DocumentViewer.prototype.printCurrentDocument=a.o.ea.prototype.DM;a.CoreControls.DocumentViewer.prototype.getRenderingPipeline=a.o.ea.prototype.ik;a.CoreControls.RenderingPipeline=
a.o.tj;a.CoreControls.RenderingPipeline.PipelineManager=a.o.tj.ql;a.CoreControls.RenderingPipeline.PipelineManager.prototype.registerHandlers=a.o.tj.ql.prototype.Tu;a.CoreControls.RenderingPipeline.PipelineManager.prototype.pushChange=a.o.tj.ql.prototype.le;a.CoreControls.RenderingPipeline.PipelineManager.prototype.hasPipeline=a.o.tj.ql.prototype.LG;a.CoreControls.SetCachingLevel=a.o.yr;a.CoreControls.SetPreRenderLevel=a.o.iw;a.CoreControls.DocumentViewer.prototype.getMargin=a.o.ea.prototype.xz;a.CoreControls.DocumentViewer.prototype.setMargin=
a.o.ea.prototype.YI;a.CoreControls.DocumentViewer.prototype.updateView=a.o.ea.prototype.Wk;a.CoreControls.DocumentViewer.prototype.updateVisiblePages=a.o.ea.prototype.Xk;a.CoreControls.DocumentViewer.prototype.stopPageRender=a.o.ea.prototype.Tk;a.CoreControls.DocumentViewer.prototype.setPagesPerCanvas=a.o.ea.prototype.Lq;a.CoreControls.DocumentViewer.prototype.returnCanvas=a.o.ea.prototype.Aq;a.CoreControls.DocumentViewer.prototype.drawSelection=a.o.ea.prototype.sF;a.CoreControls.DocumentViewer.prototype.clearSelection=
a.o.ea.prototype.bt;a.CoreControls.DocumentViewer.prototype.removeContent=a.o.ea.prototype.Ti;a.CoreControls.DocumentViewer.prototype.select=a.o.ea.prototype.select;a.CoreControls.DocumentViewer.prototype.getPageHeight=a.o.ea.prototype.Pb;a.CoreControls.DocumentViewer.prototype.getPageWidth=a.o.ea.prototype.Qb;a.CoreControls.DocumentViewer.prototype.setPageZoom=a.o.ea.prototype.kv;a.CoreControls.DocumentViewer.prototype.getPageZoom=a.o.ea.prototype.mb;a.CoreControls.DocumentViewer.prototype.getRotation=
a.o.ea.prototype.Ac;a.CoreControls.DocumentViewer.prototype.setRotation=a.o.ea.prototype.lJ;a.CoreControls.DocumentViewer.prototype.getCompleteRotation=a.o.ea.prototype.rf;a.CoreControls.DocumentViewer.prototype.getPageRotations=a.o.ea.prototype.mG;a.CoreControls.DocumentViewer.prototype.setPageRotations=a.o.ea.prototype.dJ;a.CoreControls.DocumentViewer.prototype.getAnnotationManager=a.o.ea.prototype.cd;a.CoreControls.DocumentViewer.prototype.setInternalAnnotationsTransform=a.o.ea.prototype.WI;a.CoreControls.DocumentViewer.prototype.setPagesUpdatedInternalAnnotationsTransform=
a.o.ea.prototype.fJ;a.CoreControls.DocumentViewer.prototype.getDisplayModeManager=a.o.ea.prototype.rm;a.CoreControls.DocumentViewer.prototype.setViewportRenderMode=a.o.ea.prototype.pv;a.CoreControls.DocumentViewer.prototype.setRenderBatchSize=a.o.ea.prototype.lB;a.CoreControls.DisplayMode=a.o.od;a.CoreControls.DisplayMode.prototype.setParameters=a.o.od.prototype.gJ;a.CoreControls.DisplayMode.prototype.isContinuous=a.o.od.prototype.pu;a.CoreControls.DisplayMode.prototype.windowToPage=a.o.od.prototype.dj;
a.CoreControls.DisplayMode.prototype.pageToWindow=a.o.od.prototype.gd;a.CoreControls.DisplayMode.prototype.getSelectedPages=a.o.od.prototype.Bp;a.CoreControls.DisplayMode.prototype.getVisiblePages=a.o.od.prototype.Pd;a.CoreControls.DisplayMode.prototype.getPageTransform=a.o.od.prototype.hk;a.CoreControls.DisplayMode.prototype.getPageOffset=a.o.od.prototype.Yt;a.CoreControls.DisplayMode.prototype.createPageSections=a.o.od.prototype.oL;a.CoreControls.DisplayMode.prototype.setCustomFunctions=a.o.od.prototype.RI;
a.CoreControls.DisplayModes=a.o.pd;a.CoreControls.DisplayModes.Single=a.o.pd.jw;a.CoreControls.DisplayModes.Continuous=a.o.pd.gl;a.CoreControls.DisplayModes.Facing=a.o.pd.Rv;a.CoreControls.DisplayModes.FacingContinuous=a.o.pd.mr;a.CoreControls.DisplayModes.Cover=a.o.pd.Dn;a.CoreControls.DisplayModes.CoverFacing=a.o.pd.En;a.CoreControls.DisplayModes.Custom=a.o.pd.Ff;a.CoreControls.DisplayModeManager=a.o.hl;a.CoreControls.DisplayModeManager.prototype.setDisplayMode=a.o.hl.prototype.dv;a.CoreControls.DisplayModeManager.prototype.getDisplayMode=
a.o.hl.prototype.Ib;a.CoreControls.AnnotationManager=a.o.ga;a.CoreControls.AnnotationManager.prototype.addAnnotation=a.o.ga.prototype.Ug;a.CoreControls.AnnotationManager.prototype.addAnnotations=a.o.ga.prototype.Rj;a.CoreControls.AnnotationManager.prototype.deleteAnnotation=a.o.ga.prototype.oi;a.CoreControls.AnnotationManager.prototype.deleteAnnotations=a.o.ga.prototype.mt;a.CoreControls.AnnotationManager.prototype.selectAnnotation=a.o.ga.prototype.Mk;a.CoreControls.AnnotationManager.prototype.selectAnnotations=
a.o.ga.prototype.Zu;a.CoreControls.AnnotationManager.prototype.deselectAnnotation=a.o.ga.prototype.am;a.CoreControls.AnnotationManager.prototype.deselectAllAnnotations=a.o.ga.prototype.de;a.CoreControls.AnnotationManager.prototype.isAnnotationSelected=a.o.ga.prototype.rk;a.CoreControls.AnnotationManager.prototype.getSelectedAnnotations=a.o.ga.prototype.Ee;a.CoreControls.AnnotationManager.prototype.updateCopiedAnnotations=a.o.ga.prototype.$J;a.CoreControls.AnnotationManager.prototype.pasteCopiedAnnotations=
a.o.ga.prototype.RH;a.CoreControls.AnnotationManager.prototype.getAnnotationCopy=a.o.ga.prototype.Nt;a.CoreControls.AnnotationManager.prototype.drawAnnotations=a.o.ga.prototype.bc;a.CoreControls.AnnotationManager.prototype.redrawAnnotation=a.o.ga.prototype.Tb;a.CoreControls.AnnotationManager.prototype.drawAnnotationsFromList=a.o.ga.prototype.ep;a.CoreControls.AnnotationManager.prototype.updateAnnotation=a.o.ga.prototype.XJ;a.CoreControls.AnnotationManager.prototype.jumpToAnnotation=a.o.ga.prototype.iH;
a.CoreControls.AnnotationManager.prototype.hasAnnotation=a.o.ga.prototype.nh;a.CoreControls.AnnotationManager.prototype.getAnnotationsList=a.o.ga.prototype.dh;a.CoreControls.AnnotationManager.prototype.setNoteContents=a.o.ga.prototype.iv;a.CoreControls.AnnotationManager.prototype.getCurrentUser=a.o.ga.prototype.dk;a.CoreControls.AnnotationManager.prototype.setCurrentUser=a.o.ga.prototype.OI;a.CoreControls.AnnotationManager.prototype.getIsAdminUser=a.o.ga.prototype.cG;a.CoreControls.AnnotationManager.prototype.setIsAdminUser=
a.o.ga.prototype.XI;a.CoreControls.AnnotationManager.prototype.setReadOnly=a.o.ga.prototype.iJ;a.CoreControls.AnnotationManager.prototype.getReadOnly=a.o.ga.prototype.au;a.CoreControls.AnnotationManager.prototype.canModify=a.o.ga.prototype.sc;a.CoreControls.AnnotationManager.prototype.setPermissionCheckCallback=a.o.ga.prototype.hJ;a.CoreControls.AnnotationManager.prototype.setSubmitFormActionCallback=a.o.ga.prototype.oJ;a.CoreControls.AnnotationManager.prototype.getAnnotCommand=a.o.ga.prototype.Lt;
a.CoreControls.AnnotationManager.prototype.importAnnotCommand=a.o.ga.prototype.ku;a.CoreControls.AnnotationManager.prototype.exportAnnotations=a.o.ga.prototype.zF;a.CoreControls.AnnotationManager.prototype.importAnnotations=a.o.ga.prototype.QG;a.CoreControls.AnnotationManager.prototype.importAnnotationsAsync=a.o.ga.prototype.lu;a.CoreControls.AnnotationManager.prototype.setMarkupOff=a.o.ga.prototype.hv;a.CoreControls.AnnotationManager.prototype.getMarkupOff=a.o.ga.prototype.tp;a.CoreControls.AnnotationManager.prototype.toggleAnnotations=
a.o.ga.prototype.SJ;a.CoreControls.AnnotationManager.prototype.getUseFilter=a.o.ga.prototype.Ep;a.CoreControls.AnnotationManager.prototype.setUseFilter=a.o.ga.prototype.nv;a.CoreControls.AnnotationManager.prototype.filterAnnotations=a.o.ga.prototype.CF;a.CoreControls.AnnotationManager.prototype.useDefaultStickyNotes=a.o.ga.prototype.Ch;a.CoreControls.AnnotationManager.prototype.disableDefaultStickyNotes=a.o.ga.prototype.iF;a.CoreControls.AnnotationManager.prototype.useFreeTextEditing=a.o.ga.prototype.PB;
a.CoreControls.AnnotationManager.prototype.disableFreeTextEditing=a.o.ga.prototype.kF;a.CoreControls.AnnotationManager.prototype.registerAnnotationType=a.o.ga.prototype.nI;a.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=a.o.ga.prototype.hF;a.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=a.o.ga.prototype.sG;a.CoreControls.AnnotationManager.prototype.getAnnotationFromPopup=a.o.ga.prototype.LF;a.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=
a.o.ga.prototype.Mt;a.CoreControls.AnnotationManager.prototype.getAnnotationById=a.o.ga.prototype.ck;a.CoreControls.AnnotationManager.prototype.getRootAnnotation=a.o.ga.prototype.Dm;a.CoreControls.AnnotationManager.prototype.createAnnotationReply=a.o.ga.prototype.xy;a.CoreControls.AnnotationManager.prototype.hideAnnotation=a.o.ga.prototype.OG;a.CoreControls.AnnotationManager.prototype.hideAnnotations=a.o.ga.prototype.Sz;a.CoreControls.AnnotationManager.prototype.showAnnotation=a.o.ga.prototype.zJ;
a.CoreControls.AnnotationManager.prototype.showAnnotations=a.o.ga.prototype.tB;a.CoreControls.AnnotationManager.prototype.setRedrawThrottle=a.o.ga.prototype.jJ;a.CoreControls.AnnotationManager.prototype.getFieldManager=a.o.ga.prototype.xi;a.CoreControls.AnnotationManager.prototype.setBorderStyle=a.o.ga.prototype.MI;a.Actions=a.Actions;a.Actions.GoTo=a.Actions.Ye;a.Actions.URI=a.Actions.yj;a.Actions.Named=a.Actions.pj;a.Actions.JavaScript=a.Actions.mj;a.Actions.ResetForm=a.Actions.Mh;a.Actions.SubmitForm=
a.Actions.Ph;a.Actions.Hide=a.Actions.lj;a.Annotations=a.Annotations;a.Annotations.Color=a.Annotations.Color;a.Annotations.Color.prototype.toHexString=a.Annotations.Color.prototype.toHexString;a.Annotations.Forms=a.Annotations.K;a.Annotations.Forms.FieldManager=a.Annotations.K.kj;a.Annotations.Forms.FieldManager.prototype.getField=a.Annotations.K.kj.prototype.lb;a.Annotations.Forms.FieldManager.prototype.addField=a.Annotations.K.kj.prototype.Io;a.Annotations.Forms.Field=a.Annotations.K.ca;a.Annotations.Forms.Field.prototype.getValue=
a.Annotations.K.ca.prototype.Ka;a.Annotations.Forms.Field.prototype.setValue=a.Annotations.K.ca.prototype.nb;a.Annotations.Forms.Field.prototype.setVisible=a.Annotations.K.ca.prototype.pe;a.Annotations.Forms.Field.prototype.on=a.Annotations.K.ca.prototype.on;a.Annotations.Forms.Field.prototype.off=a.Annotations.K.ca.prototype.off;a.Annotations.Forms.Field.prototype.trigger=a.Annotations.K.ca.prototype.trigger;a.Annotations.HTMLAnnotation=a.Annotations.Ta;a.Annotations.HTMLAnnotation.prototype.addAction=
a.Annotations.Ta.prototype.ii;a.Annotations.HTMLAnnotation.prototype.getActions=a.Annotations.Ta.prototype.vi;a.Annotations.HTMLAnnotation.prototype.triggerAction=a.Annotations.Ta.prototype.zd;a.Annotations.HTMLAnnotation.prototype.getInnerElement=a.Annotations.Ta.prototype.wz;a.Annotations.HTMLAnnotation.prototype.getElement=a.Annotations.Ta.prototype.rz;a.Annotations.WidgetAnnotation=a.Annotations.qa;a.Annotations.WidgetAnnotation.prototype.setValue=a.Annotations.qa.prototype.nb;a.Annotations.WidgetAnnotation.prototype.getValue=
a.Annotations.qa.prototype.Ka;a.Annotations.WidgetAnnotation.prototype.addAction=a.Annotations.qa.prototype.ii;a.Annotations.WidgetAnnotation.prototype.getField=a.Annotations.qa.prototype.lb;a.Annotations.WidgetAnnotation.prototype.setField=a.Annotations.qa.prototype.gB;a.Annotations.WidgetAnnotation.prototype.on=a.Annotations.qa.prototype.on;a.Annotations.WidgetAnnotation.prototype.off=a.Annotations.qa.prototype.off;a.Annotations.WidgetAnnotation.prototype.trigger=a.Annotations.qa.prototype.trigger;
a.Annotations.TextWidgetAnnotation=a.Annotations.Sh;a.Annotations.ChoiceWidgetAnnotation=a.Annotations.zg;a.Annotations.ListWidgetAnnotation=a.Annotations.Cg;a.Annotations.ButtonWidgetAnnotation=a.Annotations.Lb;a.Annotations.PushButtonWidgetAnnotation=a.Annotations.Kh;a.Annotations.CheckButtonWidgetAnnotation=a.Annotations.yg;a.Annotations.RadioButtonWidgetAnnotation=a.Annotations.Lh;a.Annotations.SignatureWidgetAnnotation=a.Annotations.Oh;a.Annotations.Annotation=a.Annotations.Annotation;a.Annotations.Annotation.prototype.getPageNumber=
a.Annotations.Annotation.prototype.Jb;a.Annotations.Annotation.prototype.setPageNumber=a.Annotations.Annotation.prototype.hB;a.Annotations.Annotation.prototype.getX=a.Annotations.Annotation.prototype.Ci;a.Annotations.Annotation.prototype.setX=a.Annotations.Annotation.prototype.uJ;a.Annotations.Annotation.prototype.getY=a.Annotations.Annotation.prototype.Di;a.Annotations.Annotation.prototype.setY=a.Annotations.Annotation.prototype.vJ;a.Annotations.Annotation.prototype.getTop=a.Annotations.Annotation.prototype.mh;
a.Annotations.Annotation.prototype.getBottom=a.Annotations.Annotation.prototype.jz;a.Annotations.Annotation.prototype.getLeft=a.Annotations.Annotation.prototype.jh;a.Annotations.Annotation.prototype.getRight=a.Annotations.Annotation.prototype.Jz;a.Annotations.Annotation.prototype.getWidth=a.Annotations.Annotation.prototype.xa;a.Annotations.Annotation.prototype.setWidth=a.Annotations.Annotation.prototype.sJ;a.Annotations.Annotation.prototype.getHeight=a.Annotations.Annotation.prototype.ua;a.Annotations.Annotation.prototype.setHeight=
a.Annotations.Annotation.prototype.gv;a.Annotations.Annotation.prototype.getCustom=a.Annotations.Annotation.prototype.RF;a.Annotations.Annotation.prototype.setCustom=a.Annotations.Annotation.prototype.QI;a.Annotations.Annotation.prototype.draw=a.Annotations.Annotation.prototype.draw;a.Annotations.Annotation.prototype.serialize=a.Annotations.Annotation.prototype.serialize;a.Annotations.Annotation.prototype.deserialize=a.Annotations.Annotation.prototype.deserialize;a.Annotations.Annotation.prototype.setRect=
a.Annotations.Annotation.prototype.sg;a.Annotations.Annotation.prototype.getRect=a.Annotations.Annotation.prototype.ge;a.Annotations.Annotation.prototype.getRectPadding=a.Annotations.Annotation.prototype.getRectPadding;a.Annotations.Annotation.prototype.adjustRect=a.Annotations.Annotation.prototype.adjustRect;a.Annotations.Annotation.prototype.setContents=a.Annotations.Annotation.prototype.Zi;a.Annotations.Annotation.prototype.getContents=a.Annotations.Annotation.prototype.fh;a.Annotations.Annotation.prototype.isReply=
a.Annotations.Annotation.prototype.Le;a.Annotations.Annotation.prototype.getReplies=a.Annotations.Annotation.prototype.Cm;a.Annotations.Annotation.prototype.isWidget=a.Annotations.Annotation.prototype.qh;a.Annotations.Annotation.prototype.selectionModel=a.Annotations.Annotation.prototype.selectionModel;a.Annotations.Annotation.prototype.elementName=a.Annotations.Annotation.prototype.elementName;a.Annotations.Point=a.Annotations.Point;a.Annotations.Quad=a.Annotations.hb;a.Annotations.Border=a.Annotations.cl;
a.Annotations.Font=a.Annotations.If;a.Annotations.Rect=a.Annotations.Rect;a.Annotations.Rect.prototype.getWidth=a.Annotations.Rect.prototype.xa;a.Annotations.Rect.prototype.getHeight=a.Annotations.Rect.prototype.ua;a.Annotations.Rect.prototype.translate=a.Annotations.Rect.prototype.translate;a.Annotations.Rect.prototype.fitTo=a.Annotations.Rect.prototype.Ct;a.Annotations.Rect.prototype.normalize=a.Annotations.Rect.prototype.normalize;a.Annotations.Link=a.Annotations.Tc;a.Annotations.PopupAnnotation=
a.Annotations.Fg;a.Annotations.PopupAnnotation.prototype.isOpen=a.Annotations.Fg.prototype.isOpen;a.Annotations.PopupAnnotation.prototype.setOpen=a.Annotations.Fg.prototype.Qk;a.Annotations.MarkupAnnotation=a.Annotations.la;a.Annotations.MarkupAnnotation.prototype.setStyles=a.Annotations.la.prototype.Cc;a.Annotations.MarkupAnnotation.prototype.selectionModel=a.Annotations.la.prototype.selectionModel;a.Annotations.MarkupAnnotation.prototype.getPopup=a.Annotations.la.prototype.vf;a.Annotations.MarkupAnnotation.prototype.setPopup=
a.Annotations.la.prototype.lv;a.Annotations.IPathAnnotation=a.Annotations.Sc;a.Annotations.IPathAnnotation.prototype.addPathPoint=a.Annotations.Sc.prototype.Gb;a.Annotations.IPathAnnotation.prototype.setPathPoint=a.Annotations.Sc.prototype.oe;a.Annotations.IPathAnnotation.prototype.getPathPoint=a.Annotations.Sc.prototype.fg;a.Annotations.IPathAnnotation.prototype.popPath=a.Annotations.Sc.prototype.Ck;a.Annotations.IPathAnnotation.prototype.getPath=a.Annotations.Sc.prototype.getPath;a.Annotations.LineAnnotation=
a.Annotations.qd;a.Annotations.LineAnnotation.prototype.setStartPoint=a.Annotations.qd.prototype.mB;a.Annotations.LineAnnotation.prototype.getStartPoint=a.Annotations.qd.prototype.zG;a.Annotations.LineAnnotation.prototype.setEndPoint=a.Annotations.qd.prototype.setEndPoint;a.Annotations.LineAnnotation.prototype.getEndPoint=a.Annotations.qd.prototype.TF;a.Annotations.LineAnnotation.prototype.setStartStyle=a.Annotations.qd.prototype.tg;a.Annotations.LineAnnotation.prototype.getStartStyle=a.Annotations.qd.prototype.Bi;
a.Annotations.LineAnnotation.prototype.setEndStyle=a.Annotations.qd.prototype.Gq;a.Annotations.LineAnnotation.prototype.getEndStyle=a.Annotations.qd.prototype.pp;a.Annotations.RectangleAnnotation=a.Annotations.Hg;a.Annotations.EllipseAnnotation=a.Annotations.hj;a.Annotations.FreeHandAnnotation=a.Annotations.FreeHandAnnotation;a.Annotations.FreeHandAnnotation.prototype.addPathPoint=a.Annotations.FreeHandAnnotation.prototype.Gb;a.Annotations.FreeHandAnnotation.prototype.setPathPoint=a.Annotations.FreeHandAnnotation.prototype.oe;
a.Annotations.FreeHandAnnotation.prototype.getPathPoint=a.Annotations.FreeHandAnnotation.prototype.fg;a.Annotations.FreeHandAnnotation.prototype.popPath=a.Annotations.FreeHandAnnotation.prototype.Ck;a.Annotations.FreeHandAnnotation.prototype.getPath=a.Annotations.FreeHandAnnotation.prototype.getPath;a.Annotations.FreeHandAnnotation.prototype.setPath=a.Annotations.FreeHandAnnotation.prototype.setPath;a.Annotations.FreeHandAnnotation.prototype.getPaths=a.Annotations.FreeHandAnnotation.prototype.Ai;
a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;a.Annotations.TextMarkupAnnotation=a.Annotations.Vc;a.Annotations.TextMarkupAnnotation.prototype.setQuads=a.Annotations.Vc.prototype.mv;a.Annotations.TextHighlightAnnotation=a.Annotations.Mf;a.Annotations.TextUnderlineAnnotation=a.Annotations.xj;a.Annotations.TextStrikeoutAnnotation=a.Annotations.Rh;a.Annotations.TextSquigglyAnnotation=a.Annotations.wj;a.Annotations.CaretAnnotation=
a.Annotations.fl;a.Annotations.StickyAnnotation=a.Annotations.Lf;a.Annotations.StampAnnotation=a.Annotations.uj;a.Annotations.PolylineAnnotation=a.Annotations.sj;a.Annotations.PolygonAnnotation=a.Annotations.Eg;a.Annotations.FreeTextAnnotation=a.Annotations.La;a.Annotations.FreeTextAnnotation.prototype.getPadding=a.Annotations.La.prototype.Cz;a.Annotations.FreeTextAnnotation.prototype.setPadding=a.Annotations.La.prototype.Rk;a.Annotations.FreeTextAnnotation.prototype.getIntent=a.Annotations.La.prototype.yi;
a.Annotations.FreeTextAnnotation.prototype.setIntent=a.Annotations.La.prototype.Pk;a.Annotations.FreeTextAnnotation.prototype.addPathPoint=a.Annotations.La.prototype.Gb;a.Annotations.FreeTextAnnotation.prototype.setStartStyle=a.Annotations.La.prototype.tg;a.Annotations.FreeTextAnnotation.prototype.getStartStyle=a.Annotations.La.prototype.Bi;a.Annotations.FreeTextAnnotation.Intent=a.Annotations.La.Cd;a.Annotations.ControlHandle=a.Annotations.ControlHandle;a.Annotations.ControlHandle.prototype.testSelection=
a.Annotations.ControlHandle.prototype.testSelection;a.Annotations.BoxControlHandle=a.Annotations.Td;a.Annotations.LineControlHandle=a.Annotations.nj;a.Annotations.PathControlHandle=a.Annotations.bf;a.Annotations.TextControlHandle=a.Annotations.vj;a.Annotations.SelectionModel=a.Annotations.SelectionModel;a.Annotations.SelectionModel.prototype.testSelection=a.Annotations.SelectionModel.prototype.testSelection;a.Annotations.SelectionModel.prototype.testControlHandles=a.Annotations.SelectionModel.prototype.Qq;
a.Annotations.SelectionModel.prototype.getControlHandles=a.Annotations.SelectionModel.prototype.QF;a.Annotations.SelectionModel.prototype.canModify=a.Annotations.SelectionModel.prototype.sc;a.Annotations.SelectionModel.prototype.draw=a.Annotations.SelectionModel.prototype.draw;a.Annotations.SelectionModel.prototype.drawPopupTail=a.Annotations.SelectionModel.prototype.drawPopupTail;a.Annotations.BoxSelectionModel=a.Annotations.va;a.Annotations.LineSelectionModel=a.Annotations.nl;a.Annotations.PathSelectionModel=
a.Annotations.qj;a.Annotations.TextSelectionModel=a.Annotations.Qh;a.Annotations.XfdfUtils=a.Annotations.fa;a.Annotations.XfdfUtils.serializePoint=a.Annotations.fa.Cq;a.Annotations.XfdfUtils.deserializePoint=a.Annotations.fa.Cq;a.Annotations.XfdfUtils.serializePointArray=a.Annotations.fa.Ok;a.Annotations.XfdfUtils.deserializePointArray=a.Annotations.fa.ri;a.Annotations.XfdfUtils.serializeRect=a.Annotations.fa.Dq;a.Annotations.XfdfUtils.deserializeRect=a.Annotations.fa.qt;a.Annotations.XfdfUtils.serializeFringeRect=
a.Annotations.fa.av;a.Annotations.XfdfUtils.deserializeFringeRect=a.Annotations.fa.Jy;a.Annotations.XfdfUtils.toXmlDate=a.Annotations.fa.yv;a.Annotations.SelectionAlgorithm=a.Annotations.Xb;a.Annotations.SelectionAlgorithm.boundingRectTest=a.Annotations.Xb.Tj;a.Annotations.SelectionAlgorithm.canvasVisibilityTest=a.Annotations.Xb.Zl;a.Annotations.SelectionAlgorithm.textQuadTest=a.Annotations.Xb.EB;a.Tool=a.Tool;a.Tools=a.Ca;a.Tools.Tool=a.Ca.Tool;a.Tools.Tool.prototype.getDocumentViewer=a.Ca.Tool.prototype.wi;
a.Tools.AnnotationSelectTool=a.Ca.AnnotationSelectTool;a.Tools.TextTool=a.Ca.Db;a.Tools.GenericAnnotationCreateTool=a.Ca.ob;a.Tools.PanTool=a.Ca.sr;a.Tools.TextSelectTool=a.Ca.qw;a.Tools.AnnotationEditTool=a.Ca.Lv;a.Tools.LineCreateTool=a.Ca.ml;a.Tools.ArrowCreateTool=a.Ca.Mv;a.Tools.RectangleCreateTool=a.Ca.gw;a.Tools.EllipseCreateTool=a.Ca.Qv;a.Tools.FreeHandCreateTool=a.Ca.FreeHandCreateTool;a.Tools.SignatureCreateTool=a.Ca.SignatureCreateTool;a.Tools.SignatureCreateTool.prototype.setSignatureCanvas=
a.Ca.SignatureCreateTool.prototype.nJ;a.Tools.SignatureCreateTool.prototype.clearSignatureCanvas=a.Ca.SignatureCreateTool.prototype.RE;a.Tools.SignatureCreateTool.prototype.initDefaultSignature=a.Ca.SignatureCreateTool.prototype.Vz;a.Tools.SignatureCreateTool.prototype.hasDefaultSignature=a.Ca.SignatureCreateTool.prototype.HG;a.Tools.SignatureCreateTool.prototype.addDefaultSignature=a.Ca.SignatureCreateTool.prototype.mE;a.Tools.SignatureCreateTool.prototype.openSignature=a.Ca.SignatureCreateTool.prototype.KH;
a.Tools.SignatureCreateTool.prototype.addSignature=a.Ca.SignatureCreateTool.prototype.ey;a.Tools.SignatureCreateTool.prototype.isEmptySignature=a.Ca.SignatureCreateTool.prototype.$z;a.Tools.StickyCreateTool=a.Ca.kw;a.Tools.TextAnnotationCreateTool=a.Ca.rd;a.Tools.TextHighlightCreateTool=a.Ca.pw;a.Tools.TextUnderlineCreateTool=a.Ca.uw;a.Tools.TextStrikeoutCreateTool=a.Ca.tw;a.Tools.TextSquigglyCreateTool=a.Ca.rw;a.Tools.PolylineCreateTool=a.Ca.rl;a.Tools.PolygonCreateTool=a.Ca.rj;a.Tools.PolygonCloudCreateTool=
a.Ca.Mn;a.Tools.CalloutCreateTool=a.Ca.er;a.Tools.FreeTextCreateTool=a.Ca.Uv})(window);
(function(){function a(a,e,b){function c(a,b){var c=b<<1;return 128>b?a*(c+(a*(255-c)>>8))>>8:a*(511-c)+Math.sqrt(a<<8)*(c-255)>>8}function k(a,b){return 128>a?a*b>>7:255-((255-b)*(255-a)>>7)}function h(a,b){return 255==b&&0==a?255:Math.min(255,(a<<8)/(255-b))}function g(a,b){return 255==b&&0==a?0:255-Math.min(255,(255-a<<8)/b)}function l(a,b,c){return{r:.299*a+.587*b+.114*c,g:-.1687*a-.3313*b+.5*c,b:.5*a-.4187*b-.0813*c}}function m(a,b,c){return{r:a+1.402*c,g:a-.3441*b-.7141*c,b:a+1.772*b}}function p(a,
b,c){a=l(a,b,c);return{he:Math.atan2(a.g,a.b),s:Math.sqrt(a.g*a.g+a.b*a.b),RB:a.r}}function n(a,b,c){return m(c,b*Math.sin(a),b*Math.cos(a))}var q={},u;for(u in f)f.hasOwnProperty(u)&&(q[u]=b&&b[u]||f[u]);"auto"==q.width&&(q.width=this.canvas.width);"auto"==q.height&&(q.height=this.canvas.height);q.width=Math.min(q.width,this.canvas.width-q.vB,a.canvas.width-q.x);q.height=Math.min(q.height,this.canvas.height-q.wB,a.canvas.height-q.y);u=this.getImageData(q.vB,q.wB,q.width,q.height);b=a.getImageData(q.x,
q.y,q.width,q.height);u=u.data;for(var r=b.data,w,v,x=r.length,y,A,B,E,M,z,H,G,I,D,J,K,L,P,F=0;F<x;F+=4)if(w=u[F+3]/255,v=r[F+3]/255,H=w+v-w*v,r[F+3]=255*H,0!=w)if(0==v)r[F]=u[F],r[F+1]=u[F+1],r[F+2]=u[F+2];else{G=r[F];I=r[F+1];D=r[F+2];J=u[F];K=u[F+1];L=u[F+2];y=J/255*w;E=G/255*v;A=K/255*w;M=I/255*v;B=L/255*w;z=D/255*v;P=255/H;H=v*w;var N=v-H,Q=w-H;switch(e){case "normal":case "src-over":r[F]=(y+E-E*w)*P;r[F+1]=(A+M-M*w)*P;r[F+2]=(B+z-z*w)*P;break;case "screen":r[F]=(y+E-y*E)*P;r[F+1]=(A+M-A*M)*
P;r[F+2]=(B+z-B*z)*P;break;case "multiply":r[F]=(y*E+y*(1-v)+E*(1-w))*P;r[F+1]=(A*M+A*(1-v)+M*(1-w))*P;r[F+2]=(B*z+B*(1-v)+z*(1-w))*P;break;case "difference":r[F]=(y+E-2*Math.min(y*v,E*w))*P;r[F+1]=(A+M-2*Math.min(A*v,M*w))*P;r[F+2]=(B+z-2*Math.min(B*v,z*w))*P;break;case "src-in":H=w*v;P=255/H;r[F]=y*v*P;r[F+1]=A*v*P;r[F+2]=B*v*P;r[F+3]=255*H;break;case "plus":case "add":r[F]=Math.min(y+E,1)*P;r[F+1]=Math.min(A+M,1)*P;r[F+2]=Math.min(B+z,1)*P;break;case "overlay":r[F]=H*k(G,J)+N*G+Q*J;r[F+1]=H*k(I,
K)+N*I+Q*K;r[F+2]=H*k(D,L)+N*D+Q*L;break;case "hard-light":r[F]=H*k(J,G)+N*G+Q*J;r[F+1]=H*k(K,I)+N*I+Q*K;r[F+2]=H*k(L,D)+N*D+Q*L;break;case "color-dodge":case "dodge":r[F]=H*h(G,J)+N*G+Q*J;r[F+1]=H*h(I,K)+N*I+Q*K;r[F+2]=H*h(D,L)+N*D+Q*L;break;case "color-burn":case "burn":r[F]=H*g(G,J)+N*G+Q*J;r[F+1]=H*g(I,K)+N*I+Q*K;r[F+2]=H*g(D,L)+N*D+Q*L;break;case "darken":case "darker":r[F]=H*(G<J?G:J)+N*G+Q*J;r[F+1]=H*(I<K?I:K)+N*I+Q*K;r[F+2]=H*(D<L?D:L)+N*D+Q*L;break;case "lighten":case "lighter":r[F]=(y<E?
E:y)*P;r[F+1]=(A<M?M:A)*P;r[F+2]=(B<z?z:B)*P;break;case "exclusion":r[F]=(E+y-2*E*y)*P;r[F+1]=(M+A-2*M*A)*P;r[F+2]=(z+B-2*z*B)*P;break;case "soft-light":r[F]=H*c(G,J)+N*G+Q*J;r[F+1]=H*c(I,K)+N*I+Q*K;r[F+2]=H*c(D,L)+N*D+Q*L;break;case "luminosity":w=l(G,I,D);v=l(J,K,L);w=m(v.r,w.g,w.b);r[F]=H*w.r+N*G+Q*J;r[F+1]=H*w.g+N*I+Q*K;r[F+2]=H*w.b+N*D+Q*L;break;case "color":w=l(G,I,D);v=l(J,K,L);w=m(w.r,v.g,v.b);r[F]=H*w.r+N*G+Q*J;r[F+1]=H*w.g+N*I+Q*K;r[F+2]=H*w.b+N*D+Q*L;break;case "hue":w=p(G,I,D);v=p(J,K,
L);w=n(v.he,w.s,w.RB);r[F]=H*w.r+N*G+Q*J;r[F+1]=H*w.g+N*I+Q*K;r[F+2]=H*w.b+N*D+Q*L;break;case "saturation":w=p(G,I,D);v=p(J,K,L);w=n(w.he,v.s,w.RB);r[F]=H*w.r+N*G+Q*J;r[F+1]=H*w.g+N*I+Q*K;r[F+2]=H*w.b+N*D+Q*L;break;case "lighter-color":w=0<2.623*(G-J)+5.15*(I-K)+D-L?{r:G,g:I,b:D}:{r:J,g:K,b:L};r[F]=H*w.r+N*G+Q*J;r[F+1]=H*w.g+N*I+Q*K;r[F+2]=H*w.b+N*D+Q*L;break;case "darker-color":w=0>2.623*(G-J)+5.15*(I-K)+D-L?{r:G,g:I,b:D}:{r:J,g:K,b:L};r[F]=H*w.r+N*G+Q*J;r[F+1]=H*w.g+N*I+Q*K;r[F+2]=H*w.b+N*D+Q*L;
break;default:G=F/4%this.canvas.width,I=Math.floor(F/4/this.canvas.width),G=4>G%8&&4>I%8||3<G%8&&3<I%8,r[F]=r[F+3]=255,r[F+1]=G?255:0,r[F+2]=G?0:255}}a.putImageData(b,q.x,q.y)}var f={x:0,y:0,vB:0,wB:0,width:"auto",height:"auto"};(function(d){if(!d||"function"!==typeof d.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(d,"bO",{value:a});for(var e=a.SM="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),
b=a.supports={},c=e.length;c--;)b[e[c]]=!0;a.bL={"src-over":"normal",cn:"add",HL:"colordodge",dL:"colorburn",BL:"darken",jM:"lighten"};return d})(CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype)})();
(function(a){var f=a._trnDebugMode;"undefined"===typeof a.utils&&(a.utils={warn:function(a){f&&console.warn(a)},log:function(a){f&&console.log(a)},error:function(a){f&&console.error(a);throw Error(a);}});a.info=function(d){a.utils.log(d)};a.warn=function(d){a.utils.warn(d)};a.error=function(d){a.utils.error(d)}})("undefined"===typeof window?this:window);("undefined"===typeof window?this:window).KL=0;var Y={};
(function(a){a.Wv=function(f,d){this.name=f;this.ag=d;this.HE=1;this.dn=!0;var e=this.li={},b=this.Wx={},c={};this.bq=null;var k=this,h=!1;b.console_log=[function(a){console.log(a)}];b.console_error=[function(b){a.utils.error(b)}];b.workerLoaded=[function(){}];b.worker_restart=[function(b){var c=d,e=Y[c];setTimeout(function(){c.removeEventListener("message",e);c.terminate();c=null},5E3);k.xk=new Worker(b.location);k.aj={gn:[],queue:[],postMessage:function(a,b){this.queue[this.queue.length]={CH:a,
TJ:b}}};console.warn("Worker Resize required. Note that changes to PDF documents may be lost.");a.utils.log("I resize "+b.size);k.ag=d=k.aj;Y[k.xk]=e;k.xk.addEventListener("message",e);c.onerror&&(k.xk.onerror=k.aj.onerror=c.onerror);k.Fu=b.queue;b.queue=null;b.array=new Uint8Array([this.dn?255:0]);h||(k.replace("test",function(){k.ag=d=k.xk;for(var a=0;a<k.Fu.length;++a){var b=k.Fu[a];k.postMessage(b)}for(a=0;a<k.aj.gn.length;++a)b=k.aj.gn[a],k.postMessage(b);for(a=0;a<k.aj.queue.length;++a)b=k.aj.queue[a],
k.ag.postMessage(b.CH,b.TJ);k.Fu=null;k.aj=null;k.xk=null}),h=!0);k.xk.postMessage({action:"test",data:b})}];b.redirect_request=[function(b){d.gn?d.gn[d.gn.length]=b:(a.utils.log("Redirect Request needed to be posted."),k.postMessage(b))}];d in Y&&d.removeEventListener("message",Y[d]);Y[d]=function(d){function f(a){if(a.message||a.yF){a.message&&a.message.message&&(a.message=a.message.message);var b=a.yF;a={type:a.type?a.type:"JavascriptError",message:a.message};if(b)for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c])}k.postMessage({isReply:!0,callbackId:h.ny,error:a})}var h=d.data;if(h.isReply)if(d=h.callbackId,d in e){var p=e[d];delete e[d];"error"in h?p.reject(h.error):p.resolve(h.data)}else a.utils.warn("Cannot resolve callback "+d);else if(h.action in b){var n=b[h.action];h.callbackId?Promise.resolve().then(function(){return n[0].call(n[1],h.data)}).then(function(a){k.postMessage({isReply:!0,callbackId:h.callbackId,data:a})},function(a){f(a)}):n[0].call(n[1],h.data)}else h.action in c?(n=c[h.action],
d=createPromiseCapability(),h.callbackId?d.promise.then(function(a){k.postMessage({isReply:!0,callbackId:h.callbackId,data:a});k.bq()},function(a){f(a);k.bq()}):d.promise.then(function(){k.bq()},function(){k.bq()}),n[0].call(n[1],h,d)):a.utils.error("Unknown action from worker: "+h.action)};d.addEventListener("message",Y[d])};a.Wv.prototype={on:function(f,d,e){var b=this.Wx;b[f]&&a.utils.error('There is already an actionName called "'+f+'"');b[f]=[d,e]},replace:function(a,d,e){this.Wx[a]=[d,e]},send:function(a,
d){this.postMessage({action:a,data:d})},xm:function(){return this.HE++},Ya:function(a,d,e){var b=this.xm();a={action:a,data:d,callbackId:b,priority:e};d=createPromiseCapability();this.li[b]=d;try{this.postMessage(a)}catch(c){d.reject(c)}return d.promise},Bq:function(a,d,e){var b=this.xm();a={action:a,data:d,callbackId:b,priority:e};d=createPromiseCapability();this.li[b]=d;try{this.postMessage(a)}catch(c){d.reject(c)}return{promise:d.promise,ny:b}},$t:function(f){if(f in this.li)return this.li[f];
a.utils.error("Cannot get promise for callback "+f)},KE:function(f){if(f in this.li){var d=this.li[f];delete this.li[f];d.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:f}})}else a.utils.warn("Cannot cancel callback "+f)},postMessage:function(a){if(this.dn){var d=this.BG(a);this.ag.postMessage(a,d)}else this.ag.postMessage(a)},zz:function(a,d){if("object"===typeof a)if(a instanceof Uint8Array)d.push(a.buffer);else if(a instanceof
ArrayBuffer)d.push(a);else for(prop in a)a.hasOwnProperty(prop)&&this.zz(a[prop],d)},BG:function(a){var d=[];this.zz(a,d);return 0==d.length?void 0:d}}})("undefined"===typeof window?this:window);
var Z=this,aa=function(){function a(a,d,e){var b=this;this.KA=null;this.wh=[];this.im={};createPromiseCapability();this.mK=new Promise(function(c,k){if("undefined"!==typeof Worker)try{var h=new Z.Wv("main",a);h.dn=d;b.ya=h;h.on("test",function(a){a&&a.supportTypedArray?(a.supportTransfers||(h.dn=!1),b.xJ(h),c()):k(new Z.Dr("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))}.bind(b));var g={array:new Uint8Array([255])};try{e&&(g.options=e),h.send("test",g)}catch(l){info("Cannot use postMessage transfers"),
h.dn=!1,g.array[0]=0,h.send("test",g)}return}catch(l){k(new Z.Dr("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}k(new Z.Dr("Can't start a worker","error.WorkerInitError"))})}a.prototype={Fk:0,MJ:1,Qc:2,ph:3,xJ:function(a){this.ya=a;a.on("GetDoc",function(a){var e=a.SH;this.numPages=a.SH.numPages;a=new PDFDocumentProxy(e,this);this.resolve(a)},this);a.on("DocProgress",function(a){this.KA&&this.KA({loaded:a.loaded,total:a.total})},
this);a.on("PageError",function(a){var e=this.wh[a.pageNum-1].$L[a.intent];e.pF?e.pF.reject(a.error):error(a.error)},this);a.on("event",function(a){if(this.im[a.docId])this.im[a.docId](a)},this)},addEventListener:function(a,d){this.im[a]?error("Event listener already set for "+a):this.im[a]=d},OE:function(a){delete this.im[a]},AF:function(a,d,e){return this.ya.Ya("NewDoc",{type:a,value:d,extension:e},this.ph)},oH:function(a,d){var e={array:a,workerPath:Z.o.kk()};d&&(e.l=d);return this.ya.Ya("LoadRes",
e,this.ph)},pH:function(a,d){var e={path:a};d&&(e.l=d);return this.ya.Ya("LoadResFromPath",e,this.ph)},NF:function(a,d,e,b,c,k,h,g){return"undefined"===typeof g?this.ya.Bq("GetCanvas",{docId:a,pageIndex:d,width:e,height:b,rotation:c,layers:k,overprintMode:h},this.Fk):this.ya.Bq("GetCanvasPartial",{docId:a,pageIndex:d,width:e,height:b,rotation:c,layers:k,bbox:[g.x1,g.y1,g.x2,g.y2],overprintMode:h},this.Fk)},OF:function(a,d,e,b,c,k,h,g,l){return"undefined"===typeof g?this.ya.Bq("GetCanvas",{docId:a,
pageIndex:d,width:e,height:b,rotation:c,layers:k,filePath:l,overprintMode:h},this.Fk):this.ya.Bq("GetCanvasPartial",{docId:a,pageIndex:d,width:e,height:b,rotation:c,layers:k,bbox:[g.x1,g.y1,g.x2,g.y2],filePath:l,overprintMode:h},this.Fk)},lz:function(a,d){return"undefined"!=typeof d?this.ya.Ya("GetCanvasProgressive",{callbackId:a,filePath:d},this.Fk):this.ya.Ya("GetCanvasProgressive",{callbackId:a},this.Fk)},je:function(a,d){return this.ya.Ya("LoadText",{docId:a,pageIndex:d},this.MJ)},lH:function(a){return this.ya.Ya("LoadBookmarks",
{docId:a},this.ph)},iA:function(a,d){var e={docId:a};d&&(e.pages=d);return this.ya.Ya("LoadAnnotations",e,this.ph)},Tm:function(a,d){return this.ya.Ya("MergeXFDF",{docId:a,xfdf:d},this.Qc)},AI:function(a,d,e,b){return this.ya.Ya("SaveDoc",{docId:a,xfdfString:d,finishedWithDocument:e,printDocument:b},this.Qc)},BI:function(a,d,e){return this.ya.Ya("SaveDocAs",{docId:a,filePath:d,xfdfString:e},this.Qc)},cK:function(a,d){return this.ya.Ya("UpdatePassword",{docId:a,password:d},this.ph)},Mm:function(a,
d,e,b){return this.ya.Ya("InsertBlankPages",{docId:a,width:e,height:b,pageArray:d},this.Qc)},qk:function(a,d,e,b,c){return this.ya.Ya("InsertPages",{docId:a,doc:d,pageArray:e,destPos:b,insertBookmarks:c},this.Qc)},Um:function(a,d,e){return this.ya.Ya("MovePages",{docId:a,pageArray:d,destPos:e},this.Qc)},Ek:function(a,d){return this.ya.Ya("RemovePages",{docId:a,pageArray:d},this.Qc)},Jk:function(a,d,e){return this.ya.Ya("RotatePages",{docId:a,pageArray:d,rotation:e},this.Qc)},gk:function(a){return this.ya.Ya("GetPDFDoc",
{docId:a},this.Qc)},bk:function(a,d,e){return this.ya.Ya("ExtractPages",{docId:a,pageArray:d,xfdfString:e},this.Qc)},Yj:function(a,d,e,b,c,k){return this.ya.Ya("CropPages",{docId:a,pageArray:d,topMargin:e,botMargin:b,leftMargin:c,rightMargin:k},this.Qc)},Xi:function(a,d){return this.ya.Ya("DownloaderHint",{docId:a,hint:d},this.Qc)},ZG:function(a){return this.ya.Ya("IsLinearized",{docId:a},this.Qc)},fk:function(a){return this.ya.Ya("GetLayers",{docId:a},this.Qc)},ak:function(a,d){return this.ya.Ya("ExtractPDFNetLayersContext",
{docId:a,layers:d},this.Qc)},xm:function(){return this.ya.xm()},eF:function(a){return this.ya.Ya("DeleteDocument",{docId:a},this.Qc)},bv:function(a){return this.ya.Ya("SetColorManagement",{value:a},this.ph)},Eq:function(a){return this.ya.Ya("SetCustomFontURL",{fontURL:a},this.ph)},getWorkerType:function(){return this.ya.ag&&"function"===typeof this.ya.ag.getWorkerType?this.ya.ag.getWorkerType():Z.vC(this.ya.ag)?"ems":"pnacl"},sendWithPromise:function(a,d,e){return this.ya.Ya(a,d,e)},Os:function(a){this.ya.KE(a)}};
return a}();
(function(a){function f(){var a=document.createElement("embed");a.type="application/pdf";a.style.position="fixed";a.style.width="9px";a.style.height="9px";a.style.top="-9990px;";a.style.left="-999px";return a}function d(a,c){for(var d=!1,e=0,f=navigator.plugins;e<f.length;++e){var l=f[e].name;if("Chrome PDF Viewer"===l||"Chromium PDF Viewer"===l){d=!0;break}}d?a():c()}var e;a.isPDFiumSupported=function(){e||(e=new Promise(function(a){d(function(){a(!0)},function(){a(!1)})}));return e};a.pdfiumPrint=
function(a){var c={$j:null,mq:"",handleEvent:function(){var a=c;window.removeEventListener("focus",a);a.$j&&a.$j.remove();a.mq&&URL.revokeObjectURL(a.mq)}};c.mq=URL.createObjectURL(a);c.$j=f();c.$j.src=c.mq;c.$j.addEventListener("message",function(){console.log("I actually got a message")});document.body.appendChild(c.$j);window.addEventListener("focus",c)}})(window);
